<script>
    fetch('data.json')
        .then(response => response.json())
        .then(data => {
            let container = document.getElementById('broadcastList');
            container.innerHTML = '';
            data.forEach(item => {
                let div = document.createElement('div');
                div.classList.add('broadcast');

                // Xử lý nội dung
                let contentHtml = '';
                if (typeof item.Content === 'string' && item.Content.trim().startsWith('f"/')) {
                    // Lấy đường dẫn từ dạng f"/path/to/img.png"
                    let imgPath = item.Content.trim().slice(2, -1); // bỏ f" và "
                    contentHtml = `<img src="${imgPath}" alt="Ảnh" style="max-width: 100%; border: 1px solid #ccc; border-radius: 4px;">`;
                } else {
                    contentHtml = item.Content.replace(/\n/g, '<br>');
                }

                div.innerHTML = `<div class="time">${item.Time}</div><div class="content">${contentHtml}</div>`;
                container.appendChild(div);
            });
        })
        .catch(error => {
            document.getElementById('broadcastList').innerHTML = 'Lỗi khi tải dữ liệu!';
            console.error('Lỗi:', error);
        });
</script>
