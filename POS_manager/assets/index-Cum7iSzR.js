var bv=t=>{throw TypeError(t)};var Yh=(t,e,n)=>e.has(t)||bv("Cannot "+n);var F=(t,e,n)=>(Yh(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?bv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),le=(t,e,n,r)=>(Yh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),wt=(t,e,n)=>(Yh(t,e,"access private method"),n);var Ru=(t,e,n,r)=>({set _(s){le(t,e,s,n)},get _(){return F(t,e,r)}});function VC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function u1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c1={exports:{}},Md={},d1={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=Symbol.for("react.element"),jC=Symbol.for("react.portal"),FC=Symbol.for("react.fragment"),UC=Symbol.for("react.strict_mode"),zC=Symbol.for("react.profiler"),$C=Symbol.for("react.provider"),BC=Symbol.for("react.context"),WC=Symbol.for("react.forward_ref"),HC=Symbol.for("react.suspense"),qC=Symbol.for("react.memo"),KC=Symbol.for("react.lazy"),Cv=Symbol.iterator;function GC(t){return t===null||typeof t!="object"?null:(t=Cv&&t[Cv]||t["@@iterator"],typeof t=="function"?t:null)}var h1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f1=Object.assign,p1={};function ta(t,e,n){this.props=t,this.context=e,this.refs=p1,this.updater=n||h1}ta.prototype.isReactComponent={};ta.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ta.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m1(){}m1.prototype=ta.prototype;function Mm(t,e,n){this.props=t,this.context=e,this.refs=p1,this.updater=n||h1}var Lm=Mm.prototype=new m1;Lm.constructor=Mm;f1(Lm,ta.prototype);Lm.isPureReactComponent=!0;var Av=Array.isArray,g1=Object.prototype.hasOwnProperty,Vm={current:null},y1={key:!0,ref:!0,__self:!0,__source:!0};function v1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)g1.call(e,r)&&!y1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ql,type:t,key:i,ref:o,props:s,_owner:Vm.current}}function QC(t,e){return{$$typeof:Ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ql}function YC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rv=/\/+/g;function Xh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YC(""+t.key):e.toString(36)}function lc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ql:case jC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Xh(o,0):r,Av(s)?(n="",t!=null&&(n=t.replace(Rv,"$&/")+"/"),lc(s,e,n,"",function(c){return c})):s!=null&&(jm(s)&&(s=QC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Rv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Av(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Xh(i,a);o+=lc(i,e,n,u,s)}else if(u=GC(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Xh(i,a++),o+=lc(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pu(t,e,n){if(t==null)return t;var r=[],s=0;return lc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function XC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},uc={transition:null},JC={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:uc,ReactCurrentOwner:Vm};function w1(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Pu,forEach:function(t,e,n){Pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pu(t,function(){e++}),e},toArray:function(t){return Pu(t,function(e){return e})||[]},only:function(t){if(!jm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=ta;fe.Fragment=FC;fe.Profiler=zC;fe.PureComponent=Mm;fe.StrictMode=UC;fe.Suspense=HC;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JC;fe.act=w1;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=f1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Vm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)g1.call(e,u)&&!y1.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ql,type:t.type,key:s,ref:i,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:BC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$C,_context:t},t.Consumer=t};fe.createElement=v1;fe.createFactory=function(t){var e=v1.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:WC,render:t}};fe.isValidElement=jm;fe.lazy=function(t){return{$$typeof:KC,_payload:{_status:-1,_result:t},_init:XC}};fe.memo=function(t,e){return{$$typeof:qC,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=uc.transition;uc.transition={};try{t()}finally{uc.transition=e}};fe.unstable_act=w1;fe.useCallback=function(t,e){return Mt.current.useCallback(t,e)};fe.useContext=function(t){return Mt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Mt.current.useEffect(t,e)};fe.useId=function(){return Mt.current.useId()};fe.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Mt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};fe.useRef=function(t){return Mt.current.useRef(t)};fe.useState=function(t){return Mt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Mt.current.useTransition()};fe.version="18.3.1";d1.exports=fe;var I=d1.exports;const H=u1(I),Fm=VC({__proto__:null,default:H},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC=I,eA=Symbol.for("react.element"),tA=Symbol.for("react.fragment"),nA=Object.prototype.hasOwnProperty,rA=ZC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sA={key:!0,ref:!0,__self:!0,__source:!0};function _1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nA.call(e,r)&&!sA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:eA,type:t,key:i,ref:o,props:s,_owner:rA.current}}Md.Fragment=tA;Md.jsx=_1;Md.jsxs=_1;c1.exports=Md;var v=c1.exports,E1={exports:{}},rn={},T1={exports:{}},x1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,z){var K=j.length;j.push(z);e:for(;0<K;){var re=K-1>>>1,X=j[re];if(0<s(X,z))j[re]=z,j[K]=X,K=re;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],K=j.pop();if(K!==z){j[0]=K;e:for(var re=0,X=j.length,de=X>>>1;re<de;){var ue=2*(re+1)-1,Oe=j[ue],Ge=ue+1,ye=j[Ge];if(0>s(Oe,K))Ge<X&&0>s(ye,Oe)?(j[re]=ye,j[Ge]=K,re=Ge):(j[re]=Oe,j[ue]=K,re=ue);else if(Ge<X&&0>s(ye,K))j[re]=ye,j[Ge]=K,re=Ge;else break e}}return z}function s(j,z){var K=j.sortIndex-z.sortIndex;return K!==0?K:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,h=null,p=3,m=!1,x=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(j){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=j)r(c),z.sortIndex=z.expirationTime,e(u,z);else break;z=n(c)}}function D(j){if(y=!1,b(j),!x)if(n(u)!==null)x=!0,te(O);else{var z=n(c);z!==null&&oe(D,z.startTime-j)}}function O(j,z){x=!1,y&&(y=!1,_(S),S=-1),m=!0;var K=p;try{for(b(z),h=n(u);h!==null&&(!(h.expirationTime>z)||j&&!k());){var re=h.callback;if(typeof re=="function"){h.callback=null,p=h.priorityLevel;var X=re(h.expirationTime<=z);z=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(u)&&r(u),b(z)}else r(u);h=n(u)}if(h!==null)var de=!0;else{var ue=n(c);ue!==null&&oe(D,ue.startTime-z),de=!1}return de}finally{h=null,p=K,m=!1}}var M=!1,E=null,S=-1,A=5,R=-1;function k(){return!(t.unstable_now()-R<A)}function N(){if(E!==null){var j=t.unstable_now();R=j;var z=!0;try{z=E(!0,j)}finally{z?P():(M=!1,E=null)}}else M=!1}var P;if(typeof w=="function")P=function(){w(N)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ie=W.port2;W.port1.onmessage=N,P=function(){ie.postMessage(null)}}else P=function(){T(N,0)};function te(j){E=j,M||(M=!0,P())}function oe(j,z){S=T(function(){j(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,te(O))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var K=p;p=z;try{return j()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=p;p=j;try{return z()}finally{p=K}},t.unstable_scheduleCallback=function(j,z,K){var re=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=K+X,j={id:d++,callback:z,priorityLevel:j,startTime:K,expirationTime:X,sortIndex:-1},K>re?(j.sortIndex=K,e(c,j),n(u)===null&&j===n(c)&&(y?(_(S),S=-1):y=!0,oe(D,K-re))):(j.sortIndex=X,e(u,j),x||m||(x=!0,te(O))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var z=p;return function(){var K=p;p=z;try{return j.apply(this,arguments)}finally{p=K}}}})(x1);T1.exports=x1;var iA=T1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oA=I,nn=iA;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S1=new Set,hl={};function ji(t,e){Fo(t,e),Fo(t+"Capture",e)}function Fo(t,e){for(hl[t]=e,t=0;t<e.length;t++)S1.add(e[t])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ep=Object.prototype.hasOwnProperty,aA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pv={},kv={};function lA(t){return ep.call(kv,t)?!0:ep.call(Pv,t)?!1:aA.test(t)?kv[t]=!0:(Pv[t]=!0,!1)}function uA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cA(t,e,n,r){if(e===null||typeof e>"u"||uA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Um=/[\-:]([a-z])/g;function zm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Um,zm);gt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Um,zm);gt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Um,zm);gt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function $m(t,e,n,r){var s=gt.hasOwnProperty(e)?gt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cA(e,n,s,r)&&(n=null),r||s===null?lA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Br=oA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ku=Symbol.for("react.element"),ro=Symbol.for("react.portal"),so=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),tp=Symbol.for("react.profiler"),I1=Symbol.for("react.provider"),b1=Symbol.for("react.context"),Wm=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),rp=Symbol.for("react.suspense_list"),Hm=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),C1=Symbol.for("react.offscreen"),Nv=Symbol.iterator;function ka(t){return t===null||typeof t!="object"?null:(t=Nv&&t[Nv]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,Jh;function $a(t){if(Jh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jh=e&&e[1]||""}return`
`+Jh+t}var Zh=!1;function ef(t,e){if(!t||Zh)return"";Zh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Zh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$a(t):""}function dA(t){switch(t.tag){case 5:return $a(t.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return t=ef(t.type,!1),t;case 11:return t=ef(t.type.render,!1),t;case 1:return t=ef(t.type,!0),t;default:return""}}function sp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case so:return"Fragment";case ro:return"Portal";case tp:return"Profiler";case Bm:return"StrictMode";case np:return"Suspense";case rp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b1:return(t.displayName||"Context")+".Consumer";case I1:return(t._context.displayName||"Context")+".Provider";case Wm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hm:return e=t.displayName||null,e!==null?e:sp(t.type)||"Memo";case os:e=t._payload,t=t._init;try{return sp(t(e))}catch{}}return null}function hA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sp(e);case 8:return e===Bm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ls(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fA(t){var e=A1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nu(t){t._valueTracker||(t._valueTracker=fA(t))}function R1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=A1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ip(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ls(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function P1(t,e){e=e.checked,e!=null&&$m(t,"checked",e,!1)}function op(t,e){P1(t,e);var n=Ls(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ap(t,e.type,n):e.hasOwnProperty("defaultValue")&&ap(t,e.type,Ls(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ov(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ap(t,e,n){(e!=="number"||Lc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ba=Array.isArray;function go(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ls(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function lp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Ba(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ls(n)}}function k1(t,e){var n=Ls(e.value),r=Ls(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Lv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function N1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function up(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?N1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Du,D1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Du=Du||document.createElement("div"),Du.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Du.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pA=["Webkit","ms","Moz","O"];Object.keys(Ya).forEach(function(t){pA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ya[e]=Ya[t]})});function O1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ya.hasOwnProperty(t)&&Ya[t]?(""+e).trim():e+"px"}function M1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=O1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var mA=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cp(t,e){if(e){if(mA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function dp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hp=null;function qm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fp=null,yo=null,vo=null;function Vv(t){if(t=Jl(t)){if(typeof fp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Ud(e),fp(t.stateNode,t.type,e))}}function L1(t){yo?vo?vo.push(t):vo=[t]:yo=t}function V1(){if(yo){var t=yo,e=vo;if(vo=yo=null,Vv(t),e)for(t=0;t<e.length;t++)Vv(e[t])}}function j1(t,e){return t(e)}function F1(){}var tf=!1;function U1(t,e,n){if(tf)return t(e,n);tf=!0;try{return j1(t,e,n)}finally{tf=!1,(yo!==null||vo!==null)&&(F1(),V1())}}function pl(t,e){var n=t.stateNode;if(n===null)return null;var r=Ud(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var pp=!1;if(Nr)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){pp=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{pp=!1}function gA(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Xa=!1,Vc=null,jc=!1,mp=null,yA={onError:function(t){Xa=!0,Vc=t}};function vA(t,e,n,r,s,i,o,a,u){Xa=!1,Vc=null,gA.apply(yA,arguments)}function wA(t,e,n,r,s,i,o,a,u){if(vA.apply(this,arguments),Xa){if(Xa){var c=Vc;Xa=!1,Vc=null}else throw Error(B(198));jc||(jc=!0,mp=c)}}function Fi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function z1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jv(t){if(Fi(t)!==t)throw Error(B(188))}function _A(t){var e=t.alternate;if(!e){if(e=Fi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return jv(s),t;if(i===r)return jv(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function $1(t){return t=_A(t),t!==null?B1(t):null}function B1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=B1(t);if(e!==null)return e;t=t.sibling}return null}var W1=nn.unstable_scheduleCallback,Fv=nn.unstable_cancelCallback,EA=nn.unstable_shouldYield,TA=nn.unstable_requestPaint,qe=nn.unstable_now,xA=nn.unstable_getCurrentPriorityLevel,Km=nn.unstable_ImmediatePriority,H1=nn.unstable_UserBlockingPriority,Fc=nn.unstable_NormalPriority,SA=nn.unstable_LowPriority,q1=nn.unstable_IdlePriority,Ld=null,rr=null;function IA(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(Ld,t,void 0,(t.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:AA,bA=Math.log,CA=Math.LN2;function AA(t){return t>>>=0,t===0?32:31-(bA(t)/CA|0)|0}var Ou=64,Mu=4194304;function Wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Wa(a):(i&=o,i!==0&&(r=Wa(i)))}else o=n&~s,o!==0?r=Wa(o):i!==0&&(r=Wa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nn(e),s=1<<n,r|=t[n],e&=~s;return r}function RA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Nn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=RA(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function gp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function K1(){var t=Ou;return Ou<<=1,!(Ou&4194240)&&(Ou=64),t}function nf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nn(e),t[e]=n}function kA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Nn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Gm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xe=0;function G1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Q1,Qm,Y1,X1,J1,yp=!1,Lu=[],Ts=null,xs=null,Ss=null,ml=new Map,gl=new Map,ls=[],NA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uv(t,e){switch(t){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":ml.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(e.pointerId)}}function Da(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Jl(e),e!==null&&Qm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function DA(t,e,n,r,s){switch(e){case"focusin":return Ts=Da(Ts,t,e,n,r,s),!0;case"dragenter":return xs=Da(xs,t,e,n,r,s),!0;case"mouseover":return Ss=Da(Ss,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ml.set(i,Da(ml.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gl.set(i,Da(gl.get(i)||null,t,e,n,r,s)),!0}return!1}function Z1(t){var e=ui(t.target);if(e!==null){var n=Fi(e);if(n!==null){if(e=n.tag,e===13){if(e=z1(n),e!==null){t.blockedOn=e,J1(t.priority,function(){Y1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hp=r,n.target.dispatchEvent(r),hp=null}else return e=Jl(n),e!==null&&Qm(e),t.blockedOn=n,!1;e.shift()}return!0}function zv(t,e,n){cc(t)&&n.delete(e)}function OA(){yp=!1,Ts!==null&&cc(Ts)&&(Ts=null),xs!==null&&cc(xs)&&(xs=null),Ss!==null&&cc(Ss)&&(Ss=null),ml.forEach(zv),gl.forEach(zv)}function Oa(t,e){t.blockedOn===e&&(t.blockedOn=null,yp||(yp=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,OA)))}function yl(t){function e(s){return Oa(s,t)}if(0<Lu.length){Oa(Lu[0],t);for(var n=1;n<Lu.length;n++){var r=Lu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ts!==null&&Oa(Ts,t),xs!==null&&Oa(xs,t),Ss!==null&&Oa(Ss,t),ml.forEach(e),gl.forEach(e),n=0;n<ls.length;n++)r=ls[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ls.length&&(n=ls[0],n.blockedOn===null);)Z1(n),n.blockedOn===null&&ls.shift()}var wo=Br.ReactCurrentBatchConfig,zc=!0;function MA(t,e,n,r){var s=xe,i=wo.transition;wo.transition=null;try{xe=1,Ym(t,e,n,r)}finally{xe=s,wo.transition=i}}function LA(t,e,n,r){var s=xe,i=wo.transition;wo.transition=null;try{xe=4,Ym(t,e,n,r)}finally{xe=s,wo.transition=i}}function Ym(t,e,n,r){if(zc){var s=vp(t,e,n,r);if(s===null)ff(t,e,r,$c,n),Uv(t,r);else if(DA(s,t,e,n,r))r.stopPropagation();else if(Uv(t,r),e&4&&-1<NA.indexOf(t)){for(;s!==null;){var i=Jl(s);if(i!==null&&Q1(i),i=vp(t,e,n,r),i===null&&ff(t,e,r,$c,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ff(t,e,r,null,n)}}var $c=null;function vp(t,e,n,r){if($c=null,t=qm(r),t=ui(t),t!==null)if(e=Fi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=z1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $c=t,null}function eE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xA()){case Km:return 1;case H1:return 4;case Fc:case SA:return 16;case q1:return 536870912;default:return 16}default:return 16}}var vs=null,Xm=null,dc=null;function tE(){if(dc)return dc;var t,e=Xm,n=e.length,r,s="value"in vs?vs.value:vs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return dc=s.slice(t,1<r?1-r:void 0)}function hc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vu(){return!0}function $v(){return!1}function sn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vu:$v,this.isPropagationStopped=$v,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),e}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jm=sn(na),Xl=Ue({},na,{view:0,detail:0}),VA=sn(Xl),rf,sf,Ma,Vd=Ue({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ma&&(Ma&&t.type==="mousemove"?(rf=t.screenX-Ma.screenX,sf=t.screenY-Ma.screenY):sf=rf=0,Ma=t),rf)},movementY:function(t){return"movementY"in t?t.movementY:sf}}),Bv=sn(Vd),jA=Ue({},Vd,{dataTransfer:0}),FA=sn(jA),UA=Ue({},Xl,{relatedTarget:0}),of=sn(UA),zA=Ue({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),$A=sn(zA),BA=Ue({},na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WA=sn(BA),HA=Ue({},na,{data:0}),Wv=sn(HA),qA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GA[t])?!!e[t]:!1}function Zm(){return QA}var YA=Ue({},Xl,{key:function(t){if(t.key){var e=qA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zm,charCode:function(t){return t.type==="keypress"?hc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XA=sn(YA),JA=Ue({},Vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hv=sn(JA),ZA=Ue({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zm}),eR=sn(ZA),tR=Ue({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),nR=sn(tR),rR=Ue({},Vd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sR=sn(rR),iR=[9,13,27,32],eg=Nr&&"CompositionEvent"in window,Ja=null;Nr&&"documentMode"in document&&(Ja=document.documentMode);var oR=Nr&&"TextEvent"in window&&!Ja,nE=Nr&&(!eg||Ja&&8<Ja&&11>=Ja),qv=" ",Kv=!1;function rE(t,e){switch(t){case"keyup":return iR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var io=!1;function aR(t,e){switch(t){case"compositionend":return sE(e);case"keypress":return e.which!==32?null:(Kv=!0,qv);case"textInput":return t=e.data,t===qv&&Kv?null:t;default:return null}}function lR(t,e){if(io)return t==="compositionend"||!eg&&rE(t,e)?(t=tE(),dc=Xm=vs=null,io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nE&&e.locale!=="ko"?null:e.data;default:return null}}var uR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uR[t.type]:e==="textarea"}function iE(t,e,n,r){L1(r),e=Bc(e,"onChange"),0<e.length&&(n=new Jm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Za=null,vl=null;function cR(t){gE(t,0)}function jd(t){var e=lo(t);if(R1(e))return t}function dR(t,e){if(t==="change")return e}var oE=!1;if(Nr){var af;if(Nr){var lf="oninput"in document;if(!lf){var Qv=document.createElement("div");Qv.setAttribute("oninput","return;"),lf=typeof Qv.oninput=="function"}af=lf}else af=!1;oE=af&&(!document.documentMode||9<document.documentMode)}function Yv(){Za&&(Za.detachEvent("onpropertychange",aE),vl=Za=null)}function aE(t){if(t.propertyName==="value"&&jd(vl)){var e=[];iE(e,vl,t,qm(t)),U1(cR,e)}}function hR(t,e,n){t==="focusin"?(Yv(),Za=e,vl=n,Za.attachEvent("onpropertychange",aE)):t==="focusout"&&Yv()}function fR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jd(vl)}function pR(t,e){if(t==="click")return jd(e)}function mR(t,e){if(t==="input"||t==="change")return jd(e)}function gR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ln=typeof Object.is=="function"?Object.is:gR;function wl(t,e){if(Ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ep.call(e,s)||!Ln(t[s],e[s]))return!1}return!0}function Xv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jv(t,e){var n=Xv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xv(n)}}function lE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uE(){for(var t=window,e=Lc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lc(t.document)}return e}function tg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yR(t){var e=uE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lE(n.ownerDocument.documentElement,n)){if(r!==null&&tg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Jv(n,i);var o=Jv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vR=Nr&&"documentMode"in document&&11>=document.documentMode,oo=null,wp=null,el=null,_p=!1;function Zv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_p||oo==null||oo!==Lc(r)||(r=oo,"selectionStart"in r&&tg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&wl(el,r)||(el=r,r=Bc(wp,"onSelect"),0<r.length&&(e=new Jm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oo)))}function ju(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ao={animationend:ju("Animation","AnimationEnd"),animationiteration:ju("Animation","AnimationIteration"),animationstart:ju("Animation","AnimationStart"),transitionend:ju("Transition","TransitionEnd")},uf={},cE={};Nr&&(cE=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function Fd(t){if(uf[t])return uf[t];if(!ao[t])return t;var e=ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cE)return uf[t]=e[n];return t}var dE=Fd("animationend"),hE=Fd("animationiteration"),fE=Fd("animationstart"),pE=Fd("transitionend"),mE=new Map,e0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(t,e){mE.set(t,e),ji(e,[t])}for(var cf=0;cf<e0.length;cf++){var df=e0[cf],wR=df.toLowerCase(),_R=df[0].toUpperCase()+df.slice(1);Ks(wR,"on"+_R)}Ks(dE,"onAnimationEnd");Ks(hE,"onAnimationIteration");Ks(fE,"onAnimationStart");Ks("dblclick","onDoubleClick");Ks("focusin","onFocus");Ks("focusout","onBlur");Ks(pE,"onTransitionEnd");Fo("onMouseEnter",["mouseout","mouseover"]);Fo("onMouseLeave",["mouseout","mouseover"]);Fo("onPointerEnter",["pointerout","pointerover"]);Fo("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ER=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function t0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wA(r,e,void 0,t),t.currentTarget=null}function gE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;t0(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;t0(s,a,c),i=u}}}if(jc)throw t=mp,jc=!1,mp=null,t}function Pe(t,e){var n=e[Ip];n===void 0&&(n=e[Ip]=new Set);var r=t+"__bubble";n.has(r)||(yE(e,t,2,!1),n.add(r))}function hf(t,e,n){var r=0;e&&(r|=4),yE(n,t,r,e)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function _l(t){if(!t[Fu]){t[Fu]=!0,S1.forEach(function(n){n!=="selectionchange"&&(ER.has(n)||hf(n,!1,t),hf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fu]||(e[Fu]=!0,hf("selectionchange",!1,e))}}function yE(t,e,n,r){switch(eE(e)){case 1:var s=MA;break;case 4:s=LA;break;default:s=Ym}n=s.bind(null,e,n,t),s=void 0,!pp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ff(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ui(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}U1(function(){var c=i,d=qm(n),h=[];e:{var p=mE.get(t);if(p!==void 0){var m=Jm,x=t;switch(t){case"keypress":if(hc(n)===0)break e;case"keydown":case"keyup":m=XA;break;case"focusin":x="focus",m=of;break;case"focusout":x="blur",m=of;break;case"beforeblur":case"afterblur":m=of;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Bv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=FA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=eR;break;case dE:case hE:case fE:m=$A;break;case pE:m=nR;break;case"scroll":m=VA;break;case"wheel":m=sR;break;case"copy":case"cut":case"paste":m=WA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Hv}var y=(e&4)!==0,T=!y&&t==="scroll",_=y?p!==null?p+"Capture":null:p;y=[];for(var w=c,b;w!==null;){b=w;var D=b.stateNode;if(b.tag===5&&D!==null&&(b=D,_!==null&&(D=pl(w,_),D!=null&&y.push(El(w,D,b)))),T)break;w=w.return}0<y.length&&(p=new m(p,x,null,n,d),h.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==hp&&(x=n.relatedTarget||n.fromElement)&&(ui(x)||x[Dr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?ui(x):null,x!==null&&(T=Fi(x),x!==T||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(y=Bv,D="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=Hv,D="onPointerLeave",_="onPointerEnter",w="pointer"),T=m==null?p:lo(m),b=x==null?p:lo(x),p=new y(D,w+"leave",m,n,d),p.target=T,p.relatedTarget=b,D=null,ui(d)===c&&(y=new y(_,w+"enter",x,n,d),y.target=b,y.relatedTarget=T,D=y),T=D,m&&x)t:{for(y=m,_=x,w=0,b=y;b;b=Gi(b))w++;for(b=0,D=_;D;D=Gi(D))b++;for(;0<w-b;)y=Gi(y),w--;for(;0<b-w;)_=Gi(_),b--;for(;w--;){if(y===_||_!==null&&y===_.alternate)break t;y=Gi(y),_=Gi(_)}y=null}else y=null;m!==null&&n0(h,p,m,y,!1),x!==null&&T!==null&&n0(h,T,x,y,!0)}}e:{if(p=c?lo(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=dR;else if(Gv(p))if(oE)O=mR;else{O=fR;var M=hR}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=pR);if(O&&(O=O(t,c))){iE(h,O,n,d);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&ap(p,"number",p.value)}switch(M=c?lo(c):window,t){case"focusin":(Gv(M)||M.contentEditable==="true")&&(oo=M,wp=c,el=null);break;case"focusout":el=wp=oo=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,Zv(h,n,d);break;case"selectionchange":if(vR)break;case"keydown":case"keyup":Zv(h,n,d)}var E;if(eg)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else io?rE(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(nE&&n.locale!=="ko"&&(io||S!=="onCompositionStart"?S==="onCompositionEnd"&&io&&(E=tE()):(vs=d,Xm="value"in vs?vs.value:vs.textContent,io=!0)),M=Bc(c,S),0<M.length&&(S=new Wv(S,t,null,n,d),h.push({event:S,listeners:M}),E?S.data=E:(E=sE(n),E!==null&&(S.data=E)))),(E=oR?aR(t,n):lR(t,n))&&(c=Bc(c,"onBeforeInput"),0<c.length&&(d=new Wv("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=E))}gE(h,e)})}function El(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pl(t,n),i!=null&&r.unshift(El(t,i,s)),i=pl(t,e),i!=null&&r.push(El(t,i,s))),t=t.return}return r}function Gi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function n0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=pl(n,i),u!=null&&o.unshift(El(n,u,a))):s||(u=pl(n,i),u!=null&&o.push(El(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TR=/\r\n?/g,xR=/\u0000|\uFFFD/g;function r0(t){return(typeof t=="string"?t:""+t).replace(TR,`
`).replace(xR,"")}function Uu(t,e,n){if(e=r0(e),r0(t)!==e&&n)throw Error(B(425))}function Wc(){}var Ep=null,Tp=null;function xp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sp=typeof setTimeout=="function"?setTimeout:void 0,SR=typeof clearTimeout=="function"?clearTimeout:void 0,s0=typeof Promise=="function"?Promise:void 0,IR=typeof queueMicrotask=="function"?queueMicrotask:typeof s0<"u"?function(t){return s0.resolve(null).then(t).catch(bR)}:Sp;function bR(t){setTimeout(function(){throw t})}function pf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),yl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);yl(e)}function Is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function i0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ra=Math.random().toString(36).slice(2),er="__reactFiber$"+ra,Tl="__reactProps$"+ra,Dr="__reactContainer$"+ra,Ip="__reactEvents$"+ra,CR="__reactListeners$"+ra,AR="__reactHandles$"+ra;function ui(t){var e=t[er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dr]||n[er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=i0(t);t!==null;){if(n=t[er])return n;t=i0(t)}return e}t=n,n=t.parentNode}return null}function Jl(t){return t=t[er]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Ud(t){return t[Tl]||null}var bp=[],uo=-1;function Gs(t){return{current:t}}function De(t){0>uo||(t.current=bp[uo],bp[uo]=null,uo--)}function Ce(t,e){uo++,bp[uo]=t.current,t.current=e}var Vs={},Ct=Gs(Vs),Ht=Gs(!1),Ii=Vs;function Uo(t,e){var n=t.type.contextTypes;if(!n)return Vs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function qt(t){return t=t.childContextTypes,t!=null}function Hc(){De(Ht),De(Ct)}function o0(t,e,n){if(Ct.current!==Vs)throw Error(B(168));Ce(Ct,e),Ce(Ht,n)}function vE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,hA(t)||"Unknown",s));return Ue({},n,r)}function qc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vs,Ii=Ct.current,Ce(Ct,t),Ce(Ht,Ht.current),!0}function a0(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=vE(t,e,Ii),r.__reactInternalMemoizedMergedChildContext=t,De(Ht),De(Ct),Ce(Ct,t)):De(Ht),Ce(Ht,n)}var xr=null,zd=!1,mf=!1;function wE(t){xr===null?xr=[t]:xr.push(t)}function RR(t){zd=!0,wE(t)}function Qs(){if(!mf&&xr!==null){mf=!0;var t=0,e=xe;try{var n=xr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,zd=!1}catch(s){throw xr!==null&&(xr=xr.slice(t+1)),W1(Km,Qs),s}finally{xe=e,mf=!1}}return null}var co=[],ho=0,Kc=null,Gc=0,un=[],cn=0,bi=null,br=1,Cr="";function oi(t,e){co[ho++]=Gc,co[ho++]=Kc,Kc=t,Gc=e}function _E(t,e,n){un[cn++]=br,un[cn++]=Cr,un[cn++]=bi,bi=t;var r=br;t=Cr;var s=32-Nn(r)-1;r&=~(1<<s),n+=1;var i=32-Nn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,br=1<<32-Nn(e)+s|n<<s|r,Cr=i+t}else br=1<<i|n<<s|r,Cr=t}function ng(t){t.return!==null&&(oi(t,1),_E(t,1,0))}function rg(t){for(;t===Kc;)Kc=co[--ho],co[ho]=null,Gc=co[--ho],co[ho]=null;for(;t===bi;)bi=un[--cn],un[cn]=null,Cr=un[--cn],un[cn]=null,br=un[--cn],un[cn]=null}var en=null,Jt=null,Me=!1,Rn=null;function EE(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function l0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Jt=Is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bi!==null?{id:br,overflow:Cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Jt=null,!0):!1;default:return!1}}function Cp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ap(t){if(Me){var e=Jt;if(e){var n=e;if(!l0(t,e)){if(Cp(t))throw Error(B(418));e=Is(n.nextSibling);var r=en;e&&l0(t,e)?EE(r,n):(t.flags=t.flags&-4097|2,Me=!1,en=t)}}else{if(Cp(t))throw Error(B(418));t.flags=t.flags&-4097|2,Me=!1,en=t}}}function u0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function zu(t){if(t!==en)return!1;if(!Me)return u0(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xp(t.type,t.memoizedProps)),e&&(e=Jt)){if(Cp(t))throw TE(),Error(B(418));for(;e;)EE(t,e),e=Is(e.nextSibling)}if(u0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=Is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=en?Is(t.stateNode.nextSibling):null;return!0}function TE(){for(var t=Jt;t;)t=Is(t.nextSibling)}function zo(){Jt=en=null,Me=!1}function sg(t){Rn===null?Rn=[t]:Rn.push(t)}var PR=Br.ReactCurrentBatchConfig;function La(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function $u(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function c0(t){var e=t._init;return e(t._payload)}function xE(t){function e(_,w){if(t){var b=_.deletions;b===null?(_.deletions=[w],_.flags|=16):b.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function s(_,w){return _=Rs(_,w),_.index=0,_.sibling=null,_}function i(_,w,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<w?(_.flags|=2,w):b):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,b,D){return w===null||w.tag!==6?(w=Tf(b,_.mode,D),w.return=_,w):(w=s(w,b),w.return=_,w)}function u(_,w,b,D){var O=b.type;return O===so?d(_,w,b.props.children,D,b.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===os&&c0(O)===w.type)?(D=s(w,b.props),D.ref=La(_,w,b),D.return=_,D):(D=wc(b.type,b.key,b.props,null,_.mode,D),D.ref=La(_,w,b),D.return=_,D)}function c(_,w,b,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=xf(b,_.mode,D),w.return=_,w):(w=s(w,b.children||[]),w.return=_,w)}function d(_,w,b,D,O){return w===null||w.tag!==7?(w=Ei(b,_.mode,D,O),w.return=_,w):(w=s(w,b),w.return=_,w)}function h(_,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Tf(""+w,_.mode,b),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ku:return b=wc(w.type,w.key,w.props,null,_.mode,b),b.ref=La(_,null,w),b.return=_,b;case ro:return w=xf(w,_.mode,b),w.return=_,w;case os:var D=w._init;return h(_,D(w._payload),b)}if(Ba(w)||ka(w))return w=Ei(w,_.mode,b,null),w.return=_,w;$u(_,w)}return null}function p(_,w,b,D){var O=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return O!==null?null:a(_,w,""+b,D);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ku:return b.key===O?u(_,w,b,D):null;case ro:return b.key===O?c(_,w,b,D):null;case os:return O=b._init,p(_,w,O(b._payload),D)}if(Ba(b)||ka(b))return O!==null?null:d(_,w,b,D,null);$u(_,b)}return null}function m(_,w,b,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return _=_.get(b)||null,a(w,_,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ku:return _=_.get(D.key===null?b:D.key)||null,u(w,_,D,O);case ro:return _=_.get(D.key===null?b:D.key)||null,c(w,_,D,O);case os:var M=D._init;return m(_,w,b,M(D._payload),O)}if(Ba(D)||ka(D))return _=_.get(b)||null,d(w,_,D,O,null);$u(w,D)}return null}function x(_,w,b,D){for(var O=null,M=null,E=w,S=w=0,A=null;E!==null&&S<b.length;S++){E.index>S?(A=E,E=null):A=E.sibling;var R=p(_,E,b[S],D);if(R===null){E===null&&(E=A);break}t&&E&&R.alternate===null&&e(_,E),w=i(R,w,S),M===null?O=R:M.sibling=R,M=R,E=A}if(S===b.length)return n(_,E),Me&&oi(_,S),O;if(E===null){for(;S<b.length;S++)E=h(_,b[S],D),E!==null&&(w=i(E,w,S),M===null?O=E:M.sibling=E,M=E);return Me&&oi(_,S),O}for(E=r(_,E);S<b.length;S++)A=m(E,_,S,b[S],D),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?S:A.key),w=i(A,w,S),M===null?O=A:M.sibling=A,M=A);return t&&E.forEach(function(k){return e(_,k)}),Me&&oi(_,S),O}function y(_,w,b,D){var O=ka(b);if(typeof O!="function")throw Error(B(150));if(b=O.call(b),b==null)throw Error(B(151));for(var M=O=null,E=w,S=w=0,A=null,R=b.next();E!==null&&!R.done;S++,R=b.next()){E.index>S?(A=E,E=null):A=E.sibling;var k=p(_,E,R.value,D);if(k===null){E===null&&(E=A);break}t&&E&&k.alternate===null&&e(_,E),w=i(k,w,S),M===null?O=k:M.sibling=k,M=k,E=A}if(R.done)return n(_,E),Me&&oi(_,S),O;if(E===null){for(;!R.done;S++,R=b.next())R=h(_,R.value,D),R!==null&&(w=i(R,w,S),M===null?O=R:M.sibling=R,M=R);return Me&&oi(_,S),O}for(E=r(_,E);!R.done;S++,R=b.next())R=m(E,_,S,R.value,D),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?S:R.key),w=i(R,w,S),M===null?O=R:M.sibling=R,M=R);return t&&E.forEach(function(N){return e(_,N)}),Me&&oi(_,S),O}function T(_,w,b,D){if(typeof b=="object"&&b!==null&&b.type===so&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ku:e:{for(var O=b.key,M=w;M!==null;){if(M.key===O){if(O=b.type,O===so){if(M.tag===7){n(_,M.sibling),w=s(M,b.props.children),w.return=_,_=w;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===os&&c0(O)===M.type){n(_,M.sibling),w=s(M,b.props),w.ref=La(_,M,b),w.return=_,_=w;break e}n(_,M);break}else e(_,M);M=M.sibling}b.type===so?(w=Ei(b.props.children,_.mode,D,b.key),w.return=_,_=w):(D=wc(b.type,b.key,b.props,null,_.mode,D),D.ref=La(_,w,b),D.return=_,_=D)}return o(_);case ro:e:{for(M=b.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(_,w.sibling),w=s(w,b.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=xf(b,_.mode,D),w.return=_,_=w}return o(_);case os:return M=b._init,T(_,w,M(b._payload),D)}if(Ba(b))return x(_,w,b,D);if(ka(b))return y(_,w,b,D);$u(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(_,w.sibling),w=s(w,b),w.return=_,_=w):(n(_,w),w=Tf(b,_.mode,D),w.return=_,_=w),o(_)):n(_,w)}return T}var $o=xE(!0),SE=xE(!1),Qc=Gs(null),Yc=null,fo=null,ig=null;function og(){ig=fo=Yc=null}function ag(t){var e=Qc.current;De(Qc),t._currentValue=e}function Rp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _o(t,e){Yc=t,ig=fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wt=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(ig!==t)if(t={context:t,memoizedValue:e,next:null},fo===null){if(Yc===null)throw Error(B(308));fo=t,Yc.dependencies={lanes:0,firstContext:t}}else fo=fo.next=t;return e}var ci=null;function lg(t){ci===null?ci=[t]:ci.push(t)}function IE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,lg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Or(t,r)}function Or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var as=!1;function ug(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Or(t,n)}return s=r.interleaved,s===null?(e.next=e,lg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Or(t,n)}function fc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gm(t,n)}}function d0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xc(t,e,n,r){var s=t.updateQueue;as=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,y=a;switch(p=e,m=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){h=x.call(m,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,p=typeof x=="function"?x.call(m,h,p):x,p==null)break e;h=Ue({},h,p);break e;case 2:as=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,u=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ai|=o,t.lanes=o,t.memoizedState=h}}function h0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Zl={},sr=Gs(Zl),xl=Gs(Zl),Sl=Gs(Zl);function di(t){if(t===Zl)throw Error(B(174));return t}function cg(t,e){switch(Ce(Sl,e),Ce(xl,t),Ce(sr,Zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:up(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=up(e,t)}De(sr),Ce(sr,e)}function Bo(){De(sr),De(xl),De(Sl)}function CE(t){di(Sl.current);var e=di(sr.current),n=up(e,t.type);e!==n&&(Ce(xl,t),Ce(sr,n))}function dg(t){xl.current===t&&(De(sr),De(xl))}var je=Gs(0);function Jc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gf=[];function hg(){for(var t=0;t<gf.length;t++)gf[t]._workInProgressVersionPrimary=null;gf.length=0}var pc=Br.ReactCurrentDispatcher,yf=Br.ReactCurrentBatchConfig,Ci=0,Fe=null,nt=null,ct=null,Zc=!1,tl=!1,Il=0,kR=0;function _t(){throw Error(B(321))}function fg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ln(t[n],e[n]))return!1;return!0}function pg(t,e,n,r,s,i){if(Ci=i,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pc.current=t===null||t.memoizedState===null?MR:LR,t=n(r,s),tl){i=0;do{if(tl=!1,Il=0,25<=i)throw Error(B(301));i+=1,ct=nt=null,e.updateQueue=null,pc.current=VR,t=n(r,s)}while(tl)}if(pc.current=ed,e=nt!==null&&nt.next!==null,Ci=0,ct=nt=Fe=null,Zc=!1,e)throw Error(B(300));return t}function mg(){var t=Il!==0;return Il=0,t}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Fe.memoizedState=ct=t:ct=ct.next=t,ct}function yn(){if(nt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=ct===null?Fe.memoizedState:ct.next;if(e!==null)ct=e,nt=t;else{if(t===null)throw Error(B(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ct===null?Fe.memoizedState=ct=t:ct=ct.next=t}return ct}function bl(t,e){return typeof e=="function"?e(t):e}function vf(t){var e=yn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=nt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((Ci&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,Fe.lanes|=d,Ai|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,Ln(r,e.memoizedState)||(Wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Fe.lanes|=i,Ai|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wf(t){var e=yn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ln(i,e.memoizedState)||(Wt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function AE(){}function RE(t,e){var n=Fe,r=yn(),s=e(),i=!Ln(r.memoizedState,s);if(i&&(r.memoizedState=s,Wt=!0),r=r.queue,gg(NE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,Cl(9,kE.bind(null,n,r,s,e),void 0,null),dt===null)throw Error(B(349));Ci&30||PE(n,e,s)}return s}function PE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kE(t,e,n,r){e.value=n,e.getSnapshot=r,DE(e)&&OE(t)}function NE(t,e,n){return n(function(){DE(e)&&OE(t)})}function DE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ln(t,n)}catch{return!0}}function OE(t){var e=Or(t,1);e!==null&&Dn(e,t,1,-1)}function f0(t){var e=Qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:t},e.queue=t,t=t.dispatch=OR.bind(null,Fe,t),[e.memoizedState,t]}function Cl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ME(){return yn().memoizedState}function mc(t,e,n,r){var s=Qn();Fe.flags|=t,s.memoizedState=Cl(1|e,n,void 0,r===void 0?null:r)}function $d(t,e,n,r){var s=yn();r=r===void 0?null:r;var i=void 0;if(nt!==null){var o=nt.memoizedState;if(i=o.destroy,r!==null&&fg(r,o.deps)){s.memoizedState=Cl(e,n,i,r);return}}Fe.flags|=t,s.memoizedState=Cl(1|e,n,i,r)}function p0(t,e){return mc(8390656,8,t,e)}function gg(t,e){return $d(2048,8,t,e)}function LE(t,e){return $d(4,2,t,e)}function VE(t,e){return $d(4,4,t,e)}function jE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FE(t,e,n){return n=n!=null?n.concat([t]):null,$d(4,4,jE.bind(null,e,t),n)}function yg(){}function UE(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zE(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $E(t,e,n){return Ci&21?(Ln(n,e)||(n=K1(),Fe.lanes|=n,Ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n)}function NR(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=yf.transition;yf.transition={};try{t(!1),e()}finally{xe=n,yf.transition=r}}function BE(){return yn().memoizedState}function DR(t,e,n){var r=As(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WE(t))HE(e,n);else if(n=IE(t,e,n,r),n!==null){var s=Dt();Dn(n,t,r,s),qE(n,e,r)}}function OR(t,e,n){var r=As(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WE(t))HE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ln(a,o)){var u=e.interleaved;u===null?(s.next=s,lg(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=IE(t,e,s,r),n!==null&&(s=Dt(),Dn(n,t,r,s),qE(n,e,r))}}function WE(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function HE(t,e){tl=Zc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gm(t,n)}}var ed={readContext:gn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},MR={readContext:gn,useCallback:function(t,e){return Qn().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:p0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mc(4194308,4,jE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mc(4194308,4,t,e)},useInsertionEffect:function(t,e){return mc(4,2,t,e)},useMemo:function(t,e){var n=Qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=DR.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=Qn();return t={current:t},e.memoizedState=t},useState:f0,useDebugValue:yg,useDeferredValue:function(t){return Qn().memoizedState=t},useTransition:function(){var t=f0(!1),e=t[0];return t=NR.bind(null,t[1]),Qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,s=Qn();if(Me){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),dt===null)throw Error(B(349));Ci&30||PE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,p0(NE.bind(null,r,i,t),[t]),r.flags|=2048,Cl(9,kE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Qn(),e=dt.identifierPrefix;if(Me){var n=Cr,r=br;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Il++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LR={readContext:gn,useCallback:UE,useContext:gn,useEffect:gg,useImperativeHandle:FE,useInsertionEffect:LE,useLayoutEffect:VE,useMemo:zE,useReducer:vf,useRef:ME,useState:function(){return vf(bl)},useDebugValue:yg,useDeferredValue:function(t){var e=yn();return $E(e,nt.memoizedState,t)},useTransition:function(){var t=vf(bl)[0],e=yn().memoizedState;return[t,e]},useMutableSource:AE,useSyncExternalStore:RE,useId:BE,unstable_isNewReconciler:!1},VR={readContext:gn,useCallback:UE,useContext:gn,useEffect:gg,useImperativeHandle:FE,useInsertionEffect:LE,useLayoutEffect:VE,useMemo:zE,useReducer:wf,useRef:ME,useState:function(){return wf(bl)},useDebugValue:yg,useDeferredValue:function(t){var e=yn();return nt===null?e.memoizedState=t:$E(e,nt.memoizedState,t)},useTransition:function(){var t=wf(bl)[0],e=yn().memoizedState;return[t,e]},useMutableSource:AE,useSyncExternalStore:RE,useId:BE,unstable_isNewReconciler:!1};function Sn(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bd={isMounted:function(t){return(t=t._reactInternals)?Fi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dt(),s=As(t),i=kr(r,s);i.payload=e,n!=null&&(i.callback=n),e=bs(t,i,s),e!==null&&(Dn(e,t,s,r),fc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dt(),s=As(t),i=kr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=bs(t,i,s),e!==null&&(Dn(e,t,s,r),fc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),r=As(t),s=kr(n,r);s.tag=2,e!=null&&(s.callback=e),e=bs(t,s,r),e!==null&&(Dn(e,t,r,n),fc(e,t,r))}};function m0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!wl(n,r)||!wl(s,i):!0}function KE(t,e,n){var r=!1,s=Vs,i=e.contextType;return typeof i=="object"&&i!==null?i=gn(i):(s=qt(e)?Ii:Ct.current,r=e.contextTypes,i=(r=r!=null)?Uo(t,s):Vs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function g0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bd.enqueueReplaceState(e,e.state,null)}function kp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ug(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=gn(i):(i=qt(e)?Ii:Ct.current,s.context=Uo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Pp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Bd.enqueueReplaceState(s,s.state,null),Xc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Wo(t,e){try{var n="",r=e;do n+=dA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function _f(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Np(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jR=typeof WeakMap=="function"?WeakMap:Map;function GE(t,e,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nd||(nd=!0,$p=r),Np(t,e)},n}function QE(t,e,n){n=kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Np(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Np(t,e),typeof r!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function y0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=JR.bind(null,t,e,n),e.then(t,t))}function v0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function w0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kr(-1,1),e.tag=2,bs(n,e,1))),n.lanes|=1),t)}var FR=Br.ReactCurrentOwner,Wt=!1;function kt(t,e,n,r){e.child=t===null?SE(e,null,n,r):$o(e,t.child,n,r)}function _0(t,e,n,r,s){n=n.render;var i=e.ref;return _o(e,s),r=pg(t,e,n,r,i,s),n=mg(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mr(t,e,s)):(Me&&n&&ng(e),e.flags|=1,kt(t,e,r,s),e.child)}function E0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ig(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,YE(t,e,i,r,s)):(t=wc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:wl,n(o,r)&&t.ref===e.ref)return Mr(t,e,s)}return e.flags|=1,t=Rs(i,r),t.ref=e.ref,t.return=e,e.child=t}function YE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(wl(i,r)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,Mr(t,e,s)}return Dp(t,e,n,r,s)}function XE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(mo,Yt),Yt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(mo,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ce(mo,Yt),Yt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ce(mo,Yt),Yt|=r;return kt(t,e,s,n),e.child}function JE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dp(t,e,n,r,s){var i=qt(n)?Ii:Ct.current;return i=Uo(e,i),_o(e,s),n=pg(t,e,n,r,i,s),r=mg(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mr(t,e,s)):(Me&&r&&ng(e),e.flags|=1,kt(t,e,n,s),e.child)}function T0(t,e,n,r,s){if(qt(n)){var i=!0;qc(e)}else i=!1;if(_o(e,s),e.stateNode===null)gc(t,e),KE(e,n,r),kp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gn(c):(c=qt(n)?Ii:Ct.current,c=Uo(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&g0(e,o,r,c),as=!1;var p=e.memoizedState;o.state=p,Xc(e,r,o,s),u=e.memoizedState,a!==r||p!==u||Ht.current||as?(typeof d=="function"&&(Pp(e,n,d,r),u=e.memoizedState),(a=as||m0(e,n,a,r,p,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,bE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Sn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=gn(u):(u=qt(n)?Ii:Ct.current,u=Uo(e,u));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==u)&&g0(e,o,r,u),as=!1,p=e.memoizedState,o.state=p,Xc(e,r,o,s);var x=e.memoizedState;a!==h||p!==x||Ht.current||as?(typeof m=="function"&&(Pp(e,n,m,r),x=e.memoizedState),(c=as||m0(e,n,c,r,p,x,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Op(t,e,n,r,i,s)}function Op(t,e,n,r,s,i){JE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&a0(e,n,!1),Mr(t,e,i);r=e.stateNode,FR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$o(e,t.child,null,i),e.child=$o(e,null,a,i)):kt(t,e,a,i),e.memoizedState=r.state,s&&a0(e,n,!0),e.child}function ZE(t){var e=t.stateNode;e.pendingContext?o0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&o0(t,e.context,!1),cg(t,e.containerInfo)}function x0(t,e,n,r,s){return zo(),sg(s),e.flags|=256,kt(t,e,n,r),e.child}var Mp={dehydrated:null,treeContext:null,retryLane:0};function Lp(t){return{baseLanes:t,cachePool:null,transitions:null}}function eT(t,e,n){var r=e.pendingProps,s=je.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce(je,s&1),t===null)return Ap(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qd(o,r,0,null),t=Ei(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Lp(n),e.memoizedState=Mp,t):vg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return UR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Rs(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Rs(a,i):(i=Ei(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Lp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Mp,r}return i=t.child,t=i.sibling,r=Rs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vg(t,e){return e=qd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bu(t,e,n,r){return r!==null&&sg(r),$o(e,t.child,null,n),t=vg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=_f(Error(B(422))),Bu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=qd({mode:"visible",children:r.children},s,0,null),i=Ei(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$o(e,t.child,null,o),e.child.memoizedState=Lp(o),e.memoizedState=Mp,i);if(!(e.mode&1))return Bu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=_f(i,r,void 0),Bu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Wt||a){if(r=dt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Or(t,s),Dn(r,t,s,-1))}return Sg(),r=_f(Error(B(421))),Bu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ZR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Jt=Is(s.nextSibling),en=e,Me=!0,Rn=null,t!==null&&(un[cn++]=br,un[cn++]=Cr,un[cn++]=bi,br=t.id,Cr=t.overflow,bi=e),e=vg(e,r.children),e.flags|=4096,e)}function S0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rp(t.return,e,n)}function Ef(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function tT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(kt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&S0(t,n,e);else if(t.tag===19)S0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(je,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Jc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ef(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ef(e,!0,n,null,i);break;case"together":Ef(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Rs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zR(t,e,n){switch(e.tag){case 3:ZE(e),zo();break;case 5:CE(e);break;case 1:qt(e.type)&&qc(e);break;case 4:cg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ce(Qc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?eT(t,e,n):(Ce(je,je.current&1),t=Mr(t,e,n),t!==null?t.sibling:null);Ce(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,XE(t,e,n)}return Mr(t,e,n)}var nT,Vp,rT,sT;nT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vp=function(){};rT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,di(sr.current);var i=null;switch(n){case"input":s=ip(t,s),r=ip(t,r),i=[];break;case"select":s=Ue({},s,{value:void 0}),r=Ue({},r,{value:void 0}),i=[];break;case"textarea":s=lp(t,s),r=lp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wc)}cp(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Pe("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};sT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Va(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $R(t,e,n){var r=e.pendingProps;switch(rg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return qt(e.type)&&Hc(),Et(e),null;case 3:return r=e.stateNode,Bo(),De(Ht),De(Ct),hg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(Hp(Rn),Rn=null))),Vp(t,e),Et(e),null;case 5:dg(e);var s=di(Sl.current);if(n=e.type,t!==null&&e.stateNode!=null)rT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Et(e),null}if(t=di(sr.current),zu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[er]=e,r[Tl]=i,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<Ha.length;s++)Pe(Ha[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Dv(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":Mv(r,i),Pe("invalid",r)}cp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Uu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Uu(r.textContent,a,t),s=["children",""+a]):hl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":Nu(r),Ov(r,i,!0);break;case"textarea":Nu(r),Lv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=N1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[er]=e,t[Tl]=r,nT(t,e,!1,!1),e.stateNode=t;e:{switch(o=dp(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),s=r;break;case"iframe":case"object":case"embed":Pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ha.length;s++)Pe(Ha[s],t);s=r;break;case"source":Pe("error",t),s=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),s=r;break;case"details":Pe("toggle",t),s=r;break;case"input":Dv(t,r),s=ip(t,r),Pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ue({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":Mv(t,r),s=lp(t,r),Pe("invalid",t);break;default:s=r}cp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?M1(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&D1(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&fl(t,u):typeof u=="number"&&fl(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hl.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Pe("scroll",t):u!=null&&$m(t,i,u,o))}switch(n){case"input":Nu(t),Ov(t,r,!1);break;case"textarea":Nu(t),Lv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ls(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?go(t,!!r.multiple,i,!1):r.defaultValue!=null&&go(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Wc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)sT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=di(Sl.current),di(sr.current),zu(e)){if(r=e.stateNode,n=e.memoizedProps,r[er]=e,(i=r.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:Uu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=e,e.stateNode=r}return Et(e),null;case 13:if(De(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Jt!==null&&e.mode&1&&!(e.flags&128))TE(),zo(),e.flags|=98560,i=!1;else if(i=zu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[er]=e}else zo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),i=!1}else Rn!==null&&(Hp(Rn),Rn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?st===0&&(st=3):Sg())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return Bo(),Vp(t,e),t===null&&_l(e.stateNode.containerInfo),Et(e),null;case 10:return ag(e.type._context),Et(e),null;case 17:return qt(e.type)&&Hc(),Et(e),null;case 19:if(De(je),i=e.memoizedState,i===null)return Et(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Va(i,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jc(t),o!==null){for(e.flags|=128,Va(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(je,je.current&1|2),e.child}t=t.sibling}i.tail!==null&&qe()>Ho&&(e.flags|=128,r=!0,Va(i,!1),e.lanes=4194304)}else{if(!r)if(t=Jc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Va(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Me)return Et(e),null}else 2*qe()-i.renderingStartTime>Ho&&n!==1073741824&&(e.flags|=128,r=!0,Va(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=qe(),e.sibling=null,n=je.current,Ce(je,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return xg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function BR(t,e){switch(rg(e),e.tag){case 1:return qt(e.type)&&Hc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bo(),De(Ht),De(Ct),hg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dg(e),null;case 13:if(De(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));zo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(je),null;case 4:return Bo(),null;case 10:return ag(e.type._context),null;case 22:case 23:return xg(),null;case 24:return null;default:return null}}var Wu=!1,It=!1,WR=typeof WeakSet=="function"?WeakSet:Set,Q=null;function po(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function jp(t,e,n){try{n()}catch(r){We(t,e,r)}}var I0=!1;function HR(t,e){if(Ep=zc,t=uE(),tg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(u=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tp={focusedElem:t,selectionRange:n},zc=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,T=x.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:Sn(e.type,y),T);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(D){We(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return x=I0,I0=!1,x}function nl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&jp(e,n,i)}s=s.next}while(s!==r)}}function Wd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iT(t){var e=t.alternate;e!==null&&(t.alternate=null,iT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[er],delete e[Tl],delete e[Ip],delete e[CR],delete e[AR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oT(t){return t.tag===5||t.tag===3||t.tag===4}function b0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Up(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wc));else if(r!==4&&(t=t.child,t!==null))for(Up(t,e,n),t=t.sibling;t!==null;)Up(t,e,n),t=t.sibling}function zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(zp(t,e,n),t=t.sibling;t!==null;)zp(t,e,n),t=t.sibling}var ht=null,An=!1;function es(t,e,n){for(n=n.child;n!==null;)aT(t,e,n),n=n.sibling}function aT(t,e,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(Ld,n)}catch{}switch(n.tag){case 5:It||po(n,e);case 6:var r=ht,s=An;ht=null,es(t,e,n),ht=r,An=s,ht!==null&&(An?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(An?(t=ht,n=n.stateNode,t.nodeType===8?pf(t.parentNode,n):t.nodeType===1&&pf(t,n),yl(t)):pf(ht,n.stateNode));break;case 4:r=ht,s=An,ht=n.stateNode.containerInfo,An=!0,es(t,e,n),ht=r,An=s;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&jp(n,e,o),s=s.next}while(s!==r)}es(t,e,n);break;case 1:if(!It&&(po(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}es(t,e,n);break;case 21:es(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,es(t,e,n),It=r):es(t,e,n);break;default:es(t,e,n)}}function C0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WR),e.forEach(function(r){var s=eP.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,An=!1;break e;case 3:ht=a.stateNode.containerInfo,An=!0;break e;case 4:ht=a.stateNode.containerInfo,An=!0;break e}a=a.return}if(ht===null)throw Error(B(160));aT(i,o,s),ht=null,An=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){We(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lT(e,t),e=e.sibling}function lT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),Gn(t),r&4){try{nl(3,t,t.return),Wd(3,t)}catch(y){We(t,t.return,y)}try{nl(5,t,t.return)}catch(y){We(t,t.return,y)}}break;case 1:Tn(e,t),Gn(t),r&512&&n!==null&&po(n,n.return);break;case 5:if(Tn(e,t),Gn(t),r&512&&n!==null&&po(n,n.return),t.flags&32){var s=t.stateNode;try{fl(s,"")}catch(y){We(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&P1(s,i),dp(a,o);var c=dp(a,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?M1(s,h):d==="dangerouslySetInnerHTML"?D1(s,h):d==="children"?fl(s,h):$m(s,d,h,c)}switch(a){case"input":op(s,i);break;case"textarea":k1(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?go(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?go(s,!!i.multiple,i.defaultValue,!0):go(s,!!i.multiple,i.multiple?[]:"",!1))}s[Tl]=i}catch(y){We(t,t.return,y)}}break;case 6:if(Tn(e,t),Gn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){We(t,t.return,y)}}break;case 3:if(Tn(e,t),Gn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yl(e.containerInfo)}catch(y){We(t,t.return,y)}break;case 4:Tn(e,t),Gn(t);break;case 13:Tn(e,t),Gn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Eg=qe())),r&4&&C0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(It=(c=It)||d,Tn(e,t),It=c):Tn(e,t),Gn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(h=Q=d;Q!==null;){switch(p=Q,m=p.child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:po(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){We(r,n,y)}}break;case 5:po(p,p.return);break;case 22:if(p.memoizedState!==null){R0(h);continue}}m!==null?(m.return=p,Q=m):R0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=O1("display",o))}catch(y){We(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){We(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tn(e,t),Gn(t),r&4&&C0(t);break;case 21:break;default:Tn(e,t),Gn(t)}}function Gn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oT(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fl(s,""),r.flags&=-33);var i=b0(t);zp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=b0(t);Up(t,a,o);break;default:throw Error(B(161))}}catch(u){We(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qR(t,e,n){Q=t,uT(t)}function uT(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Wu;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||It;a=Wu;var c=It;if(Wu=o,(It=u)&&!c)for(Q=s;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?P0(s):u!==null?(u.return=o,Q=u):P0(s);for(;i!==null;)Q=i,uT(i),i=i.sibling;Q=s,Wu=a,It=c}A0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):A0(t)}}function A0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||Wd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&h0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}h0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&yl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}It||e.flags&512&&Fp(e)}catch(p){We(e,e.return,p)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function R0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function P0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wd(4,e)}catch(u){We(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){We(e,s,u)}}var i=e.return;try{Fp(e)}catch(u){We(e,i,u)}break;case 5:var o=e.return;try{Fp(e)}catch(u){We(e,o,u)}}}catch(u){We(e,e.return,u)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var KR=Math.ceil,td=Br.ReactCurrentDispatcher,wg=Br.ReactCurrentOwner,fn=Br.ReactCurrentBatchConfig,we=0,dt=null,Ye=null,mt=0,Yt=0,mo=Gs(0),st=0,Al=null,Ai=0,Hd=0,_g=0,rl=null,zt=null,Eg=0,Ho=1/0,Tr=null,nd=!1,$p=null,Cs=null,Hu=!1,ws=null,rd=0,sl=0,Bp=null,yc=-1,vc=0;function Dt(){return we&6?qe():yc!==-1?yc:yc=qe()}function As(t){return t.mode&1?we&2&&mt!==0?mt&-mt:PR.transition!==null?(vc===0&&(vc=K1()),vc):(t=xe,t!==0||(t=window.event,t=t===void 0?16:eE(t.type)),t):1}function Dn(t,e,n,r){if(50<sl)throw sl=0,Bp=null,Error(B(185));Yl(t,n,r),(!(we&2)||t!==dt)&&(t===dt&&(!(we&2)&&(Hd|=n),st===4&&us(t,mt)),Kt(t,r),n===1&&we===0&&!(e.mode&1)&&(Ho=qe()+500,zd&&Qs()))}function Kt(t,e){var n=t.callbackNode;PA(t,e);var r=Uc(t,t===dt?mt:0);if(r===0)n!==null&&Fv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fv(n),e===1)t.tag===0?RR(k0.bind(null,t)):wE(k0.bind(null,t)),IR(function(){!(we&6)&&Qs()}),n=null;else{switch(G1(r)){case 1:n=Km;break;case 4:n=H1;break;case 16:n=Fc;break;case 536870912:n=q1;break;default:n=Fc}n=yT(n,cT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cT(t,e){if(yc=-1,vc=0,we&6)throw Error(B(327));var n=t.callbackNode;if(Eo()&&t.callbackNode!==n)return null;var r=Uc(t,t===dt?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sd(t,r);else{e=r;var s=we;we|=2;var i=hT();(dt!==t||mt!==e)&&(Tr=null,Ho=qe()+500,_i(t,e));do try{YR();break}catch(a){dT(t,a)}while(!0);og(),td.current=i,we=s,Ye!==null?e=0:(dt=null,mt=0,e=st)}if(e!==0){if(e===2&&(s=gp(t),s!==0&&(r=s,e=Wp(t,s))),e===1)throw n=Al,_i(t,0),us(t,r),Kt(t,qe()),n;if(e===6)us(t,r);else{if(s=t.current.alternate,!(r&30)&&!GR(s)&&(e=sd(t,r),e===2&&(i=gp(t),i!==0&&(r=i,e=Wp(t,i))),e===1))throw n=Al,_i(t,0),us(t,r),Kt(t,qe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ai(t,zt,Tr);break;case 3:if(us(t,r),(r&130023424)===r&&(e=Eg+500-qe(),10<e)){if(Uc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Dt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Sp(ai.bind(null,t,zt,Tr),e);break}ai(t,zt,Tr);break;case 4:if(us(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Nn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KR(r/1960))-r,10<r){t.timeoutHandle=Sp(ai.bind(null,t,zt,Tr),r);break}ai(t,zt,Tr);break;case 5:ai(t,zt,Tr);break;default:throw Error(B(329))}}}return Kt(t,qe()),t.callbackNode===n?cT.bind(null,t):null}function Wp(t,e){var n=rl;return t.current.memoizedState.isDehydrated&&(_i(t,e).flags|=256),t=sd(t,e),t!==2&&(e=zt,zt=n,e!==null&&Hp(e)),t}function Hp(t){zt===null?zt=t:zt.push.apply(zt,t)}function GR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ln(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function us(t,e){for(e&=~_g,e&=~Hd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nn(e),r=1<<n;t[n]=-1,e&=~r}}function k0(t){if(we&6)throw Error(B(327));Eo();var e=Uc(t,0);if(!(e&1))return Kt(t,qe()),null;var n=sd(t,e);if(t.tag!==0&&n===2){var r=gp(t);r!==0&&(e=r,n=Wp(t,r))}if(n===1)throw n=Al,_i(t,0),us(t,e),Kt(t,qe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ai(t,zt,Tr),Kt(t,qe()),null}function Tg(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(Ho=qe()+500,zd&&Qs())}}function Ri(t){ws!==null&&ws.tag===0&&!(we&6)&&Eo();var e=we;we|=1;var n=fn.transition,r=xe;try{if(fn.transition=null,xe=1,t)return t()}finally{xe=r,fn.transition=n,we=e,!(we&6)&&Qs()}}function xg(){Yt=mo.current,De(mo)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SR(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(rg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hc();break;case 3:Bo(),De(Ht),De(Ct),hg();break;case 5:dg(r);break;case 4:Bo();break;case 13:De(je);break;case 19:De(je);break;case 10:ag(r.type._context);break;case 22:case 23:xg()}n=n.return}if(dt=t,Ye=t=Rs(t.current,null),mt=Yt=e,st=0,Al=null,_g=Hd=Ai=0,zt=rl=null,ci!==null){for(e=0;e<ci.length;e++)if(n=ci[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ci=null}return t}function dT(t,e){do{var n=Ye;try{if(og(),pc.current=ed,Zc){for(var r=Fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zc=!1}if(Ci=0,ct=nt=Fe=null,tl=!1,Il=0,wg.current=null,n===null||n.return===null){st=1,Al=e,Ye=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=mt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=v0(o);if(m!==null){m.flags&=-257,w0(m,o,a,i,e),m.mode&1&&y0(i,c,e),e=m,u=c;var x=e.updateQueue;if(x===null){var y=new Set;y.add(u),e.updateQueue=y}else x.add(u);break e}else{if(!(e&1)){y0(i,c,e),Sg();break e}u=Error(B(426))}}else if(Me&&a.mode&1){var T=v0(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),w0(T,o,a,i,e),sg(Wo(u,a));break e}}i=u=Wo(u,a),st!==4&&(st=2),rl===null?rl=[i]:rl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=GE(i,u,e);d0(i,_);break e;case 1:a=u;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Cs===null||!Cs.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=QE(i,a,e);d0(i,D);break e}}i=i.return}while(i!==null)}pT(n)}catch(O){e=O,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function hT(){var t=td.current;return td.current=ed,t===null?ed:t}function Sg(){(st===0||st===3||st===2)&&(st=4),dt===null||!(Ai&268435455)&&!(Hd&268435455)||us(dt,mt)}function sd(t,e){var n=we;we|=2;var r=hT();(dt!==t||mt!==e)&&(Tr=null,_i(t,e));do try{QR();break}catch(s){dT(t,s)}while(!0);if(og(),we=n,td.current=r,Ye!==null)throw Error(B(261));return dt=null,mt=0,st}function QR(){for(;Ye!==null;)fT(Ye)}function YR(){for(;Ye!==null&&!EA();)fT(Ye)}function fT(t){var e=gT(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?pT(t):Ye=e,wg.current=null}function pT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=BR(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,Ye=null;return}}else if(n=$R(n,e,Yt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);st===0&&(st=5)}function ai(t,e,n){var r=xe,s=fn.transition;try{fn.transition=null,xe=1,XR(t,e,n,r)}finally{fn.transition=s,xe=r}return null}function XR(t,e,n,r){do Eo();while(ws!==null);if(we&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(kA(t,i),t===dt&&(Ye=dt=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hu||(Hu=!0,yT(Fc,function(){return Eo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=fn.transition,fn.transition=null;var o=xe;xe=1;var a=we;we|=4,wg.current=null,HR(t,n),lT(n,t),yR(Tp),zc=!!Ep,Tp=Ep=null,t.current=n,qR(n),TA(),we=a,xe=o,fn.transition=i}else t.current=n;if(Hu&&(Hu=!1,ws=t,rd=s),i=t.pendingLanes,i===0&&(Cs=null),IA(n.stateNode),Kt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(nd)throw nd=!1,t=$p,$p=null,t;return rd&1&&t.tag!==0&&Eo(),i=t.pendingLanes,i&1?t===Bp?sl++:(sl=0,Bp=t):sl=0,Qs(),null}function Eo(){if(ws!==null){var t=G1(rd),e=fn.transition,n=xe;try{if(fn.transition=null,xe=16>t?16:t,ws===null)var r=!1;else{if(t=ws,ws=null,rd=0,we&6)throw Error(B(331));var s=we;for(we|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Q=c;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var h=d.child;if(h!==null)h.return=d,Q=h;else for(;Q!==null;){d=Q;var p=d.sibling,m=d.return;if(iT(d),d===c){Q=null;break}if(p!==null){p.return=m,Q=p;break}Q=m}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var T=y.sibling;y.sibling=null,y=T}while(y!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Q=_;break e}Q=i.return}}var w=t.current;for(Q=w;Q!==null;){o=Q;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Q=b;else e:for(o=w;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wd(9,a)}}catch(O){We(a,a.return,O)}if(a===o){Q=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,Q=D;break e}Q=a.return}}if(we=s,Qs(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(Ld,t)}catch{}r=!0}return r}finally{xe=n,fn.transition=e}}return!1}function N0(t,e,n){e=Wo(n,e),e=GE(t,e,1),t=bs(t,e,1),e=Dt(),t!==null&&(Yl(t,1,e),Kt(t,e))}function We(t,e,n){if(t.tag===3)N0(t,t,n);else for(;e!==null;){if(e.tag===3){N0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cs===null||!Cs.has(r))){t=Wo(n,t),t=QE(e,t,1),e=bs(e,t,1),t=Dt(),e!==null&&(Yl(e,1,t),Kt(e,t));break}}e=e.return}}function JR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(mt&n)===n&&(st===4||st===3&&(mt&130023424)===mt&&500>qe()-Eg?_i(t,0):_g|=n),Kt(t,e)}function mT(t,e){e===0&&(t.mode&1?(e=Mu,Mu<<=1,!(Mu&130023424)&&(Mu=4194304)):e=1);var n=Dt();t=Or(t,e),t!==null&&(Yl(t,e,n),Kt(t,n))}function ZR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mT(t,n)}function eP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),mT(t,n)}var gT;gT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)Wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wt=!1,zR(t,e,n);Wt=!!(t.flags&131072)}else Wt=!1,Me&&e.flags&1048576&&_E(e,Gc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gc(t,e),t=e.pendingProps;var s=Uo(e,Ct.current);_o(e,n),s=pg(null,e,r,t,s,n);var i=mg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(r)?(i=!0,qc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ug(e),s.updater=Bd,e.stateNode=s,s._reactInternals=e,kp(e,r,t,n),e=Op(null,e,r,!0,i,n)):(e.tag=0,Me&&i&&ng(e),kt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=nP(r),t=Sn(r,t),s){case 0:e=Dp(null,e,r,t,n);break e;case 1:e=T0(null,e,r,t,n);break e;case 11:e=_0(null,e,r,t,n);break e;case 14:e=E0(null,e,r,Sn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),Dp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),T0(t,e,r,s,n);case 3:e:{if(ZE(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,bE(t,e),Xc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Wo(Error(B(423)),e),e=x0(t,e,r,n,s);break e}else if(r!==s){s=Wo(Error(B(424)),e),e=x0(t,e,r,n,s);break e}else for(Jt=Is(e.stateNode.containerInfo.firstChild),en=e,Me=!0,Rn=null,n=SE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zo(),r===s){e=Mr(t,e,n);break e}kt(t,e,r,n)}e=e.child}return e;case 5:return CE(e),t===null&&Ap(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,xp(r,s)?o=null:i!==null&&xp(r,i)&&(e.flags|=32),JE(t,e),kt(t,e,o,n),e.child;case 6:return t===null&&Ap(e),null;case 13:return eT(t,e,n);case 4:return cg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$o(e,null,r,n):kt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),_0(t,e,r,s,n);case 7:return kt(t,e,e.pendingProps,n),e.child;case 8:return kt(t,e,e.pendingProps.children,n),e.child;case 12:return kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ce(Qc,r._currentValue),r._currentValue=o,i!==null)if(Ln(i.value,o)){if(i.children===s.children&&!Ht.current){e=Mr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=kr(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Rp(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Rp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}kt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,_o(e,n),s=gn(s),r=r(s),e.flags|=1,kt(t,e,r,n),e.child;case 14:return r=e.type,s=Sn(r,e.pendingProps),s=Sn(r.type,s),E0(t,e,r,s,n);case 15:return YE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),gc(t,e),e.tag=1,qt(r)?(t=!0,qc(e)):t=!1,_o(e,n),KE(e,r,s),kp(e,r,s,n),Op(null,e,r,!0,t,n);case 19:return tT(t,e,n);case 22:return XE(t,e,n)}throw Error(B(156,e.tag))};function yT(t,e){return W1(t,e)}function tP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new tP(t,e,n,r)}function Ig(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nP(t){if(typeof t=="function")return Ig(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wm)return 11;if(t===Hm)return 14}return 2}function Rs(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ig(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case so:return Ei(n.children,s,i,e);case Bm:o=8,s|=8;break;case tp:return t=hn(12,n,e,s|2),t.elementType=tp,t.lanes=i,t;case np:return t=hn(13,n,e,s),t.elementType=np,t.lanes=i,t;case rp:return t=hn(19,n,e,s),t.elementType=rp,t.lanes=i,t;case C1:return qd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I1:o=10;break e;case b1:o=9;break e;case Wm:o=11;break e;case Hm:o=14;break e;case os:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=hn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ei(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function qd(t,e,n,r){return t=hn(22,t,r,e),t.elementType=C1,t.lanes=n,t.stateNode={isHidden:!1},t}function Tf(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function xf(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rP(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nf(0),this.expirationTimes=nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function bg(t,e,n,r,s,i,o,a,u){return t=new rP(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=hn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ug(i),t}function sP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ro,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vT(t){if(!t)return Vs;t=t._reactInternals;e:{if(Fi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(qt(n))return vE(t,n,e)}return e}function wT(t,e,n,r,s,i,o,a,u){return t=bg(n,r,!0,t,s,i,o,a,u),t.context=vT(null),n=t.current,r=Dt(),s=As(n),i=kr(r,s),i.callback=e??null,bs(n,i,s),t.current.lanes=s,Yl(t,s,r),Kt(t,r),t}function Kd(t,e,n,r){var s=e.current,i=Dt(),o=As(s);return n=vT(n),e.context===null?e.context=n:e.pendingContext=n,e=kr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bs(s,e,o),t!==null&&(Dn(t,s,o,i),fc(t,s,o)),o}function id(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function D0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cg(t,e){D0(t,e),(t=t.alternate)&&D0(t,e)}function iP(){return null}var _T=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ag(t){this._internalRoot=t}Gd.prototype.render=Ag.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Kd(t,e,null,null)};Gd.prototype.unmount=Ag.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ri(function(){Kd(null,t,null,null)}),e[Dr]=null}};function Gd(t){this._internalRoot=t}Gd.prototype.unstable_scheduleHydration=function(t){if(t){var e=X1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ls.length&&e!==0&&e<ls[n].priority;n++);ls.splice(n,0,t),n===0&&Z1(t)}};function Rg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function O0(){}function oP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=id(o);i.call(c)}}var o=wT(e,r,t,0,null,!1,!1,"",O0);return t._reactRootContainer=o,t[Dr]=o.current,_l(t.nodeType===8?t.parentNode:t),Ri(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=id(u);a.call(c)}}var u=bg(t,0,!1,null,null,!1,!1,"",O0);return t._reactRootContainer=u,t[Dr]=u.current,_l(t.nodeType===8?t.parentNode:t),Ri(function(){Kd(e,u,n,r)}),u}function Yd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=id(o);a.call(u)}}Kd(e,o,t,s)}else o=oP(n,e,t,s,r);return id(o)}Q1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wa(e.pendingLanes);n!==0&&(Gm(e,n|1),Kt(e,qe()),!(we&6)&&(Ho=qe()+500,Qs()))}break;case 13:Ri(function(){var r=Or(t,1);if(r!==null){var s=Dt();Dn(r,t,1,s)}}),Cg(t,1)}};Qm=function(t){if(t.tag===13){var e=Or(t,134217728);if(e!==null){var n=Dt();Dn(e,t,134217728,n)}Cg(t,134217728)}};Y1=function(t){if(t.tag===13){var e=As(t),n=Or(t,e);if(n!==null){var r=Dt();Dn(n,t,e,r)}Cg(t,e)}};X1=function(){return xe};J1=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};fp=function(t,e,n){switch(e){case"input":if(op(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ud(r);if(!s)throw Error(B(90));R1(r),op(r,s)}}}break;case"textarea":k1(t,n);break;case"select":e=n.value,e!=null&&go(t,!!n.multiple,e,!1)}};j1=Tg;F1=Ri;var aP={usingClientEntryPoint:!1,Events:[Jl,lo,Ud,L1,V1,Tg]},ja={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lP={bundleType:ja.bundleType,version:ja.version,rendererPackageName:ja.rendererPackageName,rendererConfig:ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$1(t),t===null?null:t.stateNode},findFiberByHostInstance:ja.findFiberByHostInstance||iP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{Ld=qu.inject(lP),rr=qu}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aP;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rg(e))throw Error(B(200));return sP(t,e,null,n)};rn.createRoot=function(t,e){if(!Rg(t))throw Error(B(299));var n=!1,r="",s=_T;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=bg(t,1,!1,null,null,n,!1,r,s),t[Dr]=e.current,_l(t.nodeType===8?t.parentNode:t),new Ag(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=$1(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return Ri(t)};rn.hydrate=function(t,e,n){if(!Qd(e))throw Error(B(200));return Yd(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!Rg(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=_T;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=wT(e,null,t,1,n??null,s,!1,i,o),t[Dr]=e.current,_l(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Gd(e)};rn.render=function(t,e,n){if(!Qd(e))throw Error(B(200));return Yd(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!Qd(t))throw Error(B(40));return t._reactRootContainer?(Ri(function(){Yd(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1};rn.unstable_batchedUpdates=Tg;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qd(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Yd(t,e,n,!1,r)};rn.version="18.3.1-next-f1338f8080-20240426";function ET(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ET)}catch(t){console.error(t)}}ET(),E1.exports=rn;var eu=E1.exports;const TT=u1(eu);var xT,M0=eu;xT=M0.createRoot,M0.hydrateRoot;const uP=1,cP=1e6;let Sf=0;function dP(){return Sf=(Sf+1)%Number.MAX_SAFE_INTEGER,Sf.toString()}const If=new Map,L0=t=>{if(If.has(t))return;const e=setTimeout(()=>{If.delete(t),il({type:"REMOVE_TOAST",toastId:t})},cP);If.set(t,e)},hP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,uP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?L0(n):t.toasts.forEach(r=>{L0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},_c=[];let Ec={toasts:[]};function il(t){Ec=hP(Ec,t),_c.forEach(e=>{e(Ec)})}function fP({...t}){const e=dP(),n=s=>il({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>il({type:"DISMISS_TOAST",toastId:e});return il({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function pP(){const[t,e]=I.useState(Ec);return I.useEffect(()=>(_c.push(e),()=>{const n=_c.indexOf(e);n>-1&&_c.splice(n,1)}),[t]),{...t,toast:fP,dismiss:n=>il({type:"DISMISS_TOAST",toastId:n})}}function Le(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function V0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ST(...t){return e=>{let n=!1;const r=t.map(s=>{const i=V0(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():V0(t[s],null)}}}}function Ot(...t){return I.useCallback(ST(...t),t)}function mP(t,e){const n=I.createContext(e),r=i=>{const{children:o,...a}=i,u=I.useMemo(()=>a,Object.values(a));return v.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function s(i){const o=I.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function tu(t,e=[]){let n=[];function r(i,o){const a=I.createContext(o),u=n.length;n=[...n,o];const c=h=>{var _;const{scope:p,children:m,...x}=h,y=((_=p==null?void 0:p[t])==null?void 0:_[u])||a,T=I.useMemo(()=>x,Object.values(x));return v.jsx(y.Provider,{value:T,children:m})};c.displayName=i+"Provider";function d(h,p){var y;const m=((y=p==null?void 0:p[t])==null?void 0:y[u])||a,x=I.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>I.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return I.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,gP(s,...e)]}function gP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const h=u(i)[`__scope${c}`];return{...a,...h}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function od(t){const e=yP(t),n=I.forwardRef((r,s)=>{const{children:i,...o}=r,a=I.Children.toArray(i),u=a.find(wP);if(u){const c=u.props.children,d=a.map(h=>h===u?I.Children.count(c)>1?I.Children.only(null):I.isValidElement(c)?c.props.children:null:h);return v.jsx(e,{...o,ref:s,children:I.isValidElement(c)?I.cloneElement(c,void 0,d):null})}return v.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function yP(t){const e=I.forwardRef((n,r)=>{const{children:s,...i}=n;if(I.isValidElement(s)){const o=EP(s),a=_P(i,s.props);return s.type!==I.Fragment&&(a.ref=r?ST(r,o):o),I.cloneElement(s,a)}return I.Children.count(s)>1?I.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var IT=Symbol("radix.slottable");function vP(t){const e=({children:n})=>v.jsx(v.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=IT,e}function wP(t){return I.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===IT}function _P(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function EP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function TP(t){const e=t+"CollectionProvider",[n,r]=tu(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:T,children:_}=y,w=H.useRef(null),b=H.useRef(new Map).current;return v.jsx(s,{scope:T,itemMap:b,collectionRef:w,children:_})};o.displayName=e;const a=t+"CollectionSlot",u=od(a),c=H.forwardRef((y,T)=>{const{scope:_,children:w}=y,b=i(a,_),D=Ot(T,b.collectionRef);return v.jsx(u,{ref:D,children:w})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=od(d),m=H.forwardRef((y,T)=>{const{scope:_,children:w,...b}=y,D=H.useRef(null),O=Ot(T,D),M=i(d,_);return H.useEffect(()=>(M.itemMap.set(D,{ref:D,...b}),()=>void M.itemMap.delete(D))),v.jsx(p,{[h]:"",ref:O,children:w})});m.displayName=d;function x(y){const T=i(t+"CollectionConsumer",y);return H.useCallback(()=>{const w=T.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(T.itemMap.values()).sort((M,E)=>b.indexOf(M.ref.current)-b.indexOf(E.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},x,r]}var xP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ze=xP.reduce((t,e)=>{const n=od(`Primitive.${e}`),r=I.forwardRef((s,i)=>{const{asChild:o,...a}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(u,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function bT(t,e){t&&eu.flushSync(()=>t.dispatchEvent(e))}function cr(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function SP(t,e=globalThis==null?void 0:globalThis.document){const n=cr(t);I.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var IP="DismissableLayer",qp="dismissableLayer.update",bP="dismissableLayer.pointerDownOutside",CP="dismissableLayer.focusOutside",j0,CT=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xd=I.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=t,c=I.useContext(CT),[d,h]=I.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=I.useState({}),x=Ot(e,E=>h(E)),y=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(T),w=d?y.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,D=w>=_,O=RP(E=>{const S=E.target,A=[...c.branches].some(R=>R.contains(S));!D||A||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},p),M=PP(E=>{const S=E.target;[...c.branches].some(R=>R.contains(S))||(i==null||i(E),o==null||o(E),E.defaultPrevented||a==null||a())},p);return SP(E=>{w===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},p),I.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(j0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),F0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=j0)}},[d,p,n,c]),I.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),F0())},[d,c]),I.useEffect(()=>{const E=()=>m({});return document.addEventListener(qp,E),()=>document.removeEventListener(qp,E)},[]),v.jsx(Ze.div,{...u,ref:x,style:{pointerEvents:b?D?"auto":"none":void 0,...t.style},onFocusCapture:Le(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Le(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Le(t.onPointerDownCapture,O.onPointerDownCapture)})});Xd.displayName=IP;var AP="DismissableLayerBranch",AT=I.forwardRef((t,e)=>{const n=I.useContext(CT),r=I.useRef(null),s=Ot(e,r);return I.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),v.jsx(Ze.div,{...t,ref:s})});AT.displayName=AP;function RP(t,e=globalThis==null?void 0:globalThis.document){const n=cr(t),r=I.useRef(!1),s=I.useRef(()=>{});return I.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){RT(bP,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function PP(t,e=globalThis==null?void 0:globalThis.document){const n=cr(t),r=I.useRef(!1);return I.useEffect(()=>{const s=i=>{i.target&&!r.current&&RT(CP,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function F0(){const t=new CustomEvent(qp);document.dispatchEvent(t)}function RT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?bT(s,i):s.dispatchEvent(i)}var kP=Xd,NP=AT,Lr=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},DP="Portal",Pg=I.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=I.useState(!1);Lr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?TT.createPortal(v.jsx(Ze.div,{...r,ref:e}),o):null});Pg.displayName=DP;function OP(t,e){return I.useReducer((n,r)=>e[n][r]??n,t)}var sa=t=>{const{present:e,children:n}=t,r=MP(e),s=typeof n=="function"?n({present:r.isPresent}):I.Children.only(n),i=Ot(r.ref,LP(s));return typeof n=="function"||r.isPresent?I.cloneElement(s,{ref:i}):null};sa.displayName="Presence";function MP(t){const[e,n]=I.useState(),r=I.useRef(null),s=I.useRef(t),i=I.useRef("none"),o=t?"mounted":"unmounted",[a,u]=OP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const c=Ku(r.current);i.current=a==="mounted"?c:"none"},[a]),Lr(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,m=Ku(c);t?u("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Lr(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const y=Ku(r.current).includes(m.animationName);if(m.target===e&&y&&(u("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},p=m=>{m.target===e&&(i.current=Ku(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:I.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Ku(t){return(t==null?void 0:t.animationName)||"none"}function LP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var VP=Fm[" useInsertionEffect ".trim().toString()]||Lr;function PT({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=jP({defaultProp:e,onChange:n}),a=t!==void 0,u=a?t:s;{const d=I.useRef(t!==void 0);I.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=I.useCallback(d=>{var h;if(a){const p=FP(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else i(d)},[a,t,i,o]);return[u,c]}function jP({defaultProp:t,onChange:e}){const[n,r]=I.useState(t),s=I.useRef(n),i=I.useRef(e);return VP(()=>{i.current=e},[e]),I.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function FP(t){return typeof t=="function"}var UP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zP="VisuallyHidden",Jd=I.forwardRef((t,e)=>v.jsx(Ze.span,{...t,ref:e,style:{...UP,...t.style}}));Jd.displayName=zP;var $P=Jd,kg="ToastProvider",[Ng,BP,WP]=TP("Toast"),[kT,S5]=tu("Toast",[WP]),[HP,Zd]=kT(kg),NT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,u]=I.useState(null),[c,d]=I.useState(0),h=I.useRef(!1),p=I.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${kg}\`. Expected non-empty \`string\`.`),v.jsx(Ng.Provider,{scope:e,children:v.jsx(HP,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:I.useCallback(()=>d(m=>m+1),[]),onToastRemove:I.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};NT.displayName=kg;var DT="ToastViewport",qP=["F8"],Kp="toast.viewportPause",Gp="toast.viewportResume",OT=I.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=qP,label:s="Notifications ({hotkey})",...i}=t,o=Zd(DT,n),a=BP(n),u=I.useRef(null),c=I.useRef(null),d=I.useRef(null),h=I.useRef(null),p=Ot(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;I.useEffect(()=>{const T=_=>{var b;r.length!==0&&r.every(D=>_[D]||_.code===D)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),I.useEffect(()=>{const T=u.current,_=h.current;if(x&&T&&_){const w=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Kp);_.dispatchEvent(M),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Gp);_.dispatchEvent(M),o.isClosePausedRef.current=!1}},D=M=>{!T.contains(M.relatedTarget)&&b()},O=()=>{T.contains(document.activeElement)||b()};return T.addEventListener("focusin",w),T.addEventListener("focusout",D),T.addEventListener("pointermove",w),T.addEventListener("pointerleave",O),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{T.removeEventListener("focusin",w),T.removeEventListener("focusout",D),T.removeEventListener("pointermove",w),T.removeEventListener("pointerleave",O),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const y=I.useCallback(({tabbingDirection:T})=>{const w=a().map(b=>{const D=b.ref.current,O=[D,...ik(D)];return T==="forwards"?O:O.reverse()});return(T==="forwards"?w.reverse():w).flat()},[a]);return I.useEffect(()=>{const T=h.current;if(T){const _=w=>{var O,M,E;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const S=document.activeElement,A=w.shiftKey;if(w.target===T&&A){(O=c.current)==null||O.focus();return}const N=y({tabbingDirection:A?"backwards":"forwards"}),P=N.findIndex(W=>W===S);bf(N.slice(P+1))?w.preventDefault():A?(M=c.current)==null||M.focus():(E=d.current)==null||E.focus()}};return T.addEventListener("keydown",_),()=>T.removeEventListener("keydown",_)}},[a,y]),v.jsxs(NP,{ref:u,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&v.jsx(Qp,{ref:c,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"forwards"});bf(T)}}),v.jsx(Ng.Slot,{scope:n,children:v.jsx(Ze.ol,{tabIndex:-1,...i,ref:p})}),x&&v.jsx(Qp,{ref:d,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"backwards"});bf(T)}})]})});OT.displayName=DT;var MT="ToastFocusProxy",Qp=I.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Zd(MT,n);return v.jsx(Jd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Qp.displayName=MT;var nu="Toast",KP="toast.swipeStart",GP="toast.swipeMove",QP="toast.swipeCancel",YP="toast.swipeEnd",LT=I.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,u]=PT({prop:r,defaultProp:s??!0,onChange:i,caller:nu});return v.jsx(sa,{present:n||a,children:v.jsx(ZP,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:cr(t.onPause),onResume:cr(t.onResume),onSwipeStart:Le(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Le(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),u(!1)})})})});LT.displayName=nu;var[XP,JP]=kT(nu,{onClose(){}}),ZP=I.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...x}=t,y=Zd(nu,n),[T,_]=I.useState(null),w=Ot(e,W=>_(W)),b=I.useRef(null),D=I.useRef(null),O=s||y.duration,M=I.useRef(0),E=I.useRef(O),S=I.useRef(0),{onToastAdd:A,onToastRemove:R}=y,k=cr(()=>{var ie;(T==null?void 0:T.contains(document.activeElement))&&((ie=y.viewport)==null||ie.focus()),o()}),N=I.useCallback(W=>{!W||W===1/0||(window.clearTimeout(S.current),M.current=new Date().getTime(),S.current=window.setTimeout(k,W))},[k]);I.useEffect(()=>{const W=y.viewport;if(W){const ie=()=>{N(E.current),c==null||c()},te=()=>{const oe=new Date().getTime()-M.current;E.current=E.current-oe,window.clearTimeout(S.current),u==null||u()};return W.addEventListener(Kp,te),W.addEventListener(Gp,ie),()=>{W.removeEventListener(Kp,te),W.removeEventListener(Gp,ie)}}},[y.viewport,O,u,c,N]),I.useEffect(()=>{i&&!y.isClosePausedRef.current&&N(O)},[i,O,y.isClosePausedRef,N]),I.useEffect(()=>(A(),()=>R()),[A,R]);const P=I.useMemo(()=>T?BT(T):null,[T]);return y.viewport?v.jsxs(v.Fragment,{children:[P&&v.jsx(ek,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),v.jsx(XP,{scope:n,onClose:k,children:eu.createPortal(v.jsx(Ng.ItemSlot,{scope:n,children:v.jsx(kP,{asChild:!0,onEscapeKeyDown:Le(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||k(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(Ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Le(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Le(t.onPointerDown,W=>{W.button===0&&(b.current={x:W.clientX,y:W.clientY})}),onPointerMove:Le(t.onPointerMove,W=>{if(!b.current)return;const ie=W.clientX-b.current.x,te=W.clientY-b.current.y,oe=!!D.current,j=["left","right"].includes(y.swipeDirection),z=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,K=j?z(0,ie):0,re=j?0:z(0,te),X=W.pointerType==="touch"?10:2,de={x:K,y:re},ue={originalEvent:W,delta:de};oe?(D.current=de,Gu(GP,h,ue,{discrete:!1})):U0(de,y.swipeDirection,X)?(D.current=de,Gu(KP,d,ue,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ie)>X||Math.abs(te)>X)&&(b.current=null)}),onPointerUp:Le(t.onPointerUp,W=>{const ie=D.current,te=W.target;if(te.hasPointerCapture(W.pointerId)&&te.releasePointerCapture(W.pointerId),D.current=null,b.current=null,ie){const oe=W.currentTarget,j={originalEvent:W,delta:ie};U0(ie,y.swipeDirection,y.swipeThreshold)?Gu(YP,m,j,{discrete:!0}):Gu(QP,p,j,{discrete:!0}),oe.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),ek=t=>{const{__scopeToast:e,children:n,...r}=t,s=Zd(nu,e),[i,o]=I.useState(!1),[a,u]=I.useState(!1);return rk(()=>o(!0)),I.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:v.jsx(Pg,{asChild:!0,children:v.jsx(Jd,{...r,children:i&&v.jsxs(v.Fragment,{children:[s.label," ",n]})})})},tk="ToastTitle",VT=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(Ze.div,{...r,ref:e})});VT.displayName=tk;var nk="ToastDescription",jT=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(Ze.div,{...r,ref:e})});jT.displayName=nk;var FT="ToastAction",UT=I.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?v.jsx($T,{altText:n,asChild:!0,children:v.jsx(Dg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${FT}\`. Expected non-empty \`string\`.`),null)});UT.displayName=FT;var zT="ToastClose",Dg=I.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=JP(zT,n);return v.jsx($T,{asChild:!0,children:v.jsx(Ze.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,s.onClose)})})});Dg.displayName=zT;var $T=I.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return v.jsx(Ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function BT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),sk(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...BT(r))}}),e}function Gu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?bT(s,i):s.dispatchEvent(i)}var U0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function rk(t=()=>{}){const e=cr(t);Lr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function sk(t){return t.nodeType===t.ELEMENT_NODE}function ik(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function bf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var ok=NT,WT=OT,HT=LT,qT=VT,KT=jT,GT=UT,QT=Dg;function YT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=YT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function XT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=YT(t))&&(r&&(r+=" "),r+=e);return r}const z0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,$0=XT,ak=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return $0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const p=z0(d)||z0(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(x=>{let[y,T]=x;return Array.isArray(T)?T.includes({...i,...a}[y]):{...i,...a}[y]===T})?[...c,h,p]:c},[]);return $0(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>I.createElement("svg",{ref:u,...uk,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:JT("lucide",s),...a},[...o.map(([c,d])=>I.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(t,e)=>{const n=I.forwardRef(({className:r,...s},i)=>I.createElement(ck,{ref:i,iconNode:e,className:JT(`lucide-${lk(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=Ie("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=Ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Ie("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=Ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=Ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=Ie("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=Ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=Ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=Ie("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=Ie("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=Ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=Ie("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Ie("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=Ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=Ie("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=Ie("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=Ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Ie("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Ie("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=Ie("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=Ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=Ie("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=Ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mg="-",Ik=t=>{const e=Ck(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Mg);return a[0]===""&&a.length!==1&&a.shift(),ox(a,e)||bk(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},ox=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?ox(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Mg);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},W0=/^\[(.+)\]$/,bk=t=>{if(W0.test(t)){const e=W0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Ck=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Rk(Object.entries(t.classGroups),n).forEach(([i,o])=>{Jp(o,r,i,e)}),r},Jp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:H0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Ak(s)){Jp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Jp(o,H0(e,i),n,r)})})},H0=(t,e)=>{let n=t;return e.split(Mg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Ak=t=>t.isThemeGetter,Rk=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,Pk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},ax="!",kk=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const u=[];let c=0,d=0,h;for(let T=0;T<a.length;T++){let _=a[T];if(c===0){if(_===s&&(r||a.slice(T,T+i)===e)){u.push(a.slice(d,T)),d=T+i;continue}if(_==="/"){h=T;continue}}_==="["?c++:_==="]"&&c--}const p=u.length===0?a:a.substring(d),m=p.startsWith(ax),x=m?p.substring(1):p,y=h&&h>d?h-d:void 0;return{modifiers:u,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},Nk=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Dk=t=>({cache:Pk(t.cacheSize),parseClassName:kk(t),...Ik(t)}),Ok=/\s+/,Mk=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Ok);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let x=!!m,y=r(x?p.substring(0,m):p);if(!y){if(!x){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}x=!1}const T=Nk(d).join(":"),_=h?T+ax:T,w=_+y;if(i.includes(w))continue;i.push(w);const b=s(y,x);for(let D=0;D<b.length;++D){const O=b[D];i.push(_+O)}a=c+(a.length>0?" "+a:a)}return a};function Lk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=lx(e))&&(r&&(r+=" "),r+=n);return r}const lx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=lx(t[r]))&&(n&&(n+=" "),n+=e);return n};function Vk(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((d,h)=>h(d),t());return n=Dk(c),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const c=r(u);if(c)return c;const d=Mk(u,n);return s(u,d),d}return function(){return i(Lk.apply(null,arguments))}}const Re=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},ux=/^\[(?:([a-z-]+):)?(.+)\]$/i,jk=/^\d+\/\d+$/,Fk=new Set(["px","full","screen"]),Uk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$k=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Bk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_r=t=>To(t)||Fk.has(t)||jk.test(t),ts=t=>ia(t,"length",Jk),To=t=>!!t&&!Number.isNaN(Number(t)),Cf=t=>ia(t,"number",To),Fa=t=>!!t&&Number.isInteger(Number(t)),Hk=t=>t.endsWith("%")&&To(t.slice(0,-1)),ce=t=>ux.test(t),ns=t=>Uk.test(t),qk=new Set(["length","size","percentage"]),Kk=t=>ia(t,qk,cx),Gk=t=>ia(t,"position",cx),Qk=new Set(["image","url"]),Yk=t=>ia(t,Qk,eN),Xk=t=>ia(t,"",Zk),Ua=()=>!0,ia=(t,e,n)=>{const r=ux.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Jk=t=>zk.test(t)&&!$k.test(t),cx=()=>!1,Zk=t=>Bk.test(t),eN=t=>Wk.test(t),tN=()=>{const t=Re("colors"),e=Re("spacing"),n=Re("blur"),r=Re("brightness"),s=Re("borderColor"),i=Re("borderRadius"),o=Re("borderSpacing"),a=Re("borderWidth"),u=Re("contrast"),c=Re("grayscale"),d=Re("hueRotate"),h=Re("invert"),p=Re("gap"),m=Re("gradientColorStops"),x=Re("gradientColorStopPositions"),y=Re("inset"),T=Re("margin"),_=Re("opacity"),w=Re("padding"),b=Re("saturate"),D=Re("scale"),O=Re("sepia"),M=Re("skew"),E=Re("space"),S=Re("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ce,e],N=()=>[ce,e],P=()=>["",_r,ts],W=()=>["auto",To,ce],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ce],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[To,ce];return{cacheSize:500,separator:":",theme:{colors:[Ua],spacing:[_r,ts],blur:["none","",ns,ce],brightness:re(),borderColor:[t],borderRadius:["none","","full",ns,ce],borderSpacing:N(),borderWidth:P(),contrast:re(),grayscale:z(),hueRotate:re(),invert:z(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[Hk,ts],inset:k(),margin:k(),opacity:re(),padding:N(),saturate:re(),scale:re(),sepia:z(),skew:re(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[ns]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),ce]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fa,ce]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Fa,ce]}],"grid-cols":[{"grid-cols":[Ua]}],"col-start-end":[{col:["auto",{span:["full",Fa,ce]},ce]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Ua]}],"row-start-end":[{row:["auto",{span:[Fa,ce]},ce]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[ns]},ns]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ns,ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cf]}],"font-family":[{font:[Ua]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",To,Cf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_r,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_r,ts]}],"underline-offset":[{"underline-offset":["auto",_r,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),Gk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Kk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Yk]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[_r,ce]}],"outline-w":[{outline:[_r,ts]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[_r,ts]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ns,Xk]}],"shadow-color":[{shadow:[Ua]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",ns,ce]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Fa,ce]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_r,ts,Cf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nN=Vk(tN);function vn(...t){return nN(XT(t))}const rN=ok,dx=I.forwardRef(({className:t,...e},n)=>v.jsx(WT,{ref:n,className:vn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));dx.displayName=WT.displayName;const sN=ak("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hx=I.forwardRef(({className:t,variant:e,...n},r)=>v.jsx(HT,{ref:r,className:vn(sN({variant:e}),t),...n}));hx.displayName=HT.displayName;const iN=I.forwardRef(({className:t,...e},n)=>v.jsx(GT,{ref:n,className:vn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));iN.displayName=GT.displayName;const fx=I.forwardRef(({className:t,...e},n)=>v.jsx(QT,{ref:n,className:vn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:v.jsx(ix,{className:"h-4 w-4"})}));fx.displayName=QT.displayName;const px=I.forwardRef(({className:t,...e},n)=>v.jsx(qT,{ref:n,className:vn("text-sm font-semibold",t),...e}));px.displayName=qT.displayName;const mx=I.forwardRef(({className:t,...e},n)=>v.jsx(KT,{ref:n,className:vn("text-sm opacity-90",t),...e}));mx.displayName=KT.displayName;function oN(){const{toasts:t}=pP();return v.jsxs(rN,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return v.jsxs(hx,{...i,children:[v.jsxs("div",{className:"grid gap-1",children:[n&&v.jsx(px,{children:n}),r&&v.jsx(mx,{children:r})]}),s,v.jsx(fx,{})]},e)}),v.jsx(dx,{})]})}var q0=["light","dark"],aN="(prefers-color-scheme: dark)",lN=I.createContext(void 0),uN={setTheme:t=>{},themes:[]},cN=()=>{var t;return(t=I.useContext(lN))!=null?t:uN};I.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:u})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?q0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(x,y=!1,T=!0)=>{let _=o?o[x]:x,w=y?x+"|| ''":`'${_}'`,b="";return s&&T&&!y&&q0.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),n==="class"?y||_?b+=`c.add(${w})`:b+="null":_&&(b+=`d[s](n,${w})`),b},m=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${aN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return I.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:m}})});var dN=t=>{switch(t){case"success":return pN;case"info":return gN;case"warning":return mN;case"error":return yN;default:return null}},hN=Array(12).fill(0),fN=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},hN.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),pN=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mN=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gN=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yN=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vN=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),wN=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Zp=1,_N=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Zp++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async u=>{if(i=["resolve",u],H.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(TN(u)&&!u.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${u.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${u.status}`):e.description;this.create({id:n,type:"error",message:c,description:d})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(u):e.success,d=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"success",message:c,description:d})}}).catch(async u=>{if(i=["reject",u],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(u):e.error,d=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"error",message:c,description:d})}}).finally(()=>{var u;s&&(this.dismiss(n),n=void 0),(u=e.finally)==null||u.call(e)}),a=()=>new Promise((u,c)=>o.then(()=>i[0]==="reject"?c(i[1]):u(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Zp++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ft=new _N,EN=(t,e)=>{let n=(e==null?void 0:e.id)||Zp++;return Ft.addToast({title:t,...e,id:n}),n},TN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",xN=EN,SN=()=>Ft.toasts,IN=()=>Ft.getActiveToasts(),Ji=Object.assign(xN,{success:Ft.success,info:Ft.info,warning:Ft.warning,error:Ft.error,custom:Ft.custom,message:Ft.message,promise:Ft.promise,dismiss:Ft.dismiss,loading:Ft.loading},{getHistory:SN,getToasts:IN});function bN(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}bN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Qu(t){return t.label!==void 0}var CN=3,AN="32px",RN="16px",K0=4e3,PN=356,kN=14,NN=20,DN=200;function xn(...t){return t.filter(Boolean).join(" ")}function ON(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var MN=t=>{var e,n,r,s,i,o,a,u,c,d,h;let{invert:p,toast:m,unstyled:x,interacting:y,setHeights:T,visibleToasts:_,heights:w,index:b,toasts:D,expanded:O,removeToast:M,defaultRichColors:E,closeButton:S,style:A,cancelButtonStyle:R,actionButtonStyle:k,className:N="",descriptionClassName:P="",duration:W,position:ie,gap:te,loadingIcon:oe,expandByDefault:j,classNames:z,icons:K,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:X}=t,[de,ue]=H.useState(null),[Oe,Ge]=H.useState(null),[ye,Un]=H.useState(!1),[wn,gr]=H.useState(!1),[zn,yr]=H.useState(!1),[on,Js]=H.useState(!1),[ga,Hr]=H.useState(!1),[Zs,qr]=H.useState(0),[Ve,ot]=H.useState(0),$n=H.useRef(m.duration||W||K0),gu=H.useRef(null),Bn=H.useRef(null),Oh=b===0,ei=b+1<=_,Rt=m.type,vr=m.dismissible!==!1,ya=m.className||"",Mh=m.descriptionClassName||"",Bi=H.useMemo(()=>w.findIndex(Z=>Z.toastId===m.id)||0,[w,m.id]),yu=H.useMemo(()=>{var Z;return(Z=m.closeButton)!=null?Z:S},[m.closeButton,S]),va=H.useMemo(()=>m.duration||W||K0,[m.duration,W]),wr=H.useRef(0),Wn=H.useRef(0),Wi=H.useRef(0),Vt=H.useRef(null),[vu,Hi]=ie.split("-"),wa=H.useMemo(()=>w.reduce((Z,Ee,be)=>be>=Bi?Z:Z+Ee.height,0),[w,Bi]),Kr=wN(),wu=m.invert||p,et=Rt==="loading";Wn.current=H.useMemo(()=>Bi*te+wa,[Bi,wa]),H.useEffect(()=>{$n.current=va},[va]),H.useEffect(()=>{Un(!0)},[]),H.useEffect(()=>{let Z=Bn.current;if(Z){let Ee=Z.getBoundingClientRect().height;return ot(Ee),T(be=>[{toastId:m.id,height:Ee,position:m.position},...be]),()=>T(be=>be.filter(at=>at.toastId!==m.id))}},[T,m.id]),H.useLayoutEffect(()=>{if(!ye)return;let Z=Bn.current,Ee=Z.style.height;Z.style.height="auto";let be=Z.getBoundingClientRect().height;Z.style.height=Ee,ot(be),T(at=>at.find(Gt=>Gt.toastId===m.id)?at.map(Gt=>Gt.toastId===m.id?{...Gt,height:be}:Gt):[{toastId:m.id,height:be,position:m.position},...at])},[ye,m.title,m.description,T,m.id]);let _n=H.useCallback(()=>{gr(!0),qr(Wn.current),T(Z=>Z.filter(Ee=>Ee.toastId!==m.id)),setTimeout(()=>{M(m)},DN)},[m,M,T,Wn]);H.useEffect(()=>{if(m.promise&&Rt==="loading"||m.duration===1/0||m.type==="loading")return;let Z;return O||y||X&&Kr?(()=>{if(Wi.current<wr.current){let Ee=new Date().getTime()-wr.current;$n.current=$n.current-Ee}Wi.current=new Date().getTime()})():$n.current!==1/0&&(wr.current=new Date().getTime(),Z=setTimeout(()=>{var Ee;(Ee=m.onAutoClose)==null||Ee.call(m,m),_n()},$n.current)),()=>clearTimeout(Z)},[O,y,m,Rt,X,Kr,_n]),H.useEffect(()=>{m.delete&&_n()},[_n,m.delete]);function ti(){var Z,Ee,be;return K!=null&&K.loading?H.createElement("div",{className:xn(z==null?void 0:z.loader,(Z=m==null?void 0:m.classNames)==null?void 0:Z.loader,"sonner-loader"),"data-visible":Rt==="loading"},K.loading):oe?H.createElement("div",{className:xn(z==null?void 0:z.loader,(Ee=m==null?void 0:m.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Rt==="loading"},oe):H.createElement(fN,{className:xn(z==null?void 0:z.loader,(be=m==null?void 0:m.classNames)==null?void 0:be.loader),visible:Rt==="loading"})}return H.createElement("li",{tabIndex:0,ref:Bn,className:xn(N,ya,z==null?void 0:z.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,z==null?void 0:z.default,z==null?void 0:z[Rt],(n=m==null?void 0:m.classNames)==null?void 0:n[Rt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:E,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":ye,"data-promise":!!m.promise,"data-swiped":ga,"data-removed":wn,"data-visible":ei,"data-y-position":vu,"data-x-position":Hi,"data-index":b,"data-front":Oh,"data-swiping":zn,"data-dismissible":vr,"data-type":Rt,"data-invert":wu,"data-swipe-out":on,"data-swipe-direction":Oe,"data-expanded":!!(O||j&&ye),style:{"--index":b,"--toasts-before":b,"--z-index":D.length-b,"--offset":`${wn?Zs:Wn.current}px`,"--initial-height":j?"auto":`${Ve}px`,...A,...m.style},onDragEnd:()=>{yr(!1),ue(null),Vt.current=null},onPointerDown:Z=>{et||!vr||(gu.current=new Date,qr(Wn.current),Z.target.setPointerCapture(Z.pointerId),Z.target.tagName!=="BUTTON"&&(yr(!0),Vt.current={x:Z.clientX,y:Z.clientY}))},onPointerUp:()=>{var Z,Ee,be,at;if(on||!vr)return;Vt.current=null;let Gt=Number(((Z=Bn.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Hn=Number(((Ee=Bn.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),an=new Date().getTime()-((be=gu.current)==null?void 0:be.getTime()),jt=de==="x"?Gt:Hn,En=Math.abs(jt)/an;if(Math.abs(jt)>=NN||En>.11){qr(Wn.current),(at=m.onDismiss)==null||at.call(m,m),Ge(de==="x"?Gt>0?"right":"left":Hn>0?"down":"up"),_n(),Js(!0),Hr(!1);return}yr(!1),ue(null)},onPointerMove:Z=>{var Ee,be,at,Gt;if(!Vt.current||!vr||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;let Hn=Z.clientY-Vt.current.y,an=Z.clientX-Vt.current.x,jt=(be=t.swipeDirections)!=null?be:ON(ie);!de&&(Math.abs(an)>1||Math.abs(Hn)>1)&&ue(Math.abs(an)>Math.abs(Hn)?"x":"y");let En={x:0,y:0};de==="y"?(jt.includes("top")||jt.includes("bottom"))&&(jt.includes("top")&&Hn<0||jt.includes("bottom")&&Hn>0)&&(En.y=Hn):de==="x"&&(jt.includes("left")||jt.includes("right"))&&(jt.includes("left")&&an<0||jt.includes("right")&&an>0)&&(En.x=an),(Math.abs(En.x)>0||Math.abs(En.y)>0)&&Hr(!0),(at=Bn.current)==null||at.style.setProperty("--swipe-amount-x",`${En.x}px`),(Gt=Bn.current)==null||Gt.style.setProperty("--swipe-amount-y",`${En.y}px`)}},yu&&!m.jsx?H.createElement("button",{"aria-label":re,"data-disabled":et,"data-close-button":!0,onClick:et||!vr?()=>{}:()=>{var Z;_n(),(Z=m.onDismiss)==null||Z.call(m,m)},className:xn(z==null?void 0:z.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=K==null?void 0:K.close)!=null?i:vN):null,m.jsx||I.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:H.createElement(H.Fragment,null,Rt||m.icon||m.promise?H.createElement("div",{"data-icon":"",className:xn(z==null?void 0:z.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ti():null,m.type!=="loading"?m.icon||(K==null?void 0:K[Rt])||dN(Rt):null):null,H.createElement("div",{"data-content":"",className:xn(z==null?void 0:z.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:xn(z==null?void 0:z.title,(u=m==null?void 0:m.classNames)==null?void 0:u.title)},typeof m.title=="function"?m.title():m.title),m.description?H.createElement("div",{"data-description":"",className:xn(P,Mh,z==null?void 0:z.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),I.isValidElement(m.cancel)?m.cancel:m.cancel&&Qu(m.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:Z=>{var Ee,be;Qu(m.cancel)&&vr&&((be=(Ee=m.cancel).onClick)==null||be.call(Ee,Z),_n())},className:xn(z==null?void 0:z.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,I.isValidElement(m.action)?m.action:m.action&&Qu(m.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||k,onClick:Z=>{var Ee,be;Qu(m.action)&&((be=(Ee=m.action).onClick)==null||be.call(Ee,Z),!Z.defaultPrevented&&_n())},className:xn(z==null?void 0:z.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function G0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function LN(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?RN:AN;function u(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):u(a)}),n}var VN=I.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:u,mobileOffset:c,theme:d="light",richColors:h,duration:p,style:m,visibleToasts:x=CN,toastOptions:y,dir:T=G0(),gap:_=kN,loadingIcon:w,icons:b,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:O}=t,[M,E]=H.useState([]),S=H.useMemo(()=>Array.from(new Set([r].concat(M.filter(X=>X.position).map(X=>X.position)))),[M,r]),[A,R]=H.useState([]),[k,N]=H.useState(!1),[P,W]=H.useState(!1),[ie,te]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=H.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=H.useRef(null),K=H.useRef(!1),re=H.useCallback(X=>{E(de=>{var ue;return(ue=de.find(Oe=>Oe.id===X.id))!=null&&ue.delete||Ft.dismiss(X.id),de.filter(({id:Oe})=>Oe!==X.id)})},[]);return H.useEffect(()=>Ft.subscribe(X=>{if(X.dismiss){E(de=>de.map(ue=>ue.id===X.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{TT.flushSync(()=>{E(de=>{let ue=de.findIndex(Oe=>Oe.id===X.id);return ue!==-1?[...de.slice(0,ue),{...de[ue],...X},...de.slice(ue+1)]:[X,...de]})})})}),[]),H.useEffect(()=>{if(d!=="system"){te(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:de})=>{te(de?"dark":"light")})}catch{X.addListener(({matches:ue})=>{try{te(ue?"dark":"light")}catch(Oe){console.error(Oe)}})}},[d]),H.useEffect(()=>{M.length<=1&&N(!1)},[M]),H.useEffect(()=>{let X=de=>{var ue,Oe;s.every(Ge=>de[Ge]||de.code===Ge)&&(N(!0),(ue=oe.current)==null||ue.focus()),de.code==="Escape"&&(document.activeElement===oe.current||(Oe=oe.current)!=null&&Oe.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),H.useEffect(()=>{if(oe.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,K.current=!1)}},[oe.current]),H.createElement("section",{ref:e,"aria-label":`${D} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((X,de)=>{var ue;let[Oe,Ge]=X.split("-");return M.length?H.createElement("ol",{key:X,dir:T==="auto"?G0():T,tabIndex:-1,ref:oe,className:a,"data-sonner-toaster":!0,"data-theme":ie,"data-y-position":Oe,"data-lifted":k&&M.length>1&&!i,"data-x-position":Ge,style:{"--front-toast-height":`${((ue=A[0])==null?void 0:ue.height)||0}px`,"--width":`${PN}px`,"--gap":`${_}px`,...m,...LN(u,c)},onBlur:ye=>{K.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(K.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||K.current||(K.current=!0,z.current=ye.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{P||N(!1)},onDragEnd:()=>N(!1),onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},M.filter(ye=>!ye.position&&de===0||ye.position===X).map((ye,Un)=>{var wn,gr;return H.createElement(MN,{key:ye.id,icons:b,index:Un,toast:ye,defaultRichColors:h,duration:(wn=y==null?void 0:y.duration)!=null?wn:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:x,closeButton:(gr=y==null?void 0:y.closeButton)!=null?gr:o,interacting:P,position:X,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:re,toasts:M.filter(zn=>zn.position==ye.position),heights:A.filter(zn=>zn.position==ye.position),setHeights:R,expandByDefault:i,gap:_,loadingIcon:w,expanded:k,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const jN=({...t})=>{const{theme:e="system"}=cN();return v.jsx(VN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var FN=Fm[" useId ".trim().toString()]||(()=>{}),UN=0;function Af(t){const[e,n]=I.useState(FN());return Lr(()=>{t||n(r=>r??String(UN++))},[t]),t||(e?`radix-${e}`:"")}const zN=["top","right","bottom","left"],js=Math.min,Xt=Math.max,ld=Math.round,Yu=Math.floor,ir=t=>({x:t,y:t}),$N={left:"right",right:"left",bottom:"top",top:"bottom"},BN={start:"end",end:"start"};function em(t,e,n){return Xt(t,js(e,n))}function Vr(t,e){return typeof t=="function"?t(e):t}function jr(t){return t.split("-")[0]}function oa(t){return t.split("-")[1]}function Lg(t){return t==="x"?"y":"x"}function Vg(t){return t==="y"?"height":"width"}const WN=new Set(["top","bottom"]);function nr(t){return WN.has(jr(t))?"y":"x"}function jg(t){return Lg(nr(t))}function HN(t,e,n){n===void 0&&(n=!1);const r=oa(t),s=jg(t),i=Vg(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=ud(o)),[o,ud(o)]}function qN(t){const e=ud(t);return[tm(t),e,tm(e)]}function tm(t){return t.replace(/start|end/g,e=>BN[e])}const Q0=["left","right"],Y0=["right","left"],KN=["top","bottom"],GN=["bottom","top"];function QN(t,e,n){switch(t){case"top":case"bottom":return n?e?Y0:Q0:e?Q0:Y0;case"left":case"right":return e?KN:GN;default:return[]}}function YN(t,e,n,r){const s=oa(t);let i=QN(jr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(tm)))),i}function ud(t){return t.replace(/left|right|bottom|top/g,e=>$N[e])}function XN(t){return{top:0,right:0,bottom:0,left:0,...t}}function gx(t){return typeof t!="number"?XN(t):{top:t,right:t,bottom:t,left:t}}function cd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function X0(t,e,n){let{reference:r,floating:s}=t;const i=nr(e),o=jg(e),a=Vg(o),u=jr(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(u){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(oa(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const JN=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=X0(c,r,u),p=r,m={},x=0;for(let y=0;y<a.length;y++){const{name:T,fn:_}=a[y],{x:w,y:b,data:D,reset:O}=await _({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=w??d,h=b??h,m={...m,[T]:{...m[T],...D}},O&&x<=50&&(x++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:h}=X0(c,p,u)),y=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}};async function Pl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Vr(e,t),x=gx(m),T=a[p?h==="floating"?"reference":"floating":h],_=cd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),D=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},O=cd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:u}):w);return{top:(_.top-O.top+x.top)/D.y,bottom:(O.bottom-_.bottom+x.bottom)/D.y,left:(_.left-O.left+x.left)/D.x,right:(O.right-_.right+x.right)/D.x}}const ZN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=Vr(t,e)||{};if(c==null)return{};const h=gx(d),p={x:n,y:r},m=jg(s),x=Vg(m),y=await o.getDimensions(c),T=m==="y",_=T?"top":"left",w=T?"bottom":"right",b=T?"clientHeight":"clientWidth",D=i.reference[x]+i.reference[m]-p[m]-i.floating[x],O=p[m]-i.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=M?M[b]:0;(!E||!await(o.isElement==null?void 0:o.isElement(M)))&&(E=a.floating[b]||i.floating[x]);const S=D/2-O/2,A=E/2-y[x]/2-1,R=js(h[_],A),k=js(h[w],A),N=R,P=E-y[x]-k,W=E/2-y[x]/2+S,ie=em(N,W,P),te=!u.arrow&&oa(s)!=null&&W!==ie&&i.reference[x]/2-(W<N?R:k)-y[x]/2<0,oe=te?W<N?W-N:W-P:0;return{[m]:p[m]+oe,data:{[m]:ie,centerOffset:W-ie-oe,...te&&{alignmentOffset:oe}},reset:te}}}),e2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...T}=Vr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=jr(s),w=nr(a),b=jr(a)===a,D=await(u.isRTL==null?void 0:u.isRTL(c.floating)),O=p||(b||!y?[ud(a)]:qN(a)),M=x!=="none";!p&&M&&O.push(...YN(a,y,x,D));const E=[a,...O],S=await Pl(e,T),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(S[_]),h){const W=HN(s,o,D);A.push(S[W[0]],S[W[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(W=>W<=0)){var k,N;const W=(((k=i.flip)==null?void 0:k.index)||0)+1,ie=E[W];if(ie&&(!(h==="alignment"?w!==nr(ie):!1)||R.every(j=>j.overflows[0]>0&&nr(j.placement)===w)))return{data:{index:W,overflows:R},reset:{placement:ie}};let te=(N=R.filter(oe=>oe.overflows[0]<=0).sort((oe,j)=>oe.overflows[1]-j.overflows[1])[0])==null?void 0:N.placement;if(!te)switch(m){case"bestFit":{var P;const oe=(P=R.filter(j=>{if(M){const z=nr(j.placement);return z===w||z==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(z=>z>0).reduce((z,K)=>z+K,0)]).sort((j,z)=>j[1]-z[1])[0])==null?void 0:P[0];oe&&(te=oe);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function J0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Z0(t){return zN.some(e=>t[e]>=0)}const t2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Vr(t,e);switch(r){case"referenceHidden":{const i=await Pl(e,{...s,elementContext:"reference"}),o=J0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Z0(o)}}}case"escaped":{const i=await Pl(e,{...s,altBoundary:!0}),o=J0(i,n.floating);return{data:{escapedOffsets:o,escaped:Z0(o)}}}default:return{}}}}},yx=new Set(["left","top"]);async function n2(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=jr(n),a=oa(n),u=nr(n)==="y",c=yx.has(o)?-1:1,d=i&&u?-1:1,h=Vr(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof x=="number"&&(m=a==="end"?x*-1:x),u?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const r2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,u=await n2(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},s2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:_,y:w}=T;return{x:_,y:w}}},...u}=Vr(t,e),c={x:n,y:r},d=await Pl(e,u),h=nr(jr(s)),p=Lg(h);let m=c[p],x=c[h];if(i){const T=p==="y"?"top":"left",_=p==="y"?"bottom":"right",w=m+d[T],b=m-d[_];m=em(w,m,b)}if(o){const T=h==="y"?"top":"left",_=h==="y"?"bottom":"right",w=x+d[T],b=x-d[_];x=em(w,x,b)}const y=a.fn({...e,[p]:m,[h]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[h]:o}}}}}},i2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=Vr(t,e),d={x:n,y:r},h=nr(s),p=Lg(h);let m=d[p],x=d[h];const y=Vr(a,e),T=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const b=p==="y"?"height":"width",D=i.reference[p]-i.floating[b]+T.mainAxis,O=i.reference[p]+i.reference[b]-T.mainAxis;m<D?m=D:m>O&&(m=O)}if(c){var _,w;const b=p==="y"?"width":"height",D=yx.has(jr(s)),O=i.reference[h]-i.floating[b]+(D&&((_=o.offset)==null?void 0:_[h])||0)+(D?0:T.crossAxis),M=i.reference[h]+i.reference[b]+(D?0:((w=o.offset)==null?void 0:w[h])||0)-(D?T.crossAxis:0);x<O?x=O:x>M&&(x=M)}return{[p]:m,[h]:x}}}},o2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:u=()=>{},...c}=Vr(t,e),d=await Pl(e,c),h=jr(s),p=oa(s),m=nr(s)==="y",{width:x,height:y}=i.floating;let T,_;h==="top"||h==="bottom"?(T=h,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,T=p==="end"?"top":"bottom");const w=y-d.top-d.bottom,b=x-d.left-d.right,D=js(y-d[T],w),O=js(x-d[_],b),M=!e.middlewareData.shift;let E=D,S=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=w),M&&!p){const R=Xt(d.left,0),k=Xt(d.right,0),N=Xt(d.top,0),P=Xt(d.bottom,0);m?S=x-2*(R!==0||k!==0?R+k:Xt(d.left,d.right)):E=y-2*(N!==0||P!==0?N+P:Xt(d.top,d.bottom))}await u({...e,availableWidth:S,availableHeight:E});const A=await o.getDimensions(a.floating);return x!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function eh(){return typeof window<"u"}function aa(t){return vx(t)?(t.nodeName||"").toLowerCase():"#document"}function tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function mr(t){var e;return(e=(vx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function vx(t){return eh()?t instanceof Node||t instanceof tn(t).Node:!1}function Vn(t){return eh()?t instanceof Element||t instanceof tn(t).Element:!1}function dr(t){return eh()?t instanceof HTMLElement||t instanceof tn(t).HTMLElement:!1}function ew(t){return!eh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tn(t).ShadowRoot}const a2=new Set(["inline","contents"]);function ru(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=jn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!a2.has(s)}const l2=new Set(["table","td","th"]);function u2(t){return l2.has(aa(t))}const c2=[":popover-open",":modal"];function th(t){return c2.some(e=>{try{return t.matches(e)}catch{return!1}})}const d2=["transform","translate","scale","rotate","perspective"],h2=["transform","translate","scale","rotate","perspective","filter"],f2=["paint","layout","strict","content"];function Fg(t){const e=Ug(),n=Vn(t)?jn(t):t;return d2.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||h2.some(r=>(n.willChange||"").includes(r))||f2.some(r=>(n.contain||"").includes(r))}function p2(t){let e=Fs(t);for(;dr(e)&&!qo(e);){if(Fg(e))return e;if(th(e))return null;e=Fs(e)}return null}function Ug(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const m2=new Set(["html","body","#document"]);function qo(t){return m2.has(aa(t))}function jn(t){return tn(t).getComputedStyle(t)}function nh(t){return Vn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fs(t){if(aa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ew(t)&&t.host||mr(t);return ew(e)?e.host:e}function wx(t){const e=Fs(t);return qo(e)?t.ownerDocument?t.ownerDocument.body:t.body:dr(e)&&ru(e)?e:wx(e)}function kl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=wx(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=tn(s);if(i){const a=nm(o);return e.concat(o,o.visualViewport||[],ru(s)?s:[],a&&n?kl(a):[])}return e.concat(s,kl(s,[],n))}function nm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _x(t){const e=jn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=dr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=ld(n)!==i||ld(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function zg(t){return Vn(t)?t:t.contextElement}function xo(t){const e=zg(t);if(!dr(e))return ir(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=_x(e);let o=(i?ld(n.width):n.width)/r,a=(i?ld(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const g2=ir(0);function Ex(t){const e=tn(t);return!Ug()||!e.visualViewport?g2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function y2(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==tn(t)?!1:e}function Pi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=zg(t);let o=ir(1);e&&(r?Vn(r)&&(o=xo(r)):o=xo(t));const a=y2(i,n,r)?Ex(i):ir(0);let u=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=tn(i),m=r&&Vn(r)?tn(r):r;let x=p,y=nm(x);for(;y&&r&&m!==x;){const T=xo(y),_=y.getBoundingClientRect(),w=jn(y),b=_.left+(y.clientLeft+parseFloat(w.paddingLeft))*T.x,D=_.top+(y.clientTop+parseFloat(w.paddingTop))*T.y;u*=T.x,c*=T.y,d*=T.x,h*=T.y,u+=b,c+=D,x=tn(y),y=nm(x)}}return cd({width:d,height:h,x:u,y:c})}function $g(t,e){const n=nh(t).scrollLeft;return e?e.left+n:Pi(mr(t)).left+n}function Tx(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:$g(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function v2(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=mr(r),a=e?th(e.floating):!1;if(r===o||a&&i)return n;let u={scrollLeft:0,scrollTop:0},c=ir(1);const d=ir(0),h=dr(r);if((h||!h&&!i)&&((aa(r)!=="body"||ru(o))&&(u=nh(r)),dr(r))){const m=Pi(r);c=xo(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=o&&!h&&!i?Tx(o,u,!0):ir(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-u.scrollTop*c.y+d.y+p.y}}function w2(t){return Array.from(t.getClientRects())}function _2(t){const e=mr(t),n=nh(t),r=t.ownerDocument.body,s=Xt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Xt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+$g(t);const a=-n.scrollTop;return jn(r).direction==="rtl"&&(o+=Xt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function E2(t,e){const n=tn(t),r=mr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,u=0;if(s){i=s.width,o=s.height;const c=Ug();(!c||c&&e==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:a,y:u}}const T2=new Set(["absolute","fixed"]);function x2(t,e){const n=Pi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=dr(t)?xo(t):ir(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,u=s*i.x,c=r*i.y;return{width:o,height:a,x:u,y:c}}function tw(t,e,n){let r;if(e==="viewport")r=E2(t,n);else if(e==="document")r=_2(mr(t));else if(Vn(e))r=x2(e,n);else{const s=Ex(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return cd(r)}function xx(t,e){const n=Fs(t);return n===e||!Vn(n)||qo(n)?!1:jn(n).position==="fixed"||xx(n,e)}function S2(t,e){const n=e.get(t);if(n)return n;let r=kl(t,[],!1).filter(a=>Vn(a)&&aa(a)!=="body"),s=null;const i=jn(t).position==="fixed";let o=i?Fs(t):t;for(;Vn(o)&&!qo(o);){const a=jn(o),u=Fg(o);!u&&a.position==="fixed"&&(s=null),(i?!u&&!s:!u&&a.position==="static"&&!!s&&T2.has(s.position)||ru(o)&&!u&&xx(t,o))?r=r.filter(d=>d!==o):s=a,o=Fs(o)}return e.set(t,r),r}function I2(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?th(e)?[]:S2(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,d)=>{const h=tw(e,d,s);return c.top=Xt(h.top,c.top),c.right=js(h.right,c.right),c.bottom=js(h.bottom,c.bottom),c.left=Xt(h.left,c.left),c},tw(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function b2(t){const{width:e,height:n}=_x(t);return{width:e,height:n}}function C2(t,e,n){const r=dr(e),s=mr(e),i=n==="fixed",o=Pi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const u=ir(0);function c(){u.x=$g(s)}if(r||!r&&!i)if((aa(e)!=="body"||ru(s))&&(a=nh(e)),r){const m=Pi(e,!0,i,e);u.x=m.x+e.clientLeft,u.y=m.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?Tx(s,a):ir(0),h=o.left+a.scrollLeft-u.x-d.x,p=o.top+a.scrollTop-u.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function Rf(t){return jn(t).position==="static"}function nw(t,e){if(!dr(t)||jn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return mr(t)===n&&(n=n.ownerDocument.body),n}function Sx(t,e){const n=tn(t);if(th(t))return n;if(!dr(t)){let s=Fs(t);for(;s&&!qo(s);){if(Vn(s)&&!Rf(s))return s;s=Fs(s)}return n}let r=nw(t,e);for(;r&&u2(r)&&Rf(r);)r=nw(r,e);return r&&qo(r)&&Rf(r)&&!Fg(r)?n:r||p2(t)||n}const A2=async function(t){const e=this.getOffsetParent||Sx,n=this.getDimensions,r=await n(t.floating);return{reference:C2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function R2(t){return jn(t).direction==="rtl"}const P2={convertOffsetParentRelativeRectToViewportRelativeRect:v2,getDocumentElement:mr,getClippingRect:I2,getOffsetParent:Sx,getElementRects:A2,getClientRects:w2,getDimensions:b2,getScale:xo,isElement:Vn,isRTL:R2};function Ix(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function k2(t,e){let n=null,r;const s=mr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),i();const c=t.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=c;if(a||e(),!p||!m)return;const x=Yu(h),y=Yu(s.clientWidth-(d+p)),T=Yu(s.clientHeight-(h+m)),_=Yu(d),b={rootMargin:-x+"px "+-y+"px "+-T+"px "+-_+"px",threshold:Xt(0,js(1,u))||1};let D=!0;function O(M){const E=M[0].intersectionRatio;if(E!==u){if(!D)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!Ix(c,t.getBoundingClientRect())&&o(),D=!1}try{n=new IntersectionObserver(O,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,b)}n.observe(t)}return o(!0),i}function N2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=zg(t),d=s||i?[...c?kl(c):[],...kl(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=c&&a?k2(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(_=>{let[w]=_;w&&w.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),c&&!u&&m.observe(c),m.observe(e));let x,y=u?Pi(t):null;u&&T();function T(){const _=Pi(t);y&&!Ix(y,_)&&n(),y=_,x=requestAnimationFrame(T)}return n(),()=>{var _;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(_=m)==null||_.disconnect(),m=null,u&&cancelAnimationFrame(x)}}const D2=r2,O2=s2,M2=e2,L2=o2,V2=t2,rw=ZN,j2=i2,F2=(t,e,n)=>{const r=new Map,s={platform:P2,...n},i={...s.platform,_c:r};return JN(t,e,{...s,platform:i})};var U2=typeof document<"u",z2=function(){},Tc=U2?I.useLayoutEffect:z2;function dd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!dd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!dd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function bx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sw(t,e){const n=bx(t);return Math.round(e*n)/n}function Pf(t){const e=I.useRef(t);return Tc(()=>{e.current=t}),e}function $2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,h]=I.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=I.useState(r);dd(p,r)||m(r);const[x,y]=I.useState(null),[T,_]=I.useState(null),w=I.useCallback(j=>{j!==M.current&&(M.current=j,y(j))},[]),b=I.useCallback(j=>{j!==E.current&&(E.current=j,_(j))},[]),D=i||x,O=o||T,M=I.useRef(null),E=I.useRef(null),S=I.useRef(d),A=u!=null,R=Pf(u),k=Pf(s),N=Pf(c),P=I.useCallback(()=>{if(!M.current||!E.current)return;const j={placement:e,strategy:n,middleware:p};k.current&&(j.platform=k.current),F2(M.current,E.current,j).then(z=>{const K={...z,isPositioned:N.current!==!1};W.current&&!dd(S.current,K)&&(S.current=K,eu.flushSync(()=>{h(K)}))})},[p,e,n,k,N]);Tc(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const W=I.useRef(!1);Tc(()=>(W.current=!0,()=>{W.current=!1}),[]),Tc(()=>{if(D&&(M.current=D),O&&(E.current=O),D&&O){if(R.current)return R.current(D,O,P);P()}},[D,O,P,R,A]);const ie=I.useMemo(()=>({reference:M,floating:E,setReference:w,setFloating:b}),[w,b]),te=I.useMemo(()=>({reference:D,floating:O}),[D,O]),oe=I.useMemo(()=>{const j={position:n,left:0,top:0};if(!te.floating)return j;const z=sw(te.floating,d.x),K=sw(te.floating,d.y);return a?{...j,transform:"translate("+z+"px, "+K+"px)",...bx(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:K}},[n,a,te.floating,d.x,d.y]);return I.useMemo(()=>({...d,update:P,refs:ie,elements:te,floatingStyles:oe}),[d,P,ie,te,oe])}const B2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?rw({element:r.current,padding:s}).fn(n):{}:r?rw({element:r,padding:s}).fn(n):{}}}},W2=(t,e)=>({...D2(t),options:[t,e]}),H2=(t,e)=>({...O2(t),options:[t,e]}),q2=(t,e)=>({...j2(t),options:[t,e]}),K2=(t,e)=>({...M2(t),options:[t,e]}),G2=(t,e)=>({...L2(t),options:[t,e]}),Q2=(t,e)=>({...V2(t),options:[t,e]}),Y2=(t,e)=>({...B2(t),options:[t,e]});var X2="Arrow",Cx=I.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return v.jsx(Ze.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});Cx.displayName=X2;var J2=Cx;function Z2(t){const[e,n]=I.useState(void 0);return Lr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ax="Popper",[Rx,Px]=tu(Ax),[I5,kx]=Rx(Ax),Nx="PopperAnchor",Dx=I.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=kx(Nx,n),o=I.useRef(null),a=Ot(e,o);return I.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:v.jsx(Ze.div,{...s,ref:a})});Dx.displayName=Nx;var Bg="PopperContent",[eD,tD]=Rx(Bg),Ox=I.forwardRef((t,e)=>{var ye,Un,wn,gr,zn,yr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:x,...y}=t,T=kx(Bg,n),[_,w]=I.useState(null),b=Ot(e,on=>w(on)),[D,O]=I.useState(null),M=Z2(D),E=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(c)?c:[c],N=k.length>0,P={padding:R,boundary:k.filter(rD),altBoundary:N},{refs:W,floatingStyles:ie,placement:te,isPositioned:oe,middlewareData:j}=$2({strategy:"fixed",placement:A,whileElementsMounted:(...on)=>N2(...on,{animationFrame:m==="always"}),elements:{reference:T.anchor},middleware:[W2({mainAxis:s+S,alignmentAxis:o}),u&&H2({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?q2():void 0,...P}),u&&K2({...P}),G2({...P,apply:({elements:on,rects:Js,availableWidth:ga,availableHeight:Hr})=>{const{width:Zs,height:qr}=Js.reference,Ve=on.floating.style;Ve.setProperty("--radix-popper-available-width",`${ga}px`),Ve.setProperty("--radix-popper-available-height",`${Hr}px`),Ve.setProperty("--radix-popper-anchor-width",`${Zs}px`),Ve.setProperty("--radix-popper-anchor-height",`${qr}px`)}}),D&&Y2({element:D,padding:a}),sD({arrowWidth:E,arrowHeight:S}),p&&Q2({strategy:"referenceHidden",...P})]}),[z,K]=Vx(te),re=cr(x);Lr(()=>{oe&&(re==null||re())},[oe,re]);const X=(ye=j.arrow)==null?void 0:ye.x,de=(Un=j.arrow)==null?void 0:Un.y,ue=((wn=j.arrow)==null?void 0:wn.centerOffset)!==0,[Oe,Ge]=I.useState();return Lr(()=>{_&&Ge(window.getComputedStyle(_).zIndex)},[_]),v.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:oe?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(gr=j.transformOrigin)==null?void 0:gr.x,(zn=j.transformOrigin)==null?void 0:zn.y].join(" "),...((yr=j.hide)==null?void 0:yr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:v.jsx(eD,{scope:n,placedSide:z,onArrowChange:O,arrowX:X,arrowY:de,shouldHideArrow:ue,children:v.jsx(Ze.div,{"data-side":z,"data-align":K,...y,ref:b,style:{...y.style,animation:oe?void 0:"none"}})})})});Ox.displayName=Bg;var Mx="PopperArrow",nD={top:"bottom",right:"left",bottom:"top",left:"right"},Lx=I.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=tD(Mx,r),o=nD[i.placedSide];return v.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:v.jsx(J2,{...s,ref:n,style:{...s.style,display:"block"}})})});Lx.displayName=Mx;function rD(t){return t!==null}var sD=t=>({name:"transformOrigin",options:t,fn(e){var T,_,w;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,d]=Vx(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+u/2;let x="",y="";return c==="bottom"?(x=o?h:`${p}px`,y=`${-u}px`):c==="top"?(x=o?h:`${p}px`,y=`${r.floating.height+u}px`):c==="right"?(x=`${-u}px`,y=o?h:`${m}px`):c==="left"&&(x=`${r.floating.width+u}px`,y=o?h:`${m}px`),{data:{x,y}}}});function Vx(t){const[e,n="center"]=t.split("-");return[e,n]}var iD=Dx,oD=Ox,aD=Lx,[rh,b5]=tu("Tooltip",[Px]),Wg=Px(),jx="TooltipProvider",lD=700,iw="tooltip.open",[uD,Fx]=rh(jx),Ux=t=>{const{__scopeTooltip:e,delayDuration:n=lD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=I.useRef(!0),a=I.useRef(!1),u=I.useRef(0);return I.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),v.jsx(uD,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:I.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:I.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:I.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};Ux.displayName=jx;var zx="Tooltip",[C5,sh]=rh(zx),rm="TooltipTrigger",cD=I.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=sh(rm,n),i=Fx(rm,n),o=Wg(n),a=I.useRef(null),u=Ot(e,a,s.onTriggerChange),c=I.useRef(!1),d=I.useRef(!1),h=I.useCallback(()=>c.current=!1,[]);return I.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),v.jsx(iD,{asChild:!0,...o,children:v.jsx(Ze.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:Le(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Le(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Le(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Le(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Le(t.onBlur,s.onClose),onClick:Le(t.onClick,s.onClose)})})});cD.displayName=rm;var dD="TooltipPortal",[A5,hD]=rh(dD,{forceMount:void 0}),Ko="TooltipContent",$x=I.forwardRef((t,e)=>{const n=hD(Ko,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=sh(Ko,t.__scopeTooltip);return v.jsx(sa,{present:r||o.open,children:o.disableHoverableContent?v.jsx(Bx,{side:s,...i,ref:e}):v.jsx(fD,{side:s,...i,ref:e})})}),fD=I.forwardRef((t,e)=>{const n=sh(Ko,t.__scopeTooltip),r=Fx(Ko,t.__scopeTooltip),s=I.useRef(null),i=Ot(e,s),[o,a]=I.useState(null),{trigger:u,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,p=I.useCallback(()=>{a(null),h(!1)},[h]),m=I.useCallback((x,y)=>{const T=x.currentTarget,_={x:x.clientX,y:x.clientY},w=vD(_,T.getBoundingClientRect()),b=wD(_,w),D=_D(y.getBoundingClientRect()),O=TD([...b,...D]);a(O),h(!0)},[h]);return I.useEffect(()=>()=>p(),[p]),I.useEffect(()=>{if(u&&d){const x=T=>m(T,d),y=T=>m(T,u);return u.addEventListener("pointerleave",x),d.addEventListener("pointerleave",y),()=>{u.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",y)}}},[u,d,m,p]),I.useEffect(()=>{if(o){const x=y=>{const T=y.target,_={x:y.clientX,y:y.clientY},w=(u==null?void 0:u.contains(T))||(d==null?void 0:d.contains(T)),b=!ED(_,o);w?p():b&&(p(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[u,d,o,c,p]),v.jsx(Bx,{...t,ref:i})}),[pD,mD]=rh(zx,{isInside:!1}),gD=vP("TooltipContent"),Bx=I.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,u=sh(Ko,n),c=Wg(n),{onClose:d}=u;return I.useEffect(()=>(document.addEventListener(iw,d),()=>document.removeEventListener(iw,d)),[d]),I.useEffect(()=>{if(u.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(u.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[u.trigger,d]),v.jsx(Xd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:v.jsxs(oD,{"data-state":u.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(gD,{children:r}),v.jsx(pD,{scope:n,isInside:!0,children:v.jsx($P,{id:u.contentId,role:"tooltip",children:s||r})})]})})});$x.displayName=Ko;var Wx="TooltipArrow",yD=I.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Wg(n);return mD(Wx,n).isInside?null:v.jsx(aD,{...s,...r,ref:e})});yD.displayName=Wx;function vD(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function wD(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function _D(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function ED(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],u=e[o],c=a.x,d=a.y,h=u.x,p=u.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function TD(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),xD(e)}function xD(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var SD=Ux,Hx=$x;const ID=SD,bD=I.forwardRef(({className:t,sideOffset:e=4,...n},r)=>v.jsx(Hx,{ref:r,sideOffset:e,className:vn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));bD.displayName=Hx.displayName;var ih=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oh=typeof window>"u"||"Deno"in globalThis;function In(){}function CD(t,e){return typeof t=="function"?t(e):t}function AD(t){return typeof t=="number"&&t>=0&&t!==1/0}function RD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function sm(t,e){return typeof t=="function"?t(e):t}function PD(t,e){return typeof t=="function"?t(e):t}function ow(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Hg(o,e.options))return!1}else if(!Dl(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function aw(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Nl(e.options.mutationKey)!==Nl(i))return!1}else if(!Dl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Hg(t,e){return((e==null?void 0:e.queryKeyHashFn)||Nl)(t)}function Nl(t){return JSON.stringify(t,(e,n)=>im(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Dl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Dl(t[n],e[n])):!1}function qx(t,e){if(t===e)return t;const n=lw(t)&&lw(e);if(n||im(t)&&im(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},u=new Set(r);let c=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&u.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=qx(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function lw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function im(t){if(!uw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!uw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function uw(t){return Object.prototype.toString.call(t)==="[object Object]"}function kD(t){return new Promise(e=>{setTimeout(e,t)})}function ND(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?qx(t,e):e}function DD(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function OD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var qg=Symbol();function Kx(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===qg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var pi,fs,ko,t1,MD=(t1=class extends ih{constructor(){super();_e(this,pi);_e(this,fs);_e(this,ko);le(this,ko,e=>{if(!oh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,fs)||this.setEventListener(F(this,ko))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,fs))==null||e.call(this),le(this,fs,void 0))}setEventListener(e){var n;le(this,ko,e),(n=F(this,fs))==null||n.call(this),le(this,fs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,pi)!==e&&(le(this,pi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,pi)=="boolean"?F(this,pi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},pi=new WeakMap,fs=new WeakMap,ko=new WeakMap,t1),Gx=new MD,No,ps,Do,n1,LD=(n1=class extends ih{constructor(){super();_e(this,No,!0);_e(this,ps);_e(this,Do);le(this,Do,e=>{if(!oh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,ps)||this.setEventListener(F(this,Do))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,ps))==null||e.call(this),le(this,ps,void 0))}setEventListener(e){var n;le(this,Do,e),(n=F(this,ps))==null||n.call(this),le(this,ps,e(this.setOnline.bind(this)))}setOnline(e){F(this,No)!==e&&(le(this,No,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,No)}},No=new WeakMap,ps=new WeakMap,Do=new WeakMap,n1),hd=new LD;function VD(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function jD(t){return Math.min(1e3*2**t,3e4)}function Qx(t){return(t??"online")==="online"?hd.isOnline():!0}var Yx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function kf(t){return t instanceof Yx}function Xx(t){let e=!1,n=0,r=!1,s;const i=VD(),o=y=>{var T;r||(p(new Yx(y)),(T=t.abort)==null||T.call(t))},a=()=>{e=!0},u=()=>{e=!1},c=()=>Gx.isFocused()&&(t.networkMode==="always"||hd.isOnline())&&t.canRun(),d=()=>Qx(t.networkMode)&&t.canRun(),h=y=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,y),s==null||s(),i.resolve(y))},p=y=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,y),s==null||s(),i.reject(y))},m=()=>new Promise(y=>{var T;s=_=>{(r||c())&&y(_)},(T=t.onPause)==null||T.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),x=()=>{if(r)return;let y;const T=n===0?t.initialPromise:void 0;try{y=T??t.fn()}catch(_){y=Promise.reject(_)}Promise.resolve(y).then(h).catch(_=>{var M;if(r)return;const w=t.retry??(oh?0:3),b=t.retryDelay??jD,D=typeof b=="function"?b(n,_):b,O=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,_);if(e||!O){p(_);return}n++,(M=t.onFail)==null||M.call(t,n,_),kD(D).then(()=>c()?void 0:m()).then(()=>{e?p(_):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:u,canStart:d,start:()=>(d()?x():m().then(x),i)}}var FD=t=>setTimeout(t,0);function UD(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=FD;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Nt=UD(),mi,r1,Jx=(r1=class{constructor(){_e(this,mi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),AD(this.gcTime)&&le(this,mi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(oh?1/0:5*60*1e3))}clearGcTimeout(){F(this,mi)&&(clearTimeout(F(this,mi)),le(this,mi,void 0))}},mi=new WeakMap,r1),Oo,gi,ln,yi,xt,Kl,vi,bn,Er,s1,zD=(s1=class extends Jx{constructor(n){super();_e(this,bn);_e(this,Oo);_e(this,gi);_e(this,ln);_e(this,yi);_e(this,xt);_e(this,Kl);_e(this,vi);le(this,vi,!1),le(this,Kl,n.defaultOptions),this.setOptions(n.options),this.observers=[],le(this,yi,n.client),le(this,ln,F(this,yi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,le(this,Oo,BD(this.options)),this.state=n.state??F(this,Oo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,xt))==null?void 0:n.promise}setOptions(n){this.options={...F(this,Kl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,ln).remove(this)}setData(n,r){const s=ND(this.state.data,n,this.options);return wt(this,bn,Er).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){wt(this,bn,Er).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=F(this,xt))==null?void 0:s.promise;return(i=F(this,xt))==null||i.cancel(n),r?r.then(In).catch(In):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Oo))}isActive(){return this.observers.some(n=>PD(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>sm(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!RD(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,xt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,xt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,ln).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,xt)&&(F(this,vi)?F(this,xt).cancel({revert:!0}):F(this,xt).cancelRetry()),this.scheduleGc()),F(this,ln).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||wt(this,bn,Er).call(this,{type:"invalidate"})}fetch(n,r){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,xt))return F(this,xt).continueRetry(),F(this,xt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(le(this,vi,!0),s.signal)})},o=()=>{const m=Kx(this.options,r),y=(()=>{const T={client:F(this,yi),queryKey:this.queryKey,meta:this.meta};return i(T),T})();return le(this,vi,!1),this.options.persister?this.options.persister(m,y,this):m(y)},u=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,yi),state:this.state,fetchFn:o};return i(m),m})();(d=this.options.behavior)==null||d.onFetch(u,this),le(this,gi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=u.fetchOptions)==null?void 0:h.meta))&&wt(this,bn,Er).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta});const c=m=>{var x,y,T,_;kf(m)&&m.silent||wt(this,bn,Er).call(this,{type:"error",error:m}),kf(m)||((y=(x=F(this,ln).config).onError)==null||y.call(x,m,this),(_=(T=F(this,ln).config).onSettled)==null||_.call(T,this.state.data,m,this)),this.scheduleGc()};return le(this,xt,Xx({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var x,y,T,_;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){c(w);return}(y=(x=F(this,ln).config).onSuccess)==null||y.call(x,m,this),(_=(T=F(this,ln).config).onSettled)==null||_.call(T,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,x)=>{wt(this,bn,Er).call(this,{type:"failed",failureCount:m,error:x})},onPause:()=>{wt(this,bn,Er).call(this,{type:"pause"})},onContinue:()=>{wt(this,bn,Er).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),F(this,xt).start()}},Oo=new WeakMap,gi=new WeakMap,ln=new WeakMap,yi=new WeakMap,xt=new WeakMap,Kl=new WeakMap,vi=new WeakMap,bn=new WeakSet,Er=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...$D(s.data,this.options),fetchMeta:n.meta??null};case"success":return le(this,gi,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return kf(i)&&i.revert&&F(this,gi)?{...F(this,gi),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Nt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,ln).notify({query:this,type:"updated",action:n})})},s1);function $D(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Qx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function BD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xn,i1,WD=(i1=class extends ih{constructor(e={}){super();_e(this,Xn);this.config=e,le(this,Xn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Hg(s,n);let o=this.get(i);return o||(o=new zD({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,Xn).has(e.queryHash)||(F(this,Xn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,Xn).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,Xn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,Xn).get(e)}getAll(){return[...F(this,Xn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ow(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>ow(e,r)):n}notify(e){Nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Xn=new WeakMap,i1),Jn,Pt,wi,Zn,ss,o1,HD=(o1=class extends Jx{constructor(n){super();_e(this,Zn);_e(this,Jn);_e(this,Pt);_e(this,wi);this.mutationId=n.mutationId,le(this,Pt,n.mutationCache),le(this,Jn,[]),this.state=n.state||qD(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,Jn).includes(n)||(F(this,Jn).push(n),this.clearGcTimeout(),F(this,Pt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){le(this,Jn,F(this,Jn).filter(r=>r!==n)),this.scheduleGc(),F(this,Pt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,Jn).length||(this.state.status==="pending"?this.scheduleGc():F(this,Pt).remove(this))}continue(){var n;return((n=F(this,wi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,u,c,d,h,p,m,x,y,T,_,w,b,D,O,M,E,S,A;const r=()=>{wt(this,Zn,ss).call(this,{type:"continue"})};le(this,wi,Xx({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,k)=>{wt(this,Zn,ss).call(this,{type:"failed",failureCount:R,error:k})},onPause:()=>{wt(this,Zn,ss).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Pt).canRun(this)}));const s=this.state.status==="pending",i=!F(this,wi).canStart();try{if(s)r();else{wt(this,Zn,ss).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=F(this,Pt).config).onMutate)==null?void 0:a.call(o,n,this));const k=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,n));k!==this.state.context&&wt(this,Zn,ss).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const R=await F(this,wi).start();return await((h=(d=F(this,Pt).config).onSuccess)==null?void 0:h.call(d,R,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,R,n,this.state.context)),await((y=(x=F(this,Pt).config).onSettled)==null?void 0:y.call(x,R,null,this.state.variables,this.state.context,this)),await((_=(T=this.options).onSettled)==null?void 0:_.call(T,R,null,n,this.state.context)),wt(this,Zn,ss).call(this,{type:"success",data:R}),R}catch(R){try{throw await((b=(w=F(this,Pt).config).onError)==null?void 0:b.call(w,R,n,this.state.context,this)),await((O=(D=this.options).onError)==null?void 0:O.call(D,R,n,this.state.context)),await((E=(M=F(this,Pt).config).onSettled)==null?void 0:E.call(M,void 0,R,this.state.variables,this.state.context,this)),await((A=(S=this.options).onSettled)==null?void 0:A.call(S,void 0,R,n,this.state.context)),R}finally{wt(this,Zn,ss).call(this,{type:"error",error:R})}}finally{F(this,Pt).runNext(this)}}},Jn=new WeakMap,Pt=new WeakMap,wi=new WeakMap,Zn=new WeakSet,ss=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Nt.batch(()=>{F(this,Jn).forEach(s=>{s.onMutationUpdate(n)}),F(this,Pt).notify({mutation:this,type:"updated",action:n})})},o1);function qD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sr,Cn,Gl,a1,KD=(a1=class extends ih{constructor(e={}){super();_e(this,Sr);_e(this,Cn);_e(this,Gl);this.config=e,le(this,Sr,new Set),le(this,Cn,new Map),le(this,Gl,0)}build(e,n,r){const s=new HD({mutationCache:this,mutationId:++Ru(this,Gl)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,Sr).add(e);const n=Xu(e);if(typeof n=="string"){const r=F(this,Cn).get(n);r?r.push(e):F(this,Cn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,Sr).delete(e)){const n=Xu(e);if(typeof n=="string"){const r=F(this,Cn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,Cn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Xu(e);if(typeof n=="string"){const r=F(this,Cn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Xu(e);if(typeof n=="string"){const s=(r=F(this,Cn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Nt.batch(()=>{F(this,Sr).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,Sr).clear(),F(this,Cn).clear()})}getAll(){return Array.from(F(this,Sr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>aw(n,r))}findAll(e={}){return this.getAll().filter(n=>aw(e,n))}notify(e){Nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Nt.batch(()=>Promise.all(e.map(n=>n.continue().catch(In))))}},Sr=new WeakMap,Cn=new WeakMap,Gl=new WeakMap,a1);function Xu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function cw(t){return{onFetch:(e,n)=>{var d,h,p,m,x;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let y=!1;const T=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},_=Kx(e.options,e.fetchOptions),w=async(b,D,O)=>{if(y)return Promise.reject();if(D==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:D,direction:O?"backward":"forward",meta:e.options.meta};return T(k),k})(),S=await _(E),{maxPages:A}=e.options,R=O?OD:DD;return{pages:R(b.pages,S,A),pageParams:R(b.pageParams,D,A)}};if(s&&i.length){const b=s==="backward",D=b?GD:dw,O={pages:i,pageParams:o},M=D(r,O);a=await w(O,M,b)}else{const b=t??i.length;do{const D=u===0?o[0]??r.initialPageParam:dw(r,a);if(u>0&&D==null)break;a=await w(a,D),u++}while(u<b)}return a};e.options.persister?e.fetchFn=()=>{var y,T;return(T=(y=e.options).persister)==null?void 0:T.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function dw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function GD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Be,ms,gs,Mo,Lo,ys,Vo,jo,l1,QD=(l1=class{constructor(t={}){_e(this,Be);_e(this,ms);_e(this,gs);_e(this,Mo);_e(this,Lo);_e(this,ys);_e(this,Vo);_e(this,jo);le(this,Be,t.queryCache||new WD),le(this,ms,t.mutationCache||new KD),le(this,gs,t.defaultOptions||{}),le(this,Mo,new Map),le(this,Lo,new Map),le(this,ys,0)}mount(){Ru(this,ys)._++,F(this,ys)===1&&(le(this,Vo,Gx.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Be).onFocus())})),le(this,jo,hd.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Be).onOnline())})))}unmount(){var t,e;Ru(this,ys)._--,F(this,ys)===0&&((t=F(this,Vo))==null||t.call(this),le(this,Vo,void 0),(e=F(this,jo))==null||e.call(this),le(this,jo,void 0))}isFetching(t){return F(this,Be).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,ms).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Be).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,Be).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(sm(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,Be).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,Be).get(r.queryHash),i=s==null?void 0:s.state.data,o=CD(e,i);if(o!==void 0)return F(this,Be).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Nt.batch(()=>F(this,Be).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Be).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,Be);Nt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,Be);return Nt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Nt.batch(()=>F(this,Be).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(In).catch(In)}invalidateQueries(t,e={}){return Nt.batch(()=>(F(this,Be).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Nt.batch(()=>F(this,Be).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(In)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(In)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,Be).build(this,e);return n.isStaleByTime(sm(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(In).catch(In)}fetchInfiniteQuery(t){return t.behavior=cw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(In).catch(In)}ensureInfiniteQueryData(t){return t.behavior=cw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return hd.isOnline()?F(this,ms).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Be)}getMutationCache(){return F(this,ms)}getDefaultOptions(){return F(this,gs)}setDefaultOptions(t){le(this,gs,t)}setQueryDefaults(t,e){F(this,Mo).set(Nl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,Mo).values()],n={};return e.forEach(r=>{Dl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,Lo).set(Nl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,Lo).values()],n={};return e.forEach(r=>{Dl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,gs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Hg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===qg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,gs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,Be).clear(),F(this,ms).clear()}},Be=new WeakMap,ms=new WeakMap,gs=new WeakMap,Mo=new WeakMap,Lo=new WeakMap,ys=new WeakMap,Vo=new WeakMap,jo=new WeakMap,l1),YD=I.createContext(void 0),XD=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.jsx(YD.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ol.apply(this,arguments)}var _s;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_s||(_s={}));const hw="popstate";function JD(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return om("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:eS(s)}return eO(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZD(){return Math.random().toString(36).substr(2,8)}function fw(t,e){return{usr:t.state,key:t.key,idx:e}}function om(t,e,n,r){return n===void 0&&(n=null),Ol({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?la(e):e,{state:n,key:e&&e.key||r||ZD()})}function eS(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function la(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eO(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=_s.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Ol({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=_s.Pop;let T=d(),_=T==null?null:T-c;c=T,u&&u({action:a,location:y.location,delta:_})}function p(T,_){a=_s.Push;let w=om(y.location,T,_);c=d()+1;let b=fw(w,c),D=y.createHref(w);try{o.pushState(b,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(D)}i&&u&&u({action:a,location:y.location,delta:1})}function m(T,_){a=_s.Replace;let w=om(y.location,T,_);c=d();let b=fw(w,c),D=y.createHref(w);o.replaceState(b,"",D),i&&u&&u({action:a,location:y.location,delta:0})}function x(T){let _=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof T=="string"?T:eS(T);return w=w.replace(/ $/,"%20"),Je(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let y={get action(){return a},get location(){return t(s,o)},listen(T){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(hw,h),u=T,()=>{s.removeEventListener(hw,h),u=null}},createHref(T){return e(s,T)},createURL:x,encodeLocation(T){let _=x(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(T){return o.go(T)}};return y}var pw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pw||(pw={}));function tO(t,e,n){return n===void 0&&(n="/"),nO(t,e,n,!1)}function nO(t,e,n,r){let s=typeof e=="string"?la(e):e,i=rS(s.pathname||"/",n);if(i==null)return null;let o=tS(t);rO(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=pO(i);a=hO(o[u],c,r)}return a}function tS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Je(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Ti([r,u.relativePath]),d=n.concat(u);i.children&&i.children.length>0&&(Je(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),tS(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:cO(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of nS(i.path))s(i,o,u)}),e}function nS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=nS(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function rO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sO=/^:[\w-]+$/,iO=3,oO=2,aO=1,lO=10,uO=-2,mw=t=>t==="*";function cO(t,e){let n=t.split("/"),r=n.length;return n.some(mw)&&(r+=uO),e&&(r+=oO),n.filter(s=>!mw(s)).reduce((s,i)=>s+(sO.test(i)?iO:i===""?aO:lO),r)}function dO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function hO(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=gw({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=gw({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ti([i,h.pathname]),pathnameBase:vO(Ti([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Ti([i,h.pathnameBase]))}return o}function gw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[h];return m&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function fO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function pO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?la(t):t;return{pathname:n?n.startsWith("/")?n:gO(n,e):e,search:wO(r),hash:_O(s)}}function gO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Nf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sS(t,e){let n=yO(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function iS(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=la(t):(s=Ol({},t),Je(!s.pathname||!s.pathname.includes("?"),Nf("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),Nf("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),Nf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let u=mO(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Ti=t=>t.join("/").replace(/\/\/+/g,"/"),vO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_O=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oS=["post","put","patch","delete"];new Set(oS);const TO=["get",...oS];new Set(TO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(this,arguments)}const Kg=I.createContext(null),xO=I.createContext(null),su=I.createContext(null),ah=I.createContext(null),Ui=I.createContext({outlet:null,matches:[],isDataRoute:!1}),aS=I.createContext(null);function iu(){return I.useContext(ah)!=null}function lh(){return iu()||Je(!1),I.useContext(ah).location}function lS(t){I.useContext(su).static||I.useLayoutEffect(t)}function SO(){let{isDataRoute:t}=I.useContext(Ui);return t?VO():IO()}function IO(){iu()||Je(!1);let t=I.useContext(Kg),{basename:e,future:n,navigator:r}=I.useContext(su),{matches:s}=I.useContext(Ui),{pathname:i}=lh(),o=JSON.stringify(sS(s,n.v7_relativeSplatPath)),a=I.useRef(!1);return lS(()=>{a.current=!0}),I.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=iS(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ti([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function bO(t,e){return CO(t,e)}function CO(t,e,n,r){iu()||Je(!1);let{navigator:s}=I.useContext(su),{matches:i}=I.useContext(Ui),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=lh(),d;if(e){var h;let T=typeof e=="string"?la(e):e;u==="/"||(h=T.pathname)!=null&&h.startsWith(u)||Je(!1),d=T}else d=c;let p=d.pathname||"/",m=p;if(u!=="/"){let T=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(T.length).join("/")}let x=tO(t,{pathname:m}),y=NO(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Ti([u,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?u:Ti([u,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&y?I.createElement(ah.Provider,{value:{location:Ml({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:_s.Pop}},y):y}function AO(){let t=LO(),e=EO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:s},n):null,null)}const RO=I.createElement(AO,null);class PO extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(Ui.Provider,{value:this.props.routeContext},I.createElement(aS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kO(t){let{routeContext:e,match:n,children:r}=t,s=I.useContext(Kg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(Ui.Provider,{value:e},r)}function NO(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Je(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=n,x=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,x=!1,y=null,T=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||RO,u&&(c<0&&p===0?(x=!0,T=null):c===p&&(x=!0,T=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),w=()=>{let b;return m?b=y:x?b=T:h.route.Component?b=I.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,I.createElement(kO,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?I.createElement(PO,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var uS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uS||{}),fd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fd||{});function DO(t){let e=I.useContext(Kg);return e||Je(!1),e}function OO(t){let e=I.useContext(xO);return e||Je(!1),e}function MO(t){let e=I.useContext(Ui);return e||Je(!1),e}function cS(t){let e=MO(),n=e.matches[e.matches.length-1];return n.route.id||Je(!1),n.route.id}function LO(){var t;let e=I.useContext(aS),n=OO(fd.UseRouteError),r=cS(fd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function VO(){let{router:t}=DO(uS.UseNavigateStable),e=cS(fd.UseNavigateStable),n=I.useRef(!1);return lS(()=>{n.current=!0}),I.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ml({fromRouteId:e},i)))},[t,e])}function jO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function dS(t){let{to:e,replace:n,state:r,relative:s}=t;iu()||Je(!1);let{future:i,static:o}=I.useContext(su),{matches:a}=I.useContext(Ui),{pathname:u}=lh(),c=SO(),d=iS(e,sS(a,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(d);return I.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function xc(t){Je(!1)}function FO(t){let{basename:e="/",children:n=null,location:r,navigationType:s=_s.Pop,navigator:i,static:o=!1,future:a}=t;iu()&&Je(!1);let u=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:u,navigator:i,static:o,future:Ml({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=la(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:x="default"}=r,y=I.useMemo(()=>{let T=rS(d,u);return T==null?null:{location:{pathname:T,search:h,hash:p,state:m,key:x},navigationType:s}},[u,d,h,p,m,x,s]);return y==null?null:I.createElement(su.Provider,{value:c},I.createElement(ah.Provider,{children:n,value:y}))}function UO(t){let{children:e,location:n}=t;return bO(am(e),n)}new Promise(()=>{});function am(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,s)=>{if(!I.isValidElement(r))return;let i=[...e,s];if(r.type===I.Fragment){n.push.apply(n,am(r.props.children,i));return}r.type!==xc&&Je(!1),!r.props.index||!r.props.children||Je(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=am(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const zO="6";try{window.__reactRouterVersion=zO}catch{}const $O="startTransition",yw=Fm[$O];function BO(t){let{basename:e,children:n,future:r,window:s}=t,i=I.useRef();i.current==null&&(i.current=JD({window:s,v5Compat:!0}));let o=i.current,[a,u]=I.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=I.useCallback(h=>{c&&yw?yw(()=>u(h)):u(h)},[u,c]);return I.useLayoutEffect(()=>o.listen(d),[o,d]),I.useEffect(()=>jO(r),[r]),I.createElement(FO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var vw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vw||(vw={}));var ww;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ww||(ww={}));const WO=()=>{};var _w={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},HO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},fS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;u||(m=64,o||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new qO;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const x=c<<6&192|h;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KO=function(t){const e=hS(t);return fS.encodeByteArray(e,!0)},pd=function(t){return KO(t).replace(/\./g,"")},pS=function(t){try{return fS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=()=>GO().__FIREBASE_DEFAULTS__,YO=()=>{if(typeof process>"u"||typeof _w>"u")return;const t=_w.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pS(t[1]);return e&&JSON.parse(e)},uh=()=>{try{return WO()||QO()||YO()||XO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mS=t=>{var e,n;return(n=(e=uh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},JO=t=>{const e=mS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gS=()=>{var t;return(t=uh())==null?void 0:t.config},yS=t=>{var e;return(e=uh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[pd(JSON.stringify(n)),pd(JSON.stringify(o)),""].join(".")}const ol={};function tM(){const t={prod:[],emulator:[]};for(const e of Object.keys(ol))ol[e]?t.emulator.push(e):t.prod.push(e);return t}function nM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ew=!1;function wS(t,e){if(typeof window>"u"||typeof document>"u"||!ua(window.location.host)||ol[t]===e||ol[t]||Ew)return;ol[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=tM().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Ew=!0,o()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=nM(r),m=n("text"),x=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),T=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),w=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;a(b),d(T,y);const D=c();u(w,_),b.append(w,x,T,D),document.body.appendChild(b)}i?(x.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function sM(){var e;const t=(e=uh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lM(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uM(){return!sM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cM(){try{return typeof indexedDB=="object"}catch{return!1}}function dM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="FirebaseError";class Wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hM,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}}class ou{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?fM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Wr(s,a,r)}}function fM(t,e){return t.replace(pM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const pM=/\{\$([^}]+)}/g;function mM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ki(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Tw(i)&&Tw(o)){if(!ki(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Tw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gM(t,e){const n=new yM(t,e);return n.subscribe.bind(n)}class yM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Df),s.error===void 0&&(s.error=Df),s.complete===void 0&&(s.complete=Df);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Df(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class Ni{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EM(e))try{this.getOrInitializeService({instanceIdentifier:li})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=li){return this.instances.has(e)}getOptions(e=li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_M(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=li){return this.component?this.component.multipleInstances?e:li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _M(t){return t===li?void 0:t}function EM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const xM={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},SM=pe.INFO,IM={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},bM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=IM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gg{constructor(e){this.name=e,this._logLevel=SM,this._logHandler=bM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const CM=(t,e)=>e.some(n=>t instanceof n);let xw,Sw;function AM(){return xw||(xw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RM(){return Sw||(Sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _S=new WeakMap,lm=new WeakMap,ES=new WeakMap,Of=new WeakMap,Qg=new WeakMap;function PM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ps(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_S.set(n,t)}).catch(()=>{}),Qg.set(e,t),e}function kM(t){if(lm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});lm.set(t,e)}let um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ES.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NM(t){um=t(um)}function DM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mf(this),e,...n);return ES.set(r,e.sort?e.sort():[e]),Ps(r)}:RM().includes(t)?function(...e){return t.apply(Mf(this),e),Ps(_S.get(this))}:function(...e){return Ps(t.apply(Mf(this),e))}}function OM(t){return typeof t=="function"?DM(t):(t instanceof IDBTransaction&&kM(t),CM(t,AM())?new Proxy(t,um):t)}function Ps(t){if(t instanceof IDBRequest)return PM(t);if(Of.has(t))return Of.get(t);const e=OM(t);return e!==t&&(Of.set(t,e),Qg.set(e,t)),e}const Mf=t=>Qg.get(t);function MM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ps(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ps(o.result),u.oldVersion,u.newVersion,Ps(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const LM=["get","getKey","getAll","getAllKeys","count"],VM=["put","add","delete","clear"],Lf=new Map;function Iw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=VM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||LM.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return Lf.set(e,i),i}NM(t=>({...t,get:(e,n,r)=>Iw(e,n)||t.get(e,n,r),has:(e,n)=>!!Iw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cm="@firebase/app",bw="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Gg("@firebase/app"),UM="@firebase/app-compat",zM="@firebase/analytics-compat",$M="@firebase/analytics",BM="@firebase/app-check-compat",WM="@firebase/app-check",HM="@firebase/auth",qM="@firebase/auth-compat",KM="@firebase/database",GM="@firebase/data-connect",QM="@firebase/database-compat",YM="@firebase/functions",XM="@firebase/functions-compat",JM="@firebase/installations",ZM="@firebase/installations-compat",e4="@firebase/messaging",t4="@firebase/messaging-compat",n4="@firebase/performance",r4="@firebase/performance-compat",s4="@firebase/remote-config",i4="@firebase/remote-config-compat",o4="@firebase/storage",a4="@firebase/storage-compat",l4="@firebase/firestore",u4="@firebase/ai",c4="@firebase/firestore-compat",d4="firebase",h4="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="[DEFAULT]",f4={[cm]:"fire-core",[UM]:"fire-core-compat",[$M]:"fire-analytics",[zM]:"fire-analytics-compat",[WM]:"fire-app-check",[BM]:"fire-app-check-compat",[HM]:"fire-auth",[qM]:"fire-auth-compat",[KM]:"fire-rtdb",[GM]:"fire-data-connect",[QM]:"fire-rtdb-compat",[YM]:"fire-fn",[XM]:"fire-fn-compat",[JM]:"fire-iid",[ZM]:"fire-iid-compat",[e4]:"fire-fcm",[t4]:"fire-fcm-compat",[n4]:"fire-perf",[r4]:"fire-perf-compat",[s4]:"fire-rc",[i4]:"fire-rc-compat",[o4]:"fire-gcs",[a4]:"fire-gcs-compat",[l4]:"fire-fst",[c4]:"fire-fst-compat",[u4]:"fire-vertex","fire-js":"fire-js",[d4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new Map,p4=new Map,hm=new Map;function Cw(t,e){try{t.container.addComponent(e)}catch(n){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Go(t){const e=t.name;if(hm.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,t);for(const n of md.values())Cw(n,t);for(const n of p4.values())Cw(n,t);return!0}function Yg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new ou("app","Firebase",m4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=h4;function TS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:dm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ks.create("bad-app-name",{appName:String(s)});if(n||(n=gS()),!n)throw ks.create("no-options");const i=md.get(s);if(i){if(ki(n,i.options)&&ki(r,i.config))return i;throw ks.create("duplicate-app",{appName:s})}const o=new TM(s);for(const u of hm.values())o.addComponent(u);const a=new g4(n,r,o);return md.set(s,a),a}function xS(t=dm){const e=md.get(t);if(!e&&t===dm&&gS())return TS();if(!e)throw ks.create("no-app",{appName:t});return e}function Ns(t,e,n){let r=f4[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(o.join(" "));return}Go(new Ni(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="firebase-heartbeat-database",v4=1,Ll="firebase-heartbeat-store";let Vf=null;function SS(){return Vf||(Vf=MM(y4,v4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ll)}catch(n){console.warn(n)}}}}).catch(t=>{throw ks.create("idb-open",{originalErrorMessage:t.message})})),Vf}async function w4(t){try{const n=(await SS()).transaction(Ll),r=await n.objectStore(Ll).get(IS(t));return await n.done,r}catch(e){if(e instanceof Wr)Fr.warn(e.message);else{const n=ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(n.message)}}}async function Aw(t,e){try{const r=(await SS()).transaction(Ll,"readwrite");await r.objectStore(Ll).put(e,IS(t)),await r.done}catch(n){if(n instanceof Wr)Fr.warn(n.message);else{const r=ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fr.warn(r.message)}}}function IS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=1024,E4=30;class T4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Rw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>E4){const o=I4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rw(),{heartbeatsToSend:r,unsentEntries:s}=x4(this._heartbeatsCache.heartbeats),i=pd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Fr.warn(n),""}}}function Rw(){return new Date().toISOString().substring(0,10)}function x4(t,e=_4){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Pw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Pw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class S4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cM()?dM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await w4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Aw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Aw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Pw(t){return pd(JSON.stringify({version:2,heartbeats:t})).length}function I4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t){Go(new Ni("platform-logger",e=>new jM(e),"PRIVATE")),Go(new Ni("heartbeat",e=>new T4(e),"PRIVATE")),Ns(cm,bw,t),Ns(cm,bw,"esm2020"),Ns("fire-js","")}b4("");function bS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C4=bS,CS=new ou("auth","Firebase",bS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Gg("@firebase/auth");function A4(t,...e){gd.logLevel<=pe.WARN&&gd.warn(`Auth (${ca}): ${t}`,...e)}function Sc(t,...e){gd.logLevel<=pe.ERROR&&gd.error(`Auth (${ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,...e){throw Jg(t,...e)}function On(t,...e){return Jg(t,...e)}function Xg(t,e,n){const r={...C4(),[e]:n};return new ou("auth","Firebase",r).create(e,{appName:t.name})}function xi(t){return Xg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function R4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&hr(t,"argument-error"),Xg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CS.create(t,...e)}function ne(t,e,...n){if(!t)throw Jg(e,...n)}function Ar(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sc(e),new Error(e)}function Ur(t,e){t||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function P4(){return kw()==="http:"||kw()==="https:"}function kw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P4()||oM()||"connection"in navigator)?navigator.onLine:!0}function N4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ur(n>e,"Short delay should be less than long delay!"),this.isMobile=rM()||aM()}get(){return k4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e){Ur(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M4=new lu(3e4,6e4);function ey(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function da(t,e,n,r,s={}){return RS(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=au({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...i};return iM()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ua(t.emulatorConfig.host)&&(c.credentials="include"),AS.fetch()(await PS(t,t.config.apiHost,n,a),c)})}async function RS(t,e,n){t._canInitEmulator=!1;const r={...D4,...e};try{const s=new V4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ju(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ju(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ju(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Xg(t,d,c);hr(t,d)}}catch(s){if(s instanceof Wr)throw s;hr(t,"network-request-failed",{message:String(s)})}}async function L4(t,e,n,r,s={}){const i=await da(t,e,n,r,s);return"mfaPendingCredential"in i&&hr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function PS(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Zg(t.config,s):`${t.config.apiScheme}://${s}`;return O4.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class V4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(On(this.auth,"network-request-failed")),M4.get())})}}function Ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=On(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(t,e){return da(t,"POST","/v1/accounts:delete",e)}async function yd(t,e){return da(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F4(t,e=!1){const n=yt(t),r=await n.getIdToken(e),s=ty(r);ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:al(jf(s.auth_time)),issuedAtTime:al(jf(s.iat)),expirationTime:al(jf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function jf(t){return Number(t)*1e3}function ty(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const s=pS(n);return s?JSON.parse(s):(Sc("Failed to decode base64 JWT payload"),null)}catch(s){return Sc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Nw(t){const e=ty(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wr&&U4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function U4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=al(this.lastLoginAt),this.creationTime=al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Vl(t,yd(e,{idToken:n}));ne(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?kS(s.providerUserInfo):[],o=B4(t.providerData,i),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new pm(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function $4(t){const e=yt(t);await vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function kS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(t,e){const n=await RS(t,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await PS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:a,body:r};return t.emulatorConfig&&ua(t.emulatorConfig.host)&&(u.credentials="include"),AS.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H4(t,e){return da(t,"POST","/v2/accounts:revokeToken",ey(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=Nw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await W4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new So;return r&&(ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ne(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ne(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new z4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Vl(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F4(this,e)}reload(){return $4(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await Vl(this,j4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:m,providerData:x,stsTokenManager:y}=n;ne(h&&y,e,"internal-error");const T=So.fromJSON(this.name,y);ne(typeof h=="string",e,"internal-error"),rs(r,e.name),rs(s,e.name),ne(typeof p=="boolean",e,"internal-error"),ne(typeof m=="boolean",e,"internal-error"),rs(i,e.name),rs(o,e.name),rs(a,e.name),rs(u,e.name),rs(c,e.name),rs(d,e.name);const _=new kn({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:T,createdAt:c,lastLoginAt:d});return x&&Array.isArray(x)&&(_.providerData=x.map(w=>({...w}))),u&&(_._redirectEventId=u),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new So;s.updateFromServerResponse(n);const i=new kn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ne(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?kS(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new So;a.updateFromIdToken(r);const u=new kn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new pm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map;function Rr(t){Ur(t instanceof Function,"Expected a class definition");let e=Dw.get(t);return e?(Ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Dw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NS.type="NONE";const Ow=NS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t,e,n){return`firebase:${t}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ic(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ic("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yd(this.auth,{idToken:e}).catch(()=>{});return n?kn._fromGetAccountInfoResponse(this.auth,n,e):null}return kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io(Rr(Ow),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Rr(Ow);const o=Ic(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const p=await yd(e,{idToken:d}).catch(()=>{});if(!p)break;h=await kn._fromGetAccountInfoResponse(e,p,d)}else h=kn._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Io(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Io(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jS(e))return"Blackberry";if(FS(e))return"Webos";if(OS(e))return"Safari";if((e.includes("chrome/")||MS(e))&&!e.includes("edge/"))return"Chrome";if(VS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DS(t=At()){return/firefox\//i.test(t)}function OS(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MS(t=At()){return/crios\//i.test(t)}function LS(t=At()){return/iemobile/i.test(t)}function VS(t=At()){return/android/i.test(t)}function jS(t=At()){return/blackberry/i.test(t)}function FS(t=At()){return/webos/i.test(t)}function ny(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function q4(t=At()){var e;return ny(t)&&!!((e=window.navigator)!=null&&e.standalone)}function K4(){return lM()&&document.documentMode===10}function US(t=At()){return ny(t)||VS(t)||FS(t)||jS(t)||/windows phone/i.test(t)||LS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e=[]){let n;switch(t){case"Browser":n=Mw(At());break;case"Worker":n=`${Mw(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t,e={}){return da(t,"GET","/v2/passwordPolicy",ey(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=6;class X4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Y4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lw(this),this.idTokenSubscription=new Lw(this),this.beforeStateQueue=new G4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yd(this,{idToken:e}),r=await kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(xi(this));const n=e?yt(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q4(this),n=new X4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ou("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await H4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&A4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ch(t){return yt(t)}class Lw{constructor(e){this.auth=e,this.observer=null,this.addObserver=gM(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z4(t){ry=t}function eL(t){return ry.loadJS(t)}function tL(){return ry.gapiScript}function nL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t,e){const n=Yg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ki(i,e??{}))return s;hr(s,"already-initialized")}return n.initialize({options:e})}function sL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function iL(t,e,n){const r=ch(t);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=$S(e),{host:o,port:a}=oL(e),u=a===null?"":`:${a}`,c={url:`${i}//${o}${u}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(ki(c,r.config.emulator)&&ki(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ua(o)?(vS(`${i}//${o}${u}`),wS("Auth",!0)):aL()}function $S(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oL(t){const e=$S(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Vw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Vw(o)}}}function Vw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,n){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(t,e){return L4(t,"POST","/v1/accounts:signInWithIdp",ey(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="http://localhost";class Di extends BS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Di(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Di(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}buildRequest(){const e={requestUri:lL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends sy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends uu{constructor(){super("facebook.com")}static credential(e){return Di._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Di._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends uu{constructor(){super("github.com")}static credential(e){return Di._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends uu{constructor(){super("twitter.com")}static credential(e,n){return Di._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return hs.credential(n,r)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await kn._fromIdTokenResponse(e,r,s),o=jw(r);return new Qo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=jw(r);return new Qo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function jw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends Wr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,wd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new wd(e,n,r,s)}}function WS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?wd._fromErrorAndOperation(t,i,e,r):i})}async function uL(t,e,n=!1){const r=await Vl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e,n=!1){const{auth:r}=t;if(Pn(r.app))return Promise.reject(xi(r));const s="reauthenticate";try{const i=await Vl(t,WS(r,s,e,t),n);ne(i.idToken,r,"internal-error");const o=ty(i.idToken);ne(o,r,"internal-error");const{sub:a}=o;return ne(t.uid===a,r,"user-mismatch"),Qo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&hr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(t,e,n=!1){if(Pn(t.app))return Promise.reject(xi(t));const r="signIn",s=await WS(t,r,e),i=await Qo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function hL(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function fL(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function pL(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}function mL(t){return yt(t).signOut()}const _d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_d,"1"),this.storage.removeItem(_d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=1e3,yL=10;class qS extends HS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=US(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);K4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,yL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qS.type="LOCAL";const vL=qS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS extends HS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KS.type="SESSION";const GS=KS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new dh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await wL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=iy("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function EL(t){or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function TL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function SL(){return QS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firebaseLocalStorageDb",IL=1,Ed="firebaseLocalStorage",XS="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hh(t,e){return t.transaction([Ed],e?"readwrite":"readonly").objectStore(Ed)}function bL(){const t=indexedDB.deleteDatabase(YS);return new cu(t).toPromise()}function mm(){const t=indexedDB.open(YS,IL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ed,{keyPath:XS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ed)?e(r):(r.close(),await bL(),e(await mm()))})})}async function Fw(t,e,n){const r=hh(t,!0).put({[XS]:e,value:n});return new cu(r).toPromise()}async function CL(t,e){const n=hh(t,!1).get(e),r=await new cu(n).toPromise();return r===void 0?null:r.value}function Uw(t,e){const n=hh(t,!0).delete(e);return new cu(n).toPromise()}const AL=800,RL=3;class JS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>RL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(SL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await TL(),!this.activeServiceWorker)return;this.sender=new _L(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await Fw(e,_d,"1"),await Uw(e,_d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=hh(s,!1).getAll();return new cu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JS.type="LOCAL";const PL=JS;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t,e){return e?Rr(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy extends BS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kL(t){return dL(t.auth,new oy(t),t.bypassAuthState)}function NL(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),cL(n,new oy(t),t.bypassAuthState)}async function DL(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),uL(n,new oy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kL;case"linkViaPopup":case"linkViaRedirect":return DL;case"reauthViaPopup":case"reauthViaRedirect":return NL;default:hr(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=new lu(2e3,1e4);async function ML(t,e,n){if(Pn(t.app))return Promise.reject(On(t,"operation-not-supported-in-this-environment"));const r=ch(t);R4(t,e,sy);const s=ZS(r,n);return new hi(r,"signInViaPopup",e,s).executeNotNull()}class hi extends eI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,hi.currentPopupAction&&hi.currentPopupAction.cancel(),hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(On(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(On(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(On(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OL.get())};e()}}hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="pendingRedirect",bc=new Map;class VL extends eI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bc.get(this.auth._key());if(!e){try{const r=await jL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bc.set(this.auth._key(),e)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jL(t,e){const n=zL(e),r=UL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function FL(t,e){bc.set(t._key(),e)}function UL(t){return Rr(t._redirectPersistence)}function zL(t){return Ic(LL,t.config.apiKey,t.name)}async function $L(t,e,n=!1){if(Pn(t.app))return Promise.reject(xi(t));const r=ch(t),s=ZS(r,e),o=await new VL(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=10*60*1e3;class WL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(On(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BL&&this.cachedEventUids.clear(),this.cachedEventUids.has(zw(e))}saveEventToCache(e){this.cachedEventUids.add(zw(e)),this.lastProcessedEventTime=Date.now()}}function zw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e={}){return da(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GL=/^https?/;async function QL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qL(t);for(const n of e)try{if(YL(n))return}catch{}hr(t,"unauthorized-domain")}function YL(t){const e=fm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GL.test(n))return!1;if(KL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=new lu(3e4,6e4);function $w(){const t=or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JL(t){return new Promise((e,n)=>{var s,i,o;function r(){$w(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$w(),n(On(t,"network-request-failed"))},timeout:XL.get()})}if((i=(s=or().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=or().gapi)!=null&&o.load)r();else{const a=nL("iframefcb");return or()[a]=()=>{gapi.load?r():n(On(t,"network-request-failed"))},eL(`${tL()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Cc=null,e})}let Cc=null;function ZL(t){return Cc=Cc||JL(t),Cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=new lu(5e3,15e3),tV="__/auth/iframe",nV="emulator/auth/iframe",rV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iV(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zg(e,nV):`https://${t.config.authDomain}/${tV}`,r={apiKey:e.apiKey,appName:t.name,v:ca},s=sV.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${au(r).slice(1)}`}async function oV(t){const e=await ZL(t),n=or().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:iV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rV,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=On(t,"network-request-failed"),a=or().setTimeout(()=>{i(o)},eV.get());function u(){or().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lV=500,uV=600,cV="_blank",dV="http://localhost";class Bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hV(t,e,n,r=lV,s=uV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u={...aV,width:r.toString(),height:s.toString(),top:i,left:o},c=At().toLowerCase();n&&(a=MS(c)?cV:n),DS(c)&&(e=e||dV,u.scrollbars="yes");const d=Object.entries(u).reduce((p,[m,x])=>`${p}${m}=${x},`,"");if(q4(c)&&a!=="_self")return fV(e||"",a),new Bw(null);const h=window.open(e||"",a,d);ne(h,t,"popup-blocked");try{h.focus()}catch{}return new Bw(h)}function fV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="__/auth/handler",mV="emulator/auth/handler",gV=encodeURIComponent("fac");async function Ww(t,e,n,r,s,i){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ca,eventId:s};if(e instanceof sy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof uu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${gV}=${encodeURIComponent(u)}`:"";return`${yV(t)}?${au(a).slice(1)}${c}`}function yV({config:t}){return t.emulator?Zg(t,mV):`https://${t.authDomain}/${pV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="webStorageSupport";class vV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GS,this._completeRedirectFn=$L,this._overrideRedirectResult=FL}async _openPopup(e,n,r,s){var o;Ur((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Ww(e,n,r,fm(),s);return hV(e,i,iy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Ww(e,n,r,fm(),s);return EL(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ur(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oV(e),r=new WL(e);return n.register("authEvent",s=>(ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ff,{type:Ff},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Ff];i!==void 0&&n(!!i),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return US()||OS()||ny()}}const wV=vV;var Hw="@firebase/auth",qw="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TV(t){Go(new Ni("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zS(t)},c=new J4(r,s,i,u);return sL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Go(new Ni("auth-internal",e=>{const n=ch(e.getProvider("auth").getImmediate());return(r=>new _V(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(Hw,qw,EV(t)),Ns(Hw,qw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=5*60,SV=yS("authIdTokenMaxAge")||xV;let Kw=null;const IV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SV)return;const s=n==null?void 0:n.token;Kw!==s&&(Kw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function bV(t=xS()){const e=Yg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rL(t,{popupRedirectResolver:wV,persistence:[PL,vL,GS]}),r=yS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=IV(i.toString());fL(n,o,()=>o(n.currentUser)),hL(n,a=>o(a))}}const s=mS("auth");return s&&iL(n,`http://${s}`),n}function CV(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Z4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=On("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",CV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TV("Browser");var Gw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ds,nI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,S){function A(){}A.prototype=S.prototype,E.F=S.prototype,E.prototype=new A,E.prototype.constructor=E,E.D=function(R,k,N){for(var P=Array(arguments.length-2),W=2;W<arguments.length;W++)P[W-2]=arguments[W];return S.prototype[k].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,S,A){A||(A=0);const R=Array(16);if(typeof S=="string")for(var k=0;k<16;++k)R[k]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(k=0;k<16;++k)R[k]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=E.g[0],A=E.g[1],k=E.g[2];let N=E.g[3],P;P=S+(N^A&(k^N))+R[0]+3614090360&4294967295,S=A+(P<<7&4294967295|P>>>25),P=N+(k^S&(A^k))+R[1]+3905402710&4294967295,N=S+(P<<12&4294967295|P>>>20),P=k+(A^N&(S^A))+R[2]+606105819&4294967295,k=N+(P<<17&4294967295|P>>>15),P=A+(S^k&(N^S))+R[3]+3250441966&4294967295,A=k+(P<<22&4294967295|P>>>10),P=S+(N^A&(k^N))+R[4]+4118548399&4294967295,S=A+(P<<7&4294967295|P>>>25),P=N+(k^S&(A^k))+R[5]+1200080426&4294967295,N=S+(P<<12&4294967295|P>>>20),P=k+(A^N&(S^A))+R[6]+2821735955&4294967295,k=N+(P<<17&4294967295|P>>>15),P=A+(S^k&(N^S))+R[7]+4249261313&4294967295,A=k+(P<<22&4294967295|P>>>10),P=S+(N^A&(k^N))+R[8]+1770035416&4294967295,S=A+(P<<7&4294967295|P>>>25),P=N+(k^S&(A^k))+R[9]+2336552879&4294967295,N=S+(P<<12&4294967295|P>>>20),P=k+(A^N&(S^A))+R[10]+4294925233&4294967295,k=N+(P<<17&4294967295|P>>>15),P=A+(S^k&(N^S))+R[11]+2304563134&4294967295,A=k+(P<<22&4294967295|P>>>10),P=S+(N^A&(k^N))+R[12]+1804603682&4294967295,S=A+(P<<7&4294967295|P>>>25),P=N+(k^S&(A^k))+R[13]+4254626195&4294967295,N=S+(P<<12&4294967295|P>>>20),P=k+(A^N&(S^A))+R[14]+2792965006&4294967295,k=N+(P<<17&4294967295|P>>>15),P=A+(S^k&(N^S))+R[15]+1236535329&4294967295,A=k+(P<<22&4294967295|P>>>10),P=S+(k^N&(A^k))+R[1]+4129170786&4294967295,S=A+(P<<5&4294967295|P>>>27),P=N+(A^k&(S^A))+R[6]+3225465664&4294967295,N=S+(P<<9&4294967295|P>>>23),P=k+(S^A&(N^S))+R[11]+643717713&4294967295,k=N+(P<<14&4294967295|P>>>18),P=A+(N^S&(k^N))+R[0]+3921069994&4294967295,A=k+(P<<20&4294967295|P>>>12),P=S+(k^N&(A^k))+R[5]+3593408605&4294967295,S=A+(P<<5&4294967295|P>>>27),P=N+(A^k&(S^A))+R[10]+38016083&4294967295,N=S+(P<<9&4294967295|P>>>23),P=k+(S^A&(N^S))+R[15]+3634488961&4294967295,k=N+(P<<14&4294967295|P>>>18),P=A+(N^S&(k^N))+R[4]+3889429448&4294967295,A=k+(P<<20&4294967295|P>>>12),P=S+(k^N&(A^k))+R[9]+568446438&4294967295,S=A+(P<<5&4294967295|P>>>27),P=N+(A^k&(S^A))+R[14]+3275163606&4294967295,N=S+(P<<9&4294967295|P>>>23),P=k+(S^A&(N^S))+R[3]+4107603335&4294967295,k=N+(P<<14&4294967295|P>>>18),P=A+(N^S&(k^N))+R[8]+1163531501&4294967295,A=k+(P<<20&4294967295|P>>>12),P=S+(k^N&(A^k))+R[13]+2850285829&4294967295,S=A+(P<<5&4294967295|P>>>27),P=N+(A^k&(S^A))+R[2]+4243563512&4294967295,N=S+(P<<9&4294967295|P>>>23),P=k+(S^A&(N^S))+R[7]+1735328473&4294967295,k=N+(P<<14&4294967295|P>>>18),P=A+(N^S&(k^N))+R[12]+2368359562&4294967295,A=k+(P<<20&4294967295|P>>>12),P=S+(A^k^N)+R[5]+4294588738&4294967295,S=A+(P<<4&4294967295|P>>>28),P=N+(S^A^k)+R[8]+2272392833&4294967295,N=S+(P<<11&4294967295|P>>>21),P=k+(N^S^A)+R[11]+1839030562&4294967295,k=N+(P<<16&4294967295|P>>>16),P=A+(k^N^S)+R[14]+4259657740&4294967295,A=k+(P<<23&4294967295|P>>>9),P=S+(A^k^N)+R[1]+2763975236&4294967295,S=A+(P<<4&4294967295|P>>>28),P=N+(S^A^k)+R[4]+1272893353&4294967295,N=S+(P<<11&4294967295|P>>>21),P=k+(N^S^A)+R[7]+4139469664&4294967295,k=N+(P<<16&4294967295|P>>>16),P=A+(k^N^S)+R[10]+3200236656&4294967295,A=k+(P<<23&4294967295|P>>>9),P=S+(A^k^N)+R[13]+681279174&4294967295,S=A+(P<<4&4294967295|P>>>28),P=N+(S^A^k)+R[0]+3936430074&4294967295,N=S+(P<<11&4294967295|P>>>21),P=k+(N^S^A)+R[3]+3572445317&4294967295,k=N+(P<<16&4294967295|P>>>16),P=A+(k^N^S)+R[6]+76029189&4294967295,A=k+(P<<23&4294967295|P>>>9),P=S+(A^k^N)+R[9]+3654602809&4294967295,S=A+(P<<4&4294967295|P>>>28),P=N+(S^A^k)+R[12]+3873151461&4294967295,N=S+(P<<11&4294967295|P>>>21),P=k+(N^S^A)+R[15]+530742520&4294967295,k=N+(P<<16&4294967295|P>>>16),P=A+(k^N^S)+R[2]+3299628645&4294967295,A=k+(P<<23&4294967295|P>>>9),P=S+(k^(A|~N))+R[0]+4096336452&4294967295,S=A+(P<<6&4294967295|P>>>26),P=N+(A^(S|~k))+R[7]+1126891415&4294967295,N=S+(P<<10&4294967295|P>>>22),P=k+(S^(N|~A))+R[14]+2878612391&4294967295,k=N+(P<<15&4294967295|P>>>17),P=A+(N^(k|~S))+R[5]+4237533241&4294967295,A=k+(P<<21&4294967295|P>>>11),P=S+(k^(A|~N))+R[12]+1700485571&4294967295,S=A+(P<<6&4294967295|P>>>26),P=N+(A^(S|~k))+R[3]+2399980690&4294967295,N=S+(P<<10&4294967295|P>>>22),P=k+(S^(N|~A))+R[10]+4293915773&4294967295,k=N+(P<<15&4294967295|P>>>17),P=A+(N^(k|~S))+R[1]+2240044497&4294967295,A=k+(P<<21&4294967295|P>>>11),P=S+(k^(A|~N))+R[8]+1873313359&4294967295,S=A+(P<<6&4294967295|P>>>26),P=N+(A^(S|~k))+R[15]+4264355552&4294967295,N=S+(P<<10&4294967295|P>>>22),P=k+(S^(N|~A))+R[6]+2734768916&4294967295,k=N+(P<<15&4294967295|P>>>17),P=A+(N^(k|~S))+R[13]+1309151649&4294967295,A=k+(P<<21&4294967295|P>>>11),P=S+(k^(A|~N))+R[4]+4149444226&4294967295,S=A+(P<<6&4294967295|P>>>26),P=N+(A^(S|~k))+R[11]+3174756917&4294967295,N=S+(P<<10&4294967295|P>>>22),P=k+(S^(N|~A))+R[2]+718787259&4294967295,k=N+(P<<15&4294967295|P>>>17),P=A+(N^(k|~S))+R[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,E.g[2]=E.g[2]+k&4294967295,E.g[3]=E.g[3]+N&4294967295}r.prototype.v=function(E,S){S===void 0&&(S=E.length);const A=S-this.blockSize,R=this.C;let k=this.h,N=0;for(;N<S;){if(k==0)for(;N<=A;)s(this,E,N),N+=this.blockSize;if(typeof E=="string"){for(;N<S;)if(R[k++]=E.charCodeAt(N++),k==this.blockSize){s(this,R),k=0;break}}else for(;N<S;)if(R[k++]=E[N++],k==this.blockSize){s(this,R),k=0;break}}this.h=k,this.o+=S},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;S=this.o*8;for(var A=E.length-8;A<E.length;++A)E[A]=S&255,S/=256;for(this.v(E),E=Array(16),S=0,A=0;A<4;++A)for(let R=0;R<32;R+=8)E[S++]=this.g[A]>>>R&255;return E};function i(E,S){var A=a;return Object.prototype.hasOwnProperty.call(A,E)?A[E]:A[E]=S(E)}function o(E,S){this.h=S;const A=[];let R=!0;for(let k=E.length-1;k>=0;k--){const N=E[k]|0;R&&N==S||(A[k]=N,R=!1)}this.g=A}var a={};function u(E){return-128<=E&&E<128?i(E,function(S){return new o([S|0],S<0?-1:0)}):new o([E|0],E<0?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return h;if(E<0)return T(c(-E));const S=[];let A=1;for(let R=0;E>=A;R++)S[R]=E/A|0,A*=4294967296;return new o(S,0)}function d(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return T(d(E.substring(1),S));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(S,8));let R=h;for(let N=0;N<E.length;N+=8){var k=Math.min(8,E.length-N);const P=parseInt(E.substring(N,N+k),S);k<8?(k=c(Math.pow(S,k)),R=R.j(k).add(c(P))):(R=R.j(A),R=R.add(c(P)))}return R}var h=u(0),p=u(1),m=u(16777216);t=o.prototype,t.m=function(){if(y(this))return-T(this).m();let E=0,S=1;for(let A=0;A<this.g.length;A++){const R=this.i(A);E+=(R>=0?R:4294967296+R)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(y(this))return"-"+T(this).toString(E);const S=c(Math.pow(E,6));var A=this;let R="";for(;;){const k=D(A,S).g;A=_(A,k.j(S));let N=((A.g.length>0?A.g[0]:A.h)>>>0).toString(E);if(A=k,x(A))return N+R;for(;N.length<6;)N="0"+N;R=N+R}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(let S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function y(E){return E.h==-1}t.l=function(E){return E=_(this,E),y(E)?-1:x(E)?0:1};function T(E){const S=E.g.length,A=[];for(let R=0;R<S;R++)A[R]=~E.g[R];return new o(A,~E.h).add(p)}t.abs=function(){return y(this)?T(this):this},t.add=function(E){const S=Math.max(this.g.length,E.g.length),A=[];let R=0;for(let k=0;k<=S;k++){let N=R+(this.i(k)&65535)+(E.i(k)&65535),P=(N>>>16)+(this.i(k)>>>16)+(E.i(k)>>>16);R=P>>>16,N&=65535,P&=65535,A[k]=P<<16|N}return new o(A,A[A.length-1]&-2147483648?-1:0)};function _(E,S){return E.add(T(S))}t.j=function(E){if(x(this)||x(E))return h;if(y(this))return y(E)?T(this).j(T(E)):T(T(this).j(E));if(y(E))return T(this.j(T(E)));if(this.l(m)<0&&E.l(m)<0)return c(this.m()*E.m());const S=this.g.length+E.g.length,A=[];for(var R=0;R<2*S;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(let k=0;k<E.g.length;k++){const N=this.i(R)>>>16,P=this.i(R)&65535,W=E.i(k)>>>16,ie=E.i(k)&65535;A[2*R+2*k]+=P*ie,w(A,2*R+2*k),A[2*R+2*k+1]+=N*ie,w(A,2*R+2*k+1),A[2*R+2*k+1]+=P*W,w(A,2*R+2*k+1),A[2*R+2*k+2]+=N*W,w(A,2*R+2*k+2)}for(E=0;E<S;E++)A[E]=A[2*E+1]<<16|A[2*E];for(E=S;E<2*S;E++)A[E]=0;return new o(A,0)};function w(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function b(E,S){this.g=E,this.h=S}function D(E,S){if(x(S))throw Error("division by zero");if(x(E))return new b(h,h);if(y(E))return S=D(T(E),S),new b(T(S.g),T(S.h));if(y(S))return S=D(E,T(S)),new b(T(S.g),S.h);if(E.g.length>30){if(y(E)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var A=p,R=S;R.l(E)<=0;)A=O(A),R=O(R);var k=M(A,1),N=M(R,1);for(R=M(R,2),A=M(A,2);!x(R);){var P=N.add(R);P.l(E)<=0&&(k=k.add(A),N=P),R=M(R,1),A=M(A,1)}return S=_(E,k.j(S)),new b(k,S)}for(k=h;E.l(S)>=0;){for(A=Math.max(1,Math.floor(E.m()/S.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),N=c(A),P=N.j(S);y(P)||P.l(E)>0;)A-=R,N=c(A),P=N.j(S);x(N)&&(N=p),k=k.add(N),E=_(E,P)}return new b(k,E)}t.B=function(E){return D(this,E).h},t.and=function(E){const S=Math.max(this.g.length,E.g.length),A=[];for(let R=0;R<S;R++)A[R]=this.i(R)&E.i(R);return new o(A,this.h&E.h)},t.or=function(E){const S=Math.max(this.g.length,E.g.length),A=[];for(let R=0;R<S;R++)A[R]=this.i(R)|E.i(R);return new o(A,this.h|E.h)},t.xor=function(E){const S=Math.max(this.g.length,E.g.length),A=[];for(let R=0;R<S;R++)A[R]=this.i(R)^E.i(R);return new o(A,this.h^E.h)};function O(E){const S=E.g.length+1,A=[];for(let R=0;R<S;R++)A[R]=E.i(R)<<1|E.i(R-1)>>>31;return new o(A,E.h)}function M(E,S){const A=S>>5;S%=32;const R=E.g.length-A,k=[];for(let N=0;N<R;N++)k[N]=S>0?E.i(N+A)>>>S|E.i(N+A+1)<<32-S:E.i(N+A);return new o(k,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,nI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ds=o}).apply(typeof Gw<"u"?Gw:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rI,qa,sI,Ac,gm,iI,oI,aI;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,f){if(f)e:{var g=r;l=l.split(".");for(var C=0;C<l.length-1;C++){var L=l[C];if(!(L in g))break e;g=g[L]}l=l[l.length-1],C=g[l],f=f(C),f!=C&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(f){var g=[],C;for(C in f)Object.prototype.hasOwnProperty.call(f,C)&&g.push([C,f[C]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function u(l,f,g){return l.call.apply(l.bind,arguments)}function c(l,f,g){return c=u,c.apply(null,arguments)}function d(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var C=g.slice();return C.push.apply(C,arguments),l.apply(this,C)}}function h(l,f){function g(){}g.prototype=f.prototype,l.Z=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(C,L,V){for(var q=Array(arguments.length-2),he=2;he<arguments.length;he++)q[he-2]=arguments[he];return f.prototype[L].apply(C,q)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function m(l){const f=l.length;if(f>0){const g=Array(f);for(let C=0;C<f;C++)g[C]=l[C];return g}return[]}function x(l,f){for(let C=1;C<arguments.length;C++){const L=arguments[C];var g=typeof L;if(g=g!="object"?g:L?Array.isArray(L)?"array":g:"null",g=="array"||g=="object"&&typeof L.length=="number"){g=l.length||0;const V=L.length||0;l.length=g+V;for(let q=0;q<V;q++)l[g+q]=L[q]}else l.push(L)}}class y{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function T(l){o.setTimeout(()=>{throw l},0)}function _(){var l=E;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class w{constructor(){this.h=this.g=null}add(f,g){const C=b.get();C.set(f,g),this.h?this.h.next=C:this.g=C,this.h=C}}var b=new y(()=>new D,l=>l.reset());class D{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let O,M=!1,E=new w,S=()=>{const l=Promise.resolve(void 0);O=()=>{l.then(A)}};function A(){for(var l;l=_();){try{l.h.call(l.g)}catch(g){T(g)}var f=b;f.j(l),f.h<100&&(f.h++,l.next=f.g,f.g=l)}M=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};o.addEventListener("test",g,f),o.removeEventListener("test",g,f)}catch{}return l}();function P(l){return/^[\s\xa0]*$/.test(l)}function W(l,f){k.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,f)}h(W,k),W.prototype.init=function(l,f){const g=this.type=l.type,C=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget,f||(g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement)),this.relatedTarget=f,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),te=0;function oe(l,f,g,C,L){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!C,this.ha=L,this.key=++te,this.da=this.fa=!1}function j(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function z(l,f,g){for(const C in l)f.call(g,l[C],C,l)}function K(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function re(l){const f={};for(const g in l)f[g]=l[g];return f}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(l,f){let g,C;for(let L=1;L<arguments.length;L++){C=arguments[L];for(g in C)l[g]=C[g];for(let V=0;V<X.length;V++)g=X[V],Object.prototype.hasOwnProperty.call(C,g)&&(l[g]=C[g])}}function ue(l){this.src=l,this.g={},this.h=0}ue.prototype.add=function(l,f,g,C,L){const V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);const q=Ge(l,f,C,L);return q>-1?(f=l[q],g||(f.fa=!1)):(f=new oe(f,this.src,V,!!C,L),f.fa=g,l.push(f)),f};function Oe(l,f){const g=f.type;if(g in l.g){var C=l.g[g],L=Array.prototype.indexOf.call(C,f,void 0),V;(V=L>=0)&&Array.prototype.splice.call(C,L,1),V&&(j(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Ge(l,f,g,C){for(let L=0;L<l.length;++L){const V=l[L];if(!V.da&&V.listener==f&&V.capture==!!g&&V.ha==C)return L}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Un={};function wn(l,f,g,C,L){if(Array.isArray(f)){for(let V=0;V<f.length;V++)wn(l,f[V],g,C,L);return null}return g=qr(g),l&&l[ie]?l.J(f,g,a(C)?!!C.capture:!!C,L):gr(l,f,g,!1,C,L)}function gr(l,f,g,C,L,V){if(!f)throw Error("Invalid event type");const q=a(L)?!!L.capture:!!L;let he=Hr(l);if(he||(l[ye]=he=new ue(l)),g=he.add(f,g,C,q,V),g.proxy)return g;if(C=zn(),g.proxy=C,C.src=l,C.listener=g,l.addEventListener)N||(L=q),L===void 0&&(L=!1),l.addEventListener(f.toString(),C,L);else if(l.attachEvent)l.attachEvent(Js(f.toString()),C);else if(l.addListener&&l.removeListener)l.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return g}function zn(){function l(g){return f.call(l.src,l.listener,g)}const f=ga;return l}function yr(l,f,g,C,L){if(Array.isArray(f))for(var V=0;V<f.length;V++)yr(l,f[V],g,C,L);else C=a(C)?!!C.capture:!!C,g=qr(g),l&&l[ie]?(l=l.i,V=String(f).toString(),V in l.g&&(f=l.g[V],g=Ge(f,g,C,L),g>-1&&(j(f[g]),Array.prototype.splice.call(f,g,1),f.length==0&&(delete l.g[V],l.h--)))):l&&(l=Hr(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Ge(f,g,C,L)),(g=l>-1?f[l]:null)&&on(g))}function on(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[ie])Oe(f.i,l);else{var g=l.type,C=l.proxy;f.removeEventListener?f.removeEventListener(g,C,l.capture):f.detachEvent?f.detachEvent(Js(g),C):f.addListener&&f.removeListener&&f.removeListener(C),(g=Hr(f))?(Oe(g,l),g.h==0&&(g.src=null,f[ye]=null)):j(l)}}}function Js(l){return l in Un?Un[l]:Un[l]="on"+l}function ga(l,f){if(l.da)l=!0;else{f=new W(f,this);const g=l.listener,C=l.ha||l.src;l.fa&&on(l),l=g.call(C,f)}return l}function Hr(l){return l=l[ye],l instanceof ue?l:null}var Zs="__closure_events_fn_"+(Math.random()*1e9>>>0);function qr(l){return typeof l=="function"?l:(l[Zs]||(l[Zs]=function(f){return l.handleEvent(f)}),l[Zs])}function Ve(){R.call(this),this.i=new ue(this),this.M=this,this.G=null}h(Ve,R),Ve.prototype[ie]=!0,Ve.prototype.removeEventListener=function(l,f,g,C){yr(this,l,f,g,C)};function ot(l,f){var g,C=l.G;if(C)for(g=[];C;C=C.G)g.push(C);if(l=l.M,C=f.type||f,typeof f=="string")f=new k(f,l);else if(f instanceof k)f.target=f.target||l;else{var L=f;f=new k(C,l),de(f,L)}L=!0;let V,q;if(g)for(q=g.length-1;q>=0;q--)V=f.g=g[q],L=$n(V,C,!0,f)&&L;if(V=f.g=l,L=$n(V,C,!0,f)&&L,L=$n(V,C,!1,f)&&L,g)for(q=0;q<g.length;q++)V=f.g=g[q],L=$n(V,C,!1,f)&&L}Ve.prototype.N=function(){if(Ve.Z.N.call(this),this.i){var l=this.i;for(const f in l.g){const g=l.g[f];for(let C=0;C<g.length;C++)j(g[C]);delete l.g[f],l.h--}}this.G=null},Ve.prototype.J=function(l,f,g,C){return this.i.add(String(l),f,!1,g,C)},Ve.prototype.K=function(l,f,g,C){return this.i.add(String(l),f,!0,g,C)};function $n(l,f,g,C){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();let L=!0;for(let V=0;V<f.length;++V){const q=f[V];if(q&&!q.da&&q.capture==g){const he=q.listener,tt=q.ha||q.src;q.fa&&Oe(l.i,q),L=he.call(tt,C)!==!1&&L}}return L&&!C.defaultPrevented}function gu(l,f){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(l,f||0)}function Bn(l){l.g=gu(()=>{l.g=null,l.i&&(l.i=!1,Bn(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Oh extends R{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Bn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(l){R.call(this),this.h=l,this.g={}}h(ei,R);var Rt=[];function vr(l){z(l.g,function(f,g){this.g.hasOwnProperty(g)&&on(f)},l),l.g={}}ei.prototype.N=function(){ei.Z.N.call(this),vr(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ya=o.JSON.stringify,Mh=o.JSON.parse,Bi=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function yu(){}function va(){}var wr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wn(){k.call(this,"d")}h(Wn,k);function Wi(){k.call(this,"c")}h(Wi,k);var Vt={},vu=null;function Hi(){return vu=vu||new Ve}Vt.Ia="serverreachability";function wa(l){k.call(this,Vt.Ia,l)}h(wa,k);function Kr(l){const f=Hi();ot(f,new wa(f))}Vt.STAT_EVENT="statevent";function wu(l,f){k.call(this,Vt.STAT_EVENT,l),this.stat=f}h(wu,k);function et(l){const f=Hi();ot(f,new wu(f,l))}Vt.Ja="timingevent";function _n(l,f){k.call(this,Vt.Ja,l),this.size=f}h(_n,k);function ti(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},f)}function Z(){this.g=!0}Z.prototype.ua=function(){this.g=!1};function Ee(l,f,g,C,L,V){l.info(function(){if(l.g)if(V){var q="",he=V.split("&");for(let Se=0;Se<he.length;Se++){var tt=he[Se].split("=");if(tt.length>1){const lt=tt[0];tt=tt[1];const Kn=lt.split("_");q=Kn.length>=2&&Kn[1]=="type"?q+(lt+"="+tt+"&"):q+(lt+"=redacted&")}}}else q=null;else q=V;return"XMLHTTP REQ ("+C+") [attempt "+L+"]: "+f+`
`+g+`
`+q})}function be(l,f,g,C,L,V,q){l.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+L+"]: "+f+`
`+g+`
`+V+" "+q})}function at(l,f,g,C){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Hn(l,g)+(C?" "+C:"")})}function Gt(l,f){l.info(function(){return"TIMEOUT: "+f})}Z.prototype.info=function(){};function Hn(l,f){if(!l.g)return f;if(!f)return null;try{const V=JSON.parse(f);if(V){for(l=0;l<V.length;l++)if(Array.isArray(V[l])){var g=V[l];if(!(g.length<2)){var C=g[1];if(Array.isArray(C)&&!(C.length<1)){var L=C[0];if(L!="noop"&&L!="stop"&&L!="close")for(let q=1;q<C.length;q++)C[q]=""}}}}return ya(V)}catch{return f}}var an={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},En;function Lh(){}h(Lh,yu),Lh.prototype.g=function(){return new XMLHttpRequest},En=new Lh;function _a(l){return encodeURIComponent(String(l))}function wC(l){var f=1;l=l.split(":");const g=[];for(;f>0&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function Gr(l,f,g,C){this.j=l,this.i=f,this.l=g,this.S=C||1,this.V=new ei(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new By}function By(){this.i=null,this.g="",this.h=!1}var Wy={},Vh={};function jh(l,f,g){l.M=1,l.A=Eu(qn(f)),l.u=g,l.R=!0,Hy(l,null)}function Hy(l,f){l.F=Date.now(),_u(l),l.B=qn(l.A);var g=l.B,C=l.S;Array.isArray(C)||(C=[String(C)]),sv(g.i,"t",C),l.C=0,g=l.j.L,l.h=new By,l.g=Tv(l.j,g?f:null,!l.u),l.P>0&&(l.O=new Oh(c(l.Y,l,l.g),l.P)),f=l.V,g=l.g,C=l.ba;var L="readystatechange";Array.isArray(L)||(L&&(Rt[0]=L.toString()),L=Rt);for(let V=0;V<L.length;V++){const q=wn(g,L[V],C||f.handleEvent,!1,f.h||f);if(!q)break;f.g[q.key]=q}f=l.J?re(l.J):{},l.u?(l.v||(l.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,f)):(l.v="GET",l.g.ea(l.B,l.v,null,f)),Kr(),Ee(l.i,l.v,l.B,l.l,l.S,l.u)}Gr.prototype.ba=function(l){l=l.target;const f=this.O;f&&Xr(l)==3?f.j():this.Y(l)},Gr.prototype.Y=function(l){try{if(l==this.g)e:{const he=Xr(this.g),tt=this.g.ya(),Se=this.g.ca();if(!(he<3)&&(he!=3||this.g&&(this.h.h||this.g.la()||dv(this.g)))){this.K||he!=4||tt==7||(tt==8||Se<=0?Kr(3):Kr(2)),Fh(this);var f=this.g.ca();this.X=f;var g=_C(this);if(this.o=f==200,be(this.i,this.v,this.B,this.l,this.S,he,f),this.o){if(this.U&&!this.L){t:{if(this.g){var C,L=this.g;if((C=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(C)){var V=C;break t}}V=null}if(l=V)at(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Uh(this,l);else{this.o=!1,this.m=3,et(12),ni(this),Ea(this);break e}}if(this.R){l=!0;let lt;for(;!this.K&&this.C<g.length;)if(lt=EC(this,g),lt==Vh){he==4&&(this.m=4,et(14),l=!1),at(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Wy){this.m=4,et(15),at(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else at(this.i,this.l,lt,null),Uh(this,lt);if(qy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||g.length!=0||this.h.h||(this.m=1,et(16),l=!1),this.o=this.o&&l,!l)at(this.i,this.l,g,"[Invalid Chunked Response]"),ni(this),Ea(this);else if(g.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Gh(q),q.P=!0,et(11))}}else at(this.i,this.l,g,null),Uh(this,g);he==4&&ni(this),this.o&&!this.K&&(he==4?vv(this.j,this):(this.o=!1,_u(this)))}else MC(this.g),f==400&&g.indexOf("Unknown SID")>0?(this.m=3,et(12)):(this.m=0,et(13)),ni(this),Ea(this)}}}catch{}finally{}};function _C(l){if(!qy(l))return l.g.la();const f=dv(l.g);if(f==="")return"";let g="";const C=f.length,L=Xr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return ni(l),Ea(l),"";l.h.i=new o.TextDecoder}for(let V=0;V<C;V++)l.h.h=!0,g+=l.h.i.decode(f[V],{stream:!(L&&V==C-1)});return f.length=0,l.h.g+=g,l.C=0,l.h.g}function qy(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function EC(l,f){var g=l.C,C=f.indexOf(`
`,g);return C==-1?Vh:(g=Number(f.substring(g,C)),isNaN(g)?Wy:(C+=1,C+g>f.length?Vh:(f=f.slice(C,C+g),l.C=C+g,f)))}Gr.prototype.cancel=function(){this.K=!0,ni(this)};function _u(l){l.T=Date.now()+l.H,Ky(l,l.H)}function Ky(l,f){if(l.D!=null)throw Error("WatchDog timer not null");l.D=ti(c(l.aa,l),f)}function Fh(l){l.D&&(o.clearTimeout(l.D),l.D=null)}Gr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Gt(this.i,this.B),this.M!=2&&(Kr(),et(17)),ni(this),this.m=2,Ea(this)):Ky(this,this.T-l)};function Ea(l){l.j.I==0||l.K||vv(l.j,l)}function ni(l){Fh(l);var f=l.O;f&&typeof f.dispose=="function"&&f.dispose(),l.O=null,vr(l.V),l.g&&(f=l.g,l.g=null,f.abort(),f.dispose())}function Uh(l,f){try{var g=l.j;if(g.I!=0&&(g.g==l||zh(g.h,l))){if(!l.L&&zh(g.h,l)&&g.I==3){try{var C=g.Ba.g.parse(f)}catch{C=null}if(Array.isArray(C)&&C.length==3){var L=C;if(L[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)bu(g),Su(g);else break e;Kh(g),et(18)}}else g.xa=L[1],0<g.xa-g.K&&L[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=ti(c(g.Va,g),6e3));Yy(g.h)<=1&&g.ta&&(g.ta=void 0)}else si(g,11)}else if((l.L||g.g==l)&&bu(g),!P(f))for(L=g.Ba.g.parse(f),f=0;f<L.length;f++){let Se=L[f];const lt=Se[0];if(!(lt<=g.K))if(g.K=lt,Se=Se[1],g.I==2)if(Se[0]=="c"){g.M=Se[1],g.ba=Se[2];const Kn=Se[3];Kn!=null&&(g.ka=Kn,g.j.info("VER="+g.ka));const ii=Se[4];ii!=null&&(g.za=ii,g.j.info("SVER="+g.za));const Jr=Se[5];Jr!=null&&typeof Jr=="number"&&Jr>0&&(C=1.5*Jr,g.O=C,g.j.info("backChannelRequestTimeoutMs_="+C)),C=g;const Zr=l.g;if(Zr){const Au=Zr.g?Zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Au){var V=C.h;V.g||Au.indexOf("spdy")==-1&&Au.indexOf("quic")==-1&&Au.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&($h(V,V.h),V.h=null))}if(C.G){const Qh=Zr.g?Zr.g.getResponseHeader("X-HTTP-Session-Id"):null;Qh&&(C.wa=Qh,Ae(C.J,C.G,Qh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),C=g;var q=l;if(C.na=Ev(C,C.L?C.ba:null,C.W),q.L){Xy(C.h,q);var he=q,tt=C.O;tt&&(he.H=tt),he.D&&(Fh(he),_u(he)),C.g=q}else gv(C);g.i.length>0&&Iu(g)}else Se[0]!="stop"&&Se[0]!="close"||si(g,7);else g.I==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?si(g,7):qh(g):Se[0]!="noop"&&g.l&&g.l.qa(Se),g.A=0)}}Kr(4)}catch{}}var TC=class{constructor(l,f){this.g=l,this.map=f}};function Gy(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Yy(l){return l.h?1:l.g?l.g.size:0}function zh(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function $h(l,f){l.g?l.g.add(f):l.h=f}function Xy(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Gy.prototype.cancel=function(){if(this.i=Jy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Jy(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.G);return f}return m(l.i)}var Zy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xC(l,f){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const C=l[g].indexOf("=");let L,V=null;C>=0?(L=l[g].substring(0,C),V=l[g].substring(C+1)):L=l[g],f(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Qr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;l instanceof Qr?(this.l=l.l,Ta(this,l.j),this.o=l.o,this.g=l.g,xa(this,l.u),this.h=l.h,Bh(this,iv(l.i)),this.m=l.m):l&&(f=String(l).match(Zy))?(this.l=!1,Ta(this,f[1]||"",!0),this.o=Sa(f[2]||""),this.g=Sa(f[3]||"",!0),xa(this,f[4]),this.h=Sa(f[5]||"",!0),Bh(this,f[6]||"",!0),this.m=Sa(f[7]||"")):(this.l=!1,this.i=new ba(null,this.l))}Qr.prototype.toString=function(){const l=[];var f=this.j;f&&l.push(Ia(f,ev,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Ia(f,ev,!0),"@"),l.push(_a(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Ia(g,g.charAt(0)=="/"?bC:IC,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Ia(g,AC)),l.join("")},Qr.prototype.resolve=function(l){const f=qn(this);let g=!!l.j;g?Ta(f,l.j):g=!!l.o,g?f.o=l.o:g=!!l.g,g?f.g=l.g:g=l.u!=null;var C=l.h;if(g)xa(f,l.u);else if(g=!!l.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var L=f.h.lastIndexOf("/");L!=-1&&(C=f.h.slice(0,L+1)+C)}if(L=C,L==".."||L==".")C="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){C=L.lastIndexOf("/",0)==0,L=L.split("/");const V=[];for(let q=0;q<L.length;){const he=L[q++];he=="."?C&&q==L.length&&V.push(""):he==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),C&&q==L.length&&V.push("")):(V.push(he),C=!0)}C=V.join("/")}else C=L}return g?f.h=C:g=l.i.toString()!=="",g?Bh(f,iv(l.i)):g=!!l.m,g&&(f.m=l.m),f};function qn(l){return new Qr(l)}function Ta(l,f,g){l.j=g?Sa(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function xa(l,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);l.u=f}else l.u=null}function Bh(l,f,g){f instanceof ba?(l.i=f,RC(l.i,l.l)):(g||(f=Ia(f,CC)),l.i=new ba(f,l.l))}function Ae(l,f,g){l.i.set(f,g)}function Eu(l){return Ae(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Sa(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ia(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,SC),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function SC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ev=/[#\/\?@]/g,IC=/[#\?:]/g,bC=/[#\?]/g,CC=/[#\?@]/g,AC=/#/g;function ba(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function ri(l){l.g||(l.g=new Map,l.h=0,l.i&&xC(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=ba.prototype,t.add=function(l,f){ri(this),this.i=null,l=qi(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function tv(l,f){ri(l),f=qi(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function nv(l,f){return ri(l),f=qi(l,f),l.g.has(f)}t.forEach=function(l,f){ri(this),this.g.forEach(function(g,C){g.forEach(function(L){l.call(f,L,C,this)},this)},this)};function rv(l,f){ri(l);let g=[];if(typeof f=="string")nv(l,f)&&(g=g.concat(l.g.get(qi(l,f))));else for(l=Array.from(l.g.values()),f=0;f<l.length;f++)g=g.concat(l[f]);return g}t.set=function(l,f){return ri(this),this.i=null,l=qi(this,l),nv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=rv(this,l),l.length>0?String(l[0]):f):f};function sv(l,f,g){tv(l,f),g.length>0&&(l.i=null,l.g.set(qi(l,f),m(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(let C=0;C<f.length;C++){var g=f[C];const L=_a(g);g=rv(this,g);for(let V=0;V<g.length;V++){let q=L;g[V]!==""&&(q+="="+_a(g[V])),l.push(q)}}return this.i=l.join("&")};function iv(l){const f=new ba;return f.i=l.i,l.g&&(f.g=new Map(l.g),f.h=l.h),f}function qi(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function RC(l,f){f&&!l.j&&(ri(l),l.i=null,l.g.forEach(function(g,C){const L=C.toLowerCase();C!=L&&(tv(this,C),sv(this,L,g))},l)),l.j=f}function PC(l,f){const g=new Z;if(o.Image){const C=new Image;C.onload=d(Yr,g,"TestLoadImage: loaded",!0,f,C),C.onerror=d(Yr,g,"TestLoadImage: error",!1,f,C),C.onabort=d(Yr,g,"TestLoadImage: abort",!1,f,C),C.ontimeout=d(Yr,g,"TestLoadImage: timeout",!1,f,C),o.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=l}else f(!1)}function kC(l,f){const g=new Z,C=new AbortController,L=setTimeout(()=>{C.abort(),Yr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:C.signal}).then(V=>{clearTimeout(L),V.ok?Yr(g,"TestPingServer: ok",!0,f):Yr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),Yr(g,"TestPingServer: error",!1,f)})}function Yr(l,f,g,C,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),C(g)}catch{}}function NC(){this.g=new Bi}function Wh(l){this.i=l.Sb||null,this.h=l.ab||!1}h(Wh,yu),Wh.prototype.g=function(){return new Tu(this.i,this.h)};function Tu(l,f){Ve.call(this),this.H=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Tu,Ve),t=Tu.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=f,this.readyState=1,Aa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(f.body=l),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ca(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Aa(this)),this.g&&(this.readyState=3,Aa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ov(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function ov(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Ca(this):Aa(this),this.readyState==3&&ov(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Ca(this))},t.Na=function(l){this.g&&(this.response=l,Ca(this))},t.ga=function(){this.g&&Ca(this)};function Ca(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Aa(l)}t.setRequestHeader=function(l,f){this.A.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function Aa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function av(l){let f="";return z(l,function(g,C){f+=C,f+=":",f+=g,f+=`\r
`}),f}function Hh(l,f,g){e:{for(C in g){var C=!1;break e}C=!0}C||(g=av(g),typeof l=="string"?g!=null&&_a(g):Ae(l,f,g))}function $e(l){Ve.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h($e,Ve);var DC=/^https?$/i,OC=["POST","PUT"];t=$e.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,f,g,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():En.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(V){lv(this,V);return}if(l=g||"",g=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var L in C)g.set(L,C[L]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const V of C.keys())g.set(V,C.get(V));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),L=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(OC,f,void 0)>=0)||C||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,q]of g)this.g.setRequestHeader(V,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(V){lv(this,V)}};function lv(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.o=5,uv(l),xu(l)}function uv(l){l.A||(l.A=!0,ot(l,"complete"),ot(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,ot(this,"complete"),ot(this,"abort"),xu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xu(this,!0)),$e.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?cv(this):this.Xa())},t.Xa=function(){cv(this)};function cv(l){if(l.h&&typeof i<"u"){if(l.v&&Xr(l)==4)setTimeout(l.Ca.bind(l),0);else if(ot(l,"readystatechange"),Xr(l)==4){l.h=!1;try{const V=l.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var C;if(C=V===0){let q=String(l.D).match(Zy)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),C=!DC.test(q?q.toLowerCase():"")}g=C}if(g)ot(l,"complete"),ot(l,"success");else{l.o=6;try{var L=Xr(l)>2?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.ca()+"]",uv(l)}}finally{xu(l)}}}}function xu(l,f){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,f||ot(l,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Xr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Mh(f)}};function dv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function MC(l){const f={};l=(l.g&&Xr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<l.length;C++){if(P(l[C]))continue;var g=wC(l[C]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=f[L]||[];f[L]=V,V.push(g)}K(f,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function hv(l){this.za=0,this.i=[],this.j=new Z,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ra("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ra("baseRetryDelayMs",5e3,l),this.Za=Ra("retryDelaySeedMs",1e4,l),this.Ta=Ra("forwardChannelMaxRetries",2,l),this.va=Ra("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Gy(l&&l.concurrentRequestLimit),this.Ba=new NC,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=hv.prototype,t.ka=8,t.I=1,t.connect=function(l,f,g,C){et(0),this.W=l,this.H=f||{},g&&C!==void 0&&(this.H.OSID=g,this.H.OAID=C),this.F=this.X,this.J=Ev(this,null,this.W),Iu(this)};function qh(l){if(fv(l),l.I==3){var f=l.V++,g=qn(l.J);if(Ae(g,"SID",l.M),Ae(g,"RID",f),Ae(g,"TYPE","terminate"),Pa(l,g),f=new Gr(l,l.j,f),f.M=2,f.A=Eu(qn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=f.A,g=!0),g||(f.g=Tv(f.j,null),f.g.ea(f.A)),f.F=Date.now(),_u(f)}_v(l)}function Su(l){l.g&&(Gh(l),l.g.cancel(),l.g=null)}function fv(l){Su(l),l.v&&(o.clearTimeout(l.v),l.v=null),bu(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Iu(l){if(!Qy(l.h)&&!l.m){l.m=!0;var f=l.Ea;O||S(),M||(O(),M=!0),E.add(f,l),l.D=0}}function LC(l,f){return Yy(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=f.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=ti(c(l.Ea,l,f),wv(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const L=new Gr(this,this.j,l);let V=this.o;if(this.U&&(V?(V=re(V),de(V,this.U)):V=this.U),this.u!==null||this.R||(L.J=V,V=null),this.S)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var C=this.i[g];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(f+=C,f>4096){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=mv(this,L,f),g=qn(this.J),Ae(g,"RID",l),Ae(g,"CVER",22),this.G&&Ae(g,"X-HTTP-Session-Id",this.G),Pa(this,g),V&&(this.R?f="headers="+_a(av(V))+"&"+f:this.u&&Hh(g,this.u,V)),$h(this.h,L),this.Ra&&Ae(g,"TYPE","init"),this.S?(Ae(g,"$req",f),Ae(g,"SID","null"),L.U=!0,jh(L,g,null)):jh(L,g,f),this.I=2}}else this.I==3&&(l?pv(this,l):this.i.length==0||Qy(this.h)||pv(this))};function pv(l,f){var g;f?g=f.l:g=l.V++;const C=qn(l.J);Ae(C,"SID",l.M),Ae(C,"RID",g),Ae(C,"AID",l.K),Pa(l,C),l.u&&l.o&&Hh(C,l.u,l.o),g=new Gr(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),f&&(l.i=f.G.concat(l.i)),f=mv(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),$h(l.h,g),jh(g,C,f)}function Pa(l,f){l.H&&z(l.H,function(g,C){Ae(f,C,g)}),l.l&&z({},function(g,C){Ae(f,C,g)})}function mv(l,f,g){g=Math.min(l.i.length,g);const C=l.l?c(l.l.Ka,l.l,l):null;e:{var L=l.i;let he=-1;for(;;){const tt=["count="+g];he==-1?g>0?(he=L[0].g,tt.push("ofs="+he)):he=0:tt.push("ofs="+he);let Se=!0;for(let lt=0;lt<g;lt++){var V=L[lt].g;const Kn=L[lt].map;if(V-=he,V<0)he=Math.max(0,L[lt].g-100),Se=!1;else try{V="req"+V+"_"||"";try{var q=Kn instanceof Map?Kn:Object.entries(Kn);for(const[ii,Jr]of q){let Zr=Jr;a(Jr)&&(Zr=ya(Jr)),tt.push(V+ii+"="+encodeURIComponent(Zr))}}catch(ii){throw tt.push(V+"type="+encodeURIComponent("_badmap")),ii}}catch{C&&C(Kn)}}if(Se){q=tt.join("&");break e}}q=void 0}return l=l.i.splice(0,g),f.G=l,q}function gv(l){if(!l.g&&!l.v){l.Y=1;var f=l.Da;O||S(),M||(O(),M=!0),E.add(f,l),l.A=0}}function Kh(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=ti(c(l.Da,l),wv(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,yv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=ti(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,et(10),Su(this),yv(this))};function Gh(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function yv(l){l.g=new Gr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var f=qn(l.na);Ae(f,"RID","rpc"),Ae(f,"SID",l.M),Ae(f,"AID",l.K),Ae(f,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ae(f,"TO",l.ia),Ae(f,"TYPE","xmlhttp"),Pa(l,f),l.u&&l.o&&Hh(f,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=Eu(qn(f)),g.u=null,g.R=!0,Hy(g,l)}t.Va=function(){this.C!=null&&(this.C=null,Su(this),Kh(this),et(19))};function bu(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function vv(l,f){var g=null;if(l.g==f){bu(l),Gh(l),l.g=null;var C=2}else if(zh(l.h,f))g=f.G,Xy(l.h,f),C=1;else return;if(l.I!=0){if(f.o)if(C==1){g=f.u?f.u.length:0,f=Date.now()-f.F;var L=l.D;C=Hi(),ot(C,new _n(C,g)),Iu(l)}else gv(l);else if(L=f.m,L==3||L==0&&f.X>0||!(C==1&&LC(l,f)||C==2&&Kh(l)))switch(g&&g.length>0&&(f=l.h,f.i=f.i.concat(g)),L){case 1:si(l,5);break;case 4:si(l,10);break;case 3:si(l,6);break;default:si(l,2)}}}function wv(l,f){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*f}function si(l,f){if(l.j.info("Error code "+f),f==2){var g=c(l.bb,l),C=l.Ua;const L=!C;C=new Qr(C||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ta(C,"https"),Eu(C),L?PC(C.toString(),g):kC(C.toString(),g)}else et(2);l.I=0,l.l&&l.l.pa(f),_v(l),fv(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function _v(l){if(l.I=0,l.ja=[],l.l){const f=Jy(l.h);(f.length!=0||l.i.length!=0)&&(x(l.ja,f),x(l.ja,l.i),l.h.i.length=0,m(l.i),l.i.length=0),l.l.oa()}}function Ev(l,f,g){var C=g instanceof Qr?qn(g):new Qr(g);if(C.g!="")f&&(C.g=f+"."+C.g),xa(C,C.u);else{var L=o.location;C=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;const V=new Qr(null);C&&Ta(V,C),f&&(V.g=f),L&&xa(V,L),g&&(V.h=g),C=V}return g=l.G,f=l.wa,g&&f&&Ae(C,g,f),Ae(C,"VER",l.ka),Pa(l,C),C}function Tv(l,f,g){if(f&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Aa&&!l.ma?new $e(new Wh({ab:g})):new $e(l.ma),f.Fa(l.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xv(){}t=xv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Cu(){}Cu.prototype.g=function(l,f){return new Qt(l,f)};function Qt(l,f){Ve.call(this),this.g=new hv(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(l?l["X-WebChannel-Client-Profile"]=f.sa:l={"X-WebChannel-Client-Profile":f.sa}),this.g.U=l,(l=f&&f.Qb)&&!P(l)&&(this.g.u=l),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!P(f)&&(this.g.G=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Ki(this)}h(Qt,Ve),Qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){qh(this.g)},Qt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=ya(l),l=g);f.i.push(new TC(f.Ya++,l)),f.I==3&&Iu(f)},Qt.prototype.N=function(){this.g.l=null,delete this.j,qh(this.g),delete this.g,Qt.Z.N.call(this)};function Sv(l){Wn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}h(Sv,Wn);function Iv(){Wi.call(this),this.status=1}h(Iv,Wi);function Ki(l){this.g=l}h(Ki,xv),Ki.prototype.ra=function(){ot(this.g,"a")},Ki.prototype.qa=function(l){ot(this.g,new Sv(l))},Ki.prototype.pa=function(l){ot(this.g,new Iv)},Ki.prototype.oa=function(){ot(this.g,"b")},Cu.prototype.createWebChannel=Cu.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,aI=function(){return new Cu},oI=function(){return Hi()},iI=Vt,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},an.NO_ERROR=0,an.TIMEOUT=8,an.HTTP_ERROR=6,Ac=an,jt.COMPLETE="complete",sI=jt,va.EventType=wr,wr.OPEN="a",wr.CLOSE="b",wr.ERROR="c",wr.MESSAGE="d",Ve.prototype.listen=Ve.prototype.J,qa=va,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,rI=$e}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ha="12.9.0";function AV(t){ha=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new Gg("@firebase/firestore");function Zi(){return Oi.logLevel}function G(t,...e){if(Oi.logLevel<=pe.DEBUG){const n=e.map(ay);Oi.debug(`Firestore (${ha}): ${t}`,...n)}}function zr(t,...e){if(Oi.logLevel<=pe.ERROR){const n=e.map(ay);Oi.error(`Firestore (${ha}): ${t}`,...n)}}function Mi(t,...e){if(Oi.logLevel<=pe.WARN){const n=e.map(ay);Oi.warn(`Firestore (${ha}): ${t}`,...n)}}function ay(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,lI(t,r,n)}function lI(t,e,n){let r=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw zr(r),new Error(r)}function Te(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||lI(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class PV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kV{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Os,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Os)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new uI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class NV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class DV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new NV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Qw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=MV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function ym(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Uf(s)===Uf(i)?me(s,i):Uf(s)?1:-1}return me(t.length,e.length)}const LV=55296,VV=57343;function Uf(t){const e=t.charCodeAt(0);return e>=LV&&e<=VV}function Yo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="__name__";class Yn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Yn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return me(e.length,n.length)}static compareSegments(e,n){const r=Yn.isNumericId(e),s=Yn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Yn.extractNumericId(e).compare(Yn.extractNumericId(n)):ym(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ds.fromString(e.substring(4,e.length-2))}}class ke extends Yn{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const jV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends Yn{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return jV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yw}static keyField(){return new pt([Yw])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(ke.fromString(e))}static fromName(e){return new J(ke.fromString(e).popFirst(5))}static empty(){return new J(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new ke(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FV(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Xw(t){if(!J.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jw(t){if(J.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function uy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uy(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t,e){const n={typeString:t};return e&&(n.value=e),n}function du(t,e){if(!dI(t))throw new Y($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Y($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=-62135596800,e_=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(e){return Ne.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*e_);return new Ne(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Zw)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e_}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,Ne._jsonSchema))return new Ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ne._jsonSchemaVersion="firestore/timestamp/1.0",Ne._jsonSchema={type:Xe("string",Ne._jsonSchemaVersion),seconds:Xe("number"),nanoseconds:Xe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new Ne(0,0))}static max(){return new se(new Ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function UV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=se.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new Us(s,J.empty(),e)}function zV(t){return new Us(t.readTime,t.key,jl)}class Us{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Us(se.min(),J.empty(),jl)}static max(){return new Us(se.max(),J.empty(),jl)}}function $V(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==BV)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function HV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=-1;function ph(t){return t==null}function Td(t){return t===0&&1/t==-1/0}function qV(t){return typeof t=="number"&&Number.isInteger(t)&&!Td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="";function KV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=t_(e)),e=GV(t.get(n),e);return t_(e)}function GV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case hI:n+="";break;default:n+=i}}return n}function t_(t){return t+hI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ec(this.root,e,this.comparator,!0)}}class ec{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ft.RED,this.left=s??ft.EMPTY,this.right=i??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ft(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ft.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new Zt([])}unionWith(e){let n=new it(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new pI("Invalid base64 string: "+i):i}}(e);return new vt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const QV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=QV.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $s(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="server_timestamp",gI="__type__",yI="__previous_value__",vI="__local_write_time__";function dy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[gI])==null?void 0:r.stringValue)===mI}function mh(t){const e=t.mapValue.fields[yI];return dy(e)?mh(e):e}function Fl(t){const e=zs(t.mapValue.fields[vI].timestampValue);return new Ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,n,r,s,i,o,a,u,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d,this.apiKey=h}}const xd="(default)";class Ul{constructor(e,n){this.projectId=e,this.database=n||xd}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===xd}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}function XV(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="__type__",_I="__max__",tc={mapValue:{fields:{__type__:{stringValue:_I}}}},EI="__vector__",Sd="value";function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dy(t)?4:ZV(t)?9007199254740991:JV(t)?10:11:ee(28295,{value:t})}function fr(t,e){if(t===e)return!0;const n=Bs(t);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fl(t).isEqual(Fl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=zs(s.timestampValue),a=zs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return $s(s.bytesValue).isEqual($s(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return He(s.geoPointValue.latitude)===He(i.geoPointValue.latitude)&&He(s.geoPointValue.longitude)===He(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return He(s.integerValue)===He(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=He(s.doubleValue),a=He(i.doubleValue);return o===a?Td(o)===Td(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Yo(t.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(n_(o)!==n_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!fr(o[u],a[u])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function zl(t,e){return(t.values||[]).find(n=>fr(n,e))!==void 0}function Xo(t,e){if(t===e)return 0;const n=Bs(t),r=Bs(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=He(i.integerValue||i.doubleValue),u=He(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return s_(t.timestampValue,e.timestampValue);case 4:return s_(Fl(t),Fl(e));case 5:return ym(t.stringValue,e.stringValue);case 6:return function(i,o){const a=$s(i),u=$s(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=me(a[c],u[c]);if(d!==0)return d}return me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=me(He(i.latitude),He(o.latitude));return a!==0?a:me(He(i.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return i_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,m,x,y;const a=i.fields||{},u=o.fields||{},c=(p=a[Sd])==null?void 0:p.arrayValue,d=(m=u[Sd])==null?void 0:m.arrayValue,h=me(((x=c==null?void 0:c.values)==null?void 0:x.length)||0,((y=d==null?void 0:d.values)==null?void 0:y.length)||0);return h!==0?h:i_(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===tc.mapValue&&o===tc.mapValue)return 0;if(i===tc.mapValue)return 1;if(o===tc.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const p=ym(u[h],d[h]);if(p!==0)return p;const m=Xo(a[u[h]],c[d[h]]);if(m!==0)return m}return me(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{he:n})}}function s_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=zs(t),r=zs(e),s=me(n.seconds,r.seconds);return s!==0?s:me(n.nanos,r.nanos)}function i_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Xo(n[s],r[s]);if(i)return i}return me(n.length,r.length)}function Jo(t){return vm(t)}function vm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $s(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=vm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${vm(n.fields[o])}`;return s+"}"}(t.mapValue):ee(61005,{value:t})}function Rc(t){switch(Bs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mh(t);return e?16+Rc(e):16;case 5:return 2*t.stringValue.length;case 6:return $s(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Rc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ys(r.fields,(i,o)=>{s+=i.length+Rc(o)}),s}(t.mapValue);default:throw ee(13486,{value:t})}}function wm(t){return!!t&&"integerValue"in t}function hy(t){return!!t&&"arrayValue"in t}function o_(t){return!!t&&"nullValue"in t}function a_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pc(t){return!!t&&"mapValue"in t}function JV(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[wI])==null?void 0:r.stringValue)===EI}function ll(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ys(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ll(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ll(t.arrayValue.values[n]);return e}return{...t}}function ZV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_I}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(n)}setAll(e){let n=pt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ll(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Pc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ys(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new $t(ll(this.value))}}function TI(t){const e=[];return Ys(t.fields,(n,r)=>{const s=new pt([n]);if(Pc(r)){const i=TI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new bt(e,0,se.min(),se.min(),se.min(),$t.empty(),0)}static newFoundDocument(e,n,r,s){return new bt(e,1,n,se.min(),r,s,0)}static newNoDocument(e,n){return new bt(e,2,n,se.min(),se.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,se.min(),se.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.position=e,this.inclusive=n}}function l_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=Xo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function u_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n="asc"){this.field=e,this.dir=n}}function ej(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{}class rt extends xI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nj(e,n,r):n==="array-contains"?new ij(e,r):n==="in"?new oj(e,r):n==="not-in"?new aj(e,r):n==="array-contains-any"?new lj(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rj(e,r):new sj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xo(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison(Xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends xI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new pr(e,n)}matches(e){return SI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SI(t){return t.op==="and"}function II(t){return tj(t)&&SI(t)}function tj(t){for(const e of t.filters)if(e instanceof pr)return!1;return!0}function _m(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Jo(t.value);if(II(t))return t.filters.map(e=>_m(e)).join(",");{const e=t.filters.map(n=>_m(n)).join(",");return`${t.op}(${e})`}}function bI(t,e){return t instanceof rt?function(r,s){return s instanceof rt&&r.op===s.op&&r.field.isEqual(s.field)&&fr(r.value,s.value)}(t,e):t instanceof pr?function(r,s){return s instanceof pr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&bI(o,s.filters[a]),!0):!1}(t,e):void ee(19439)}function CI(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`}(t):t instanceof pr?function(n){return n.op.toString()+" {"+n.getFilters().map(CI).join(" ,")+"}"}(t):"Filter"}class nj extends rt{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class rj extends rt{constructor(e,n){super(e,"in",n),this.keys=AI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sj extends rt{constructor(e,n){super(e,"not-in",n),this.keys=AI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class ij extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hy(n)&&zl(n.arrayValue,this.value)}}class oj extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class aj extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zl(this.value.arrayValue,n)}}class lj extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function c_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new uj(t,e,n,r,s,i,o)}function fy(t){const e=ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_m(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jo(r)).join(",")),e.Te=n}return e.Te}function py(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ej(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!u_(t.startAt,e.startAt)&&u_(t.endAt,e.endAt)}function Em(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function cj(t,e,n,r,s,i,o,a){return new gh(t,e,n,r,s,i,o,a)}function yh(t){return new gh(t)}function d_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dj(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function hj(t){return t.collectionGroup!==null}function ul(t){const e=ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(pt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new bd(i,r))}),n.has(pt.keyField().canonicalString())||e.Ie.push(new bd(pt.keyField(),r))}return e.Ie}function ar(t){const e=ae(t);return e.Ee||(e.Ee=fj(e,ul(t))),e.Ee}function fj(t,e){if(t.limitType==="F")return c_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new bd(s.field,i)});const n=t.endAt?new Id(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Id(t.startAt.position,t.startAt.inclusive):null;return c_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tm(t,e,n){return new gh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vh(t,e){return py(ar(t),ar(e))&&t.limitType===e.limitType}function RI(t){return`${fy(ar(t))}|lt:${t.limitType}`}function eo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>CI(s)).join(", ")}]`),ph(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Jo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Jo(s)).join(",")),`Target(${r})`}(ar(t))}; limitType=${t.limitType})`}function wh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ul(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=l_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,ul(r),s)||r.endAt&&!function(o,a,u){const c=l_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,ul(r),s))}(t,e)}function pj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PI(t){return(e,n)=>{let r=!1;for(const s of ul(t)){const i=mj(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function mj(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Xo(u,c):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return fI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=new ze(J.comparator);function $r(){return gj}const kI=new ze(J.comparator);function Ka(...t){let e=kI;for(const n of t)e=e.insert(n.key,n);return e}function NI(t){let e=kI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fi(){return cl()}function DI(){return cl()}function cl(){return new zi(t=>t.toString(),(t,e)=>t.isEqual(e))}const yj=new ze(J.comparator),vj=new it(J.comparator);function ge(...t){let e=vj;for(const n of t)e=e.add(n);return e}const wj=new it(me);function _j(){return wj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(e)?"-0":e}}function OI(t){return{integerValue:""+t}}function Ej(t,e){return qV(e)?OI(e):my(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this._=void 0}}function Tj(t,e,n){return t instanceof Cd?function(s,i){const o={fields:{[gI]:{stringValue:mI},[vI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&dy(i)&&(i=mh(i)),i&&(o.fields[yI]=i),{mapValue:o}}(n,e):t instanceof $l?LI(t,e):t instanceof Bl?VI(t,e):function(s,i){const o=MI(s,i),a=h_(o)+h_(s.Ae);return wm(o)&&wm(s.Ae)?OI(a):my(s.serializer,a)}(t,e)}function xj(t,e,n){return t instanceof $l?LI(t,e):t instanceof Bl?VI(t,e):n}function MI(t,e){return t instanceof Ad?function(r){return wm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Cd extends _h{}class $l extends _h{constructor(e){super(),this.elements=e}}function LI(t,e){const n=jI(e);for(const r of t.elements)n.some(s=>fr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Bl extends _h{constructor(e){super(),this.elements=e}}function VI(t,e){let n=jI(e);for(const r of t.elements)n=n.filter(s=>!fr(s,r));return{arrayValue:{values:n}}}class Ad extends _h{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function h_(t){return He(t.integerValue||t.doubleValue)}function jI(t){return hy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Sj(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof $l&&s instanceof $l||r instanceof Bl&&s instanceof Bl?Yo(r.elements,s.elements,fr):r instanceof Ad&&s instanceof Ad?fr(r.Ae,s.Ae):r instanceof Cd&&s instanceof Cd}(t.transform,e.transform)}class Ij{constructor(e,n){this.version=e,this.transformResults=n}}class mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Eh{}function FI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gy(t.key,mn.none()):new hu(t.key,t.data,mn.none());{const n=t.data,r=$t.empty();let s=new it(pt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Xs(t.key,r,new Zt(s.toArray()),mn.none())}}function bj(t,e,n){t instanceof hu?function(s,i,o){const a=s.value.clone(),u=p_(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xs?function(s,i,o){if(!kc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=p_(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(UI(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function dl(t,e,n,r){return t instanceof hu?function(i,o,a,u){if(!kc(i.precondition,o))return a;const c=i.value.clone(),d=m_(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xs?function(i,o,a,u){if(!kc(i.precondition,o))return a;const c=m_(i.fieldTransforms,u,o),d=o.data;return d.setAll(UI(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return kc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Cj(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=MI(r.transform,s||null);i!=null&&(n===null&&(n=$t.empty()),n.set(r.field,i))}return n||null}function f_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Yo(r,s,(i,o)=>Sj(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hu extends Eh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xs extends Eh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function UI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function p_(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,xj(o,a,n[s]))}return r}function m_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Tj(i,o,e))}return r}class gy extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Aj extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&bj(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=FI(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(n,r)=>f_(n,r))&&Yo(this.baseMutations,e.baseMutations,(n,r)=>f_(n,r))}}class yy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return yj}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new yy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pj=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,ve;function Nj(t){switch(t){case $.OK:return ee(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function zI(t){if(t===void 0)return zr("GRPC error has no .code"),$.UNKNOWN;switch(t){case Qe.OK:return $.OK;case Qe.CANCELLED:return $.CANCELLED;case Qe.UNKNOWN:return $.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return $.INTERNAL;case Qe.UNAVAILABLE:return $.UNAVAILABLE;case Qe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Qe.NOT_FOUND:return $.NOT_FOUND;case Qe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Qe.ABORTED:return $.ABORTED;case Qe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Qe.DATA_LOSS:return $.DATA_LOSS;default:return ee(39323,{code:t})}}(ve=Qe||(Qe={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=new Ds([4294967295,4294967295],0);function g_(t){const e=Dj().encode(t),n=new nI;return n.update(e),new Uint8Array(n.digest())}function y_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ds([n,r],0),new Ds([s,i],0)]}class vy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ga(`Invalid padding: ${n}`);if(r<0)throw new Ga(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ga(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ga(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ds.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ds.fromNumber(r)));return s.compare(Oj)===1&&(s=new Ds([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=g_(e),[r,s]=y_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new vy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=g_(e),[r,s]=y_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Th(se.min(),s,new ze(me),$r(),ge())}}class fu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fu(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class $I{constructor(e,n){this.targetId=e,this.Ce=n}}class BI{constructor(e,n,r=vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class v_{constructor(){this.ve=0,this.Fe=w_(),this.Me=vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),r=ge();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee(38017,{changeType:i})}}),new fu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=w_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Mj{constructor(e){this.Ge=e,this.ze=new Map,this.je=$r(),this.He=nc(),this.Je=nc(),this.Ze=new ze(me)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Em(i))if(r===0){const o=new J(i.path);this.et(n,o,bt.newNoDocument(o,se.min()))}else Te(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=$s(r).toUint8Array()}catch(u){if(u instanceof pI)return Mi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new vy(o,s,i)}catch(u){return Mi(u instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Em(a.target)){const u=new J(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,bt.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=ge();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Th(e,n,this.Ze,this.je,r);return this.je=$r(),this.He=nc(),this.Je=nc(),this.Ze=new ze(me),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new v_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new it(me),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new it(me),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nc(){return new ze(J.comparator)}function w_(){return new ze(J.comparator)}const Lj={asc:"ASCENDING",desc:"DESCENDING"},Vj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jj={and:"AND",or:"OR"};class Fj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xm(t,e){return t.useProto3Json||ph(e)?e:{value:e}}function Rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Uj(t,e){return Rd(t,e.toTimestamp())}function lr(t){return Te(!!t,49232),se.fromTimestamp(function(n){const r=zs(n);return new Ne(r.seconds,r.nanos)}(t))}function wy(t,e){return Sm(t,e).canonicalString()}function Sm(t,e){const n=function(s){return new ke(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HI(t){const e=ke.fromString(t);return Te(YI(e),10190,{key:e.toString()}),e}function Im(t,e){return wy(t.databaseId,e.path)}function zf(t,e){const n=HI(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(KI(n))}function qI(t,e){return wy(t.databaseId,e)}function zj(t){const e=HI(t);return e.length===4?ke.emptyPath():KI(e)}function bm(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KI(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function __(t,e,n){return{name:Im(t,e),fields:n.value.mapValue.fields}}function $j(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Te(d===void 0||typeof d=="string",58123),vt.fromBase64String(d||"")):(Te(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),vt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?$.UNKNOWN:zI(c.code);return new Y(d,c.message||"")}(o);n=new BI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zf(t,r.document.name),i=lr(r.document.updateTime),o=r.document.createTime?lr(r.document.createTime):se.min(),a=new $t({mapValue:{fields:r.document.fields}}),u=bt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Nc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zf(t,r.document),i=r.readTime?lr(r.readTime):se.min(),o=bt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Nc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zf(t,r.document),i=r.removedTargetIds||[];n=new Nc([],i,s,null)}else{if(!("filter"in e))return ee(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new kj(s,i),a=r.targetId;n=new $I(a,o)}}return n}function Bj(t,e){let n;if(e instanceof hu)n={update:__(t,e.key,e.value)};else if(e instanceof gy)n={delete:Im(t,e.key)};else if(e instanceof Xs)n={update:__(t,e.key,e.data),updateMask:Jj(e.fieldMask)};else{if(!(e instanceof Aj))return ee(16599,{dt:e.type});n={verify:Im(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Cd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $l)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ad)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ee(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Uj(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee(27497)}(t,e.precondition)),n}function Wj(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?lr(s.updateTime):lr(i);return o.isEqual(se.min())&&(o=lr(i)),new Ij(o,s.transformResults||[])}(n,e))):[]}function Hj(t,e){return{documents:[qI(t,e.path)]}}function qj(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qI(t,s);const i=function(c){if(c.length!==0)return QI(pr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:to(p.field),direction:Qj(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=xm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function Kj(t){let e=zj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Te(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=GI(h);return p instanceof pr&&II(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(x){return new bd(no(x.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,ph(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(h){const p=!!h.before,m=h.values||[];return new Id(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,m=h.values||[];return new Id(m,p)}(n.endAt)),cj(e,s,o,i,a,"F",u,c)}function Gj(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=no(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=no(n.unaryFilter.field);return rt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=no(n.unaryFilter.field);return rt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=no(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return rt.create(no(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pr.create(n.compositeFilter.filters.map(r=>GI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function Qj(t){return Lj[t]}function Yj(t){return Vj[t]}function Xj(t){return jj[t]}function to(t){return{fieldPath:t.canonicalString()}}function no(t){return pt.fromServerFormat(t.fieldPath)}function QI(t){return t instanceof rt?function(n){if(n.op==="=="){if(a_(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(o_(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(a_(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(o_(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:Yj(n.op),value:n.value}}}(t):t instanceof pr?function(n){const r=n.getFilters().map(s=>QI(s));return r.length===1?r[0]:{compositeFilter:{op:Xj(n.op),filters:r}}}(t):ee(54877,{filter:t})}function Jj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function XI(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,r,s,i=se.min(),o=se.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.yt=e}}function e3(t){const e=Kj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this.Sn=new n3}addToCollectionParentIndex(e,n){return this.Sn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Us.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class n3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new it(ke.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new it(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JI=41943040;class Ut{static withCacheSize(e){return new Ut(e,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ut.DEFAULT_COLLECTION_PERCENTILE=10,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ut.DEFAULT=new Ut(JI,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ut.DISABLED=new Ut(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Zo(0)}static ar(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="LruGarbageCollector",r3=1048576;function x_([t,e],[n,r]){const s=me(t,n);return s===0?me(e,r):s}class s3{constructor(e){this.Pr=e,this.buffer=new it(x_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();x_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class i3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){G(T_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pa(n)?G(T_,"Ignoring IndexedDB error during garbage collection: ",n):await fa(n)}await this.Ar(3e5)})}}class o3{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(fh.ce);const r=new s3(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(E_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E_):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Zi()<=pe.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${h} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function a3(t,e){return new o3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(){this.changes=new zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&dl(r.mutation,s,Zt.empty(),Ne.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const s=fi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ka();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=$r();const o=cl(),a=function(){return cl()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Xs)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),dl(d.mutation,c,d.mutation.getFieldMask(),Ne.now())):o.set(c.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new u3(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=cl();let s=new ze((o,a)=>o-a),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Zt.empty();d=a.applyToLocalView(c,d),r.set(u,d);const h=(s.get(a.batchId)||ge()).add(u);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,h=DI();d.forEach(p=>{if(!i.has(p)){const m=FI(n.get(p),r.get(p));m!==null&&h.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return dj(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(fi());let a=jl,u=i;return o.next(c=>U.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,ge())).next(d=>({batchId:a,changes:NI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let s=Ka();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ka();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,u=>{const c=function(h,p){return new gh(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,bt.newInvalidDocument(d)))});let a=Ka();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&dl(d.mutation,c,Zt.empty(),Ne.now()),wh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return U.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:lr(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:e3(s.bundledQuery),readTime:lr(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(){this.overlays=new ze(J.comparator),this.Lr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fi();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=fi(),i=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ze((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=fi(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=fi(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return U.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Pj(n,r));let i=this.Lr.get(n);i===void 0&&(i=ge(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.kr=new it(ut.Kr),this.qr=new it(ut.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ut(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new ut(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new J(new ke([])),r=new ut(n,e),s=new ut(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new J(new ke([])),r=new ut(n,e),s=new ut(n,e+1);let i=ge();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ut(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ut{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return J.comparator(e.key,n.key)||me(e.Hr,n.Hr)}static Ur(e,n){return me(e.Hr,n.Hr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new it(ut.Kr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Rj(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new ut(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?cy:this.Yn-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ut(n,0),s=new ut(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(me);return n.forEach(s=>{const i=new ut(s,0),o=new ut(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),U.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const o=new ut(new J(i),0);let a=new it(me);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Hr)),!0)},o),U.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Te(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return U.forEach(n.mutations,s=>{const i=new ut(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new ut(n,0),s=this.Jr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.ti=e,this.docs=function(){return new ze(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():bt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=$r();const o=n.path,a=new J(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||$V(zV(d),r)<=0||(s.has(d.key)||wh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee(9500)}ni(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new g3(this)}getSize(e){return U.resolve(this.size)}}class g3 extends l3{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.persistence=e,this.ri=new zi(n=>fy(n),py),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.ii=0,this.si=new _y,this.targetCount=0,this.oi=Zo._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),U.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.lr(n),U.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this._i={},this.overlays={},this.ai=new fh(0),this.ui=!1,this.ui=!0,this.ci=new f3,this.referenceDelegate=e(this),this.li=new y3(this),this.indexManager=new t3,this.remoteDocumentCache=function(s){return new m3(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new Zj(n),this.Pi=new d3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new h3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new p3(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new v3(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return U.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class v3 extends WV{constructor(e){super(),this.currentSequenceNumber=e}}class Ey{constructor(e){this.persistence=e,this.Ri=new _y,this.Ai=null}static Vi(e){return new Ey(e)}get di(){if(this.Ai)return this.Ai;throw ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.di,r=>{const s=J.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,se.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Pd{constructor(e,n){this.persistence=e,this.fi=new zi(r=>KV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=a3(this,n)}static Vi(e,n){return new Pd(e,n)}Ti(){}Ii(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return U.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,se.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),U.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rc(e.data.value)),n}wr(e,n,r){return U.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=ge(),s=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ty(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return uM()?8:HV(At())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new w3;return this.ys(e,n,o).next(a=>{if(i.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Zi()<=pe.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(Zi()<=pe.DEBUG&&G("QueryEngine","Query:",eo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Zi()<=pe.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):U.resolve())}gs(e,n){if(d_(n))return U.resolve(null);let r=ar(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Tm(n,null,"F"),r=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ge(...i);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.bs(n,a);return this.Ss(n,c,o,u.readTime)?this.gs(e,Tm(n,null,"F")):this.Ds(e,c,n,u)}))})))}ps(e,n,r,s){return d_(n)||s.isEqual(se.min())?U.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?U.resolve(null):(Zi()<=pe.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),eo(n)),this.Ds(e,o,n,UV(s,jl)).next(a=>a))})}bs(e,n){let r=new it(PI(e));return n.forEach((s,i)=>{wh(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return Zi()<=pe.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",eo(n)),this.fs.getDocumentsMatchingQuery(e,n,Us.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="LocalStore",E3=3e8;class T3{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new ze(me),this.Fs=new zi(i=>fy(i),py),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c3(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function x3(t,e,n,r){return new T3(t,e,n,r)}async function eb(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=ge();for(const c of s){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function S3(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const h=c.batch,p=h.keys();let m=U.resolve();return p.forEach(x=>{m=m.next(()=>d.getEntry(u,x)).next(y=>{const T=c.docVersions.get(x);Te(T!==null,48541),y.version.compareTo(T)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function tb(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function I3(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.li.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.li.addMatchingKeys(i,d.addedDocuments,h)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(vt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(y,T,_){return y.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=E3?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,d)&&a.push(n.li.updateTargetData(i,m))});let u=$r(),c=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(b3(i,o,e.documentUpdates).next(d=>{u=d.Bs,c=d.Ls})),!r.isEqual(se.min())){const d=n.li.getLastRemoteSnapshotVersion(i).next(h=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.vs=s,i))}function b3(t,e,n){let r=ge(),s=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=$r();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):G(xy,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Bs:o,Ls:s}})}function C3(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function A3(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new Es(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function Cm(t,e,n){const r=ae(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!pa(o))throw o;G(xy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function S_(t,e,n){const r=ae(t);let s=se.min(),i=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const h=ae(u),p=h.Fs.get(d);return p!==void 0?U.resolve(h.vs.get(p)):h.li.getTargetData(c,d)}(r,o,ar(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:se.min(),n?i:ge())).next(a=>(R3(r,pj(e),a),{documents:a,ks:i})))}function R3(t,e,n){let r=t.Ms.get(e)||se.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class I_{constructor(){this.activeTargetIds=_j()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P3{constructor(){this.vo=new I_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new I_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="ConnectivityMonitor";class C_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){G(b_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){G(b_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function Am(){return rc===null?rc=function(){return 268435456+Math.round(2147483648*Math.random())}():rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="RestConnection",N3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class D3{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===xd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Am(),a=this.Qo(e,n.toUriEncodedString());G($f,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,s,i);const{host:c}=new URL(a),d=ua(c);return this.zo(e,a,u,r,d).then(h=>(G($f,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Mi($f,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ha}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=N3[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection",za=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class Co extends D3{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Co.c_){const e=oI();za(e,iI.STAT_EVENT,n=>{n.stat===gm.PROXY?G(Tt,"STAT_EVENT: detected buffering proxy"):n.stat===gm.NOPROXY&&G(Tt,"STAT_EVENT: detected no buffering proxy")}),Co.c_=!0}}zo(e,n,r,s,i){const o=Am();return new Promise((a,u)=>{const c=new rI;c.setWithCredentials(!0),c.listenOnce(sI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ac.NO_ERROR:const h=c.getResponseJson();G(Tt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Ac.TIMEOUT:G(Tt,`RPC '${e}' ${o} timed out`),u(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:const p=c.getStatus();if(G(Tt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const x=m==null?void 0:m.error;if(x&&x.status&&x.message){const y=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(x.status);u(new Y(y,x.message))}else u(new Y($.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Y($.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(Tt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);G(Tt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Am(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=i.join("");G(Tt,`Creating RPC '${e}' stream ${s}: ${c}`,a);const d=o.createWebChannel(c,a);this.I_(d);let h=!1,p=!1;const m=new O3({Ho:x=>{p?G(Tt,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(h||(G(Tt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),G(Tt,`RPC '${e}' stream ${s} sending:`,x),d.send(x))},Jo:()=>d.close()});return za(d,qa.EventType.OPEN,()=>{p||(G(Tt,`RPC '${e}' stream ${s} transport opened.`),m.i_())}),za(d,qa.EventType.CLOSE,()=>{p||(p=!0,G(Tt,`RPC '${e}' stream ${s} transport closed`),m.o_(),this.E_(d))}),za(d,qa.EventType.ERROR,x=>{p||(p=!0,Mi(Tt,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),m.o_(new Y($.UNAVAILABLE,"The operation could not be completed")))}),za(d,qa.EventType.MESSAGE,x=>{var y;if(!p){const T=x.data[0];Te(!!T,16349);const _=T,w=(_==null?void 0:_.error)||((y=_[0])==null?void 0:y.error);if(w){G(Tt,`RPC '${e}' stream ${s} received error:`,w);const b=w.status;let D=function(E){const S=Qe[E];if(S!==void 0)return zI(S)}(b),O=w.message;b==="NOT_FOUND"&&O.includes("database")&&O.includes("does not exist")&&O.includes(this.databaseId.database)&&Mi(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),D===void 0&&(D=$.INTERNAL,O="Unknown error status: "+b+" with message "+w.message),p=!0,m.o_(new Y(D,O)),d.close()}else G(Tt,`RPC '${e}' stream ${s} received:`,T),m.__(T)}}),Co.u_(),setTimeout(()=>{m.s_()},0),m}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return aI()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t){return new Co(t)}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return new Fj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Co.c_=!1;class nb{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="PersistentStream";class rb{constructor(e,n,r,s,i,o,a,u){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(A_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(G(A_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L3 extends rb{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$j(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?lr(o.readTime):se.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=bm(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Em(u)?{documents:Hj(i,u)}:{query:qj(i,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=WI(i,o.resumeToken);const c=xm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=Rd(i,o.snapshotVersion.toTimestamp());const c=xm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Gj(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=bm(this.serializer),n.removeTarget=e,this.K_(n)}}class V3 extends rb{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Wj(e.writeResults,e.commitTime),r=lr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=bm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Bj(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{}class F3 extends j3{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Sm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,Sm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function U3(t,e,n,r){return new F3(t,e,n,r)}class z3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zr(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="RemoteStore";class $3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{$i(this)&&(G(Li,"Restarting streams for network reachability change."),await async function(u){const c=ae(u);c.Ea.add(4),await pu(c),c.Va.set("Unknown"),c.Ea.delete(4),await Sh(c)}(this))})}),this.Va=new z3(r,s)}}async function Sh(t){if($i(t))for(const e of t.Ra)await e(!0)}async function pu(t){for(const e of t.Ra)await e(!1)}function sb(t,e){const n=ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cy(n)?by(n):ma(n).O_()&&Iy(n,e))}function Sy(t,e){const n=ae(t),r=ma(n);n.Ia.delete(e),r.O_()&&ib(n,e),n.Ia.size===0&&(r.O_()?r.L_():$i(n)&&n.Va.set("Unknown"))}function Iy(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ma(t).Z_(e)}function ib(t,e){t.da.$e(e),ma(t).X_(e)}function by(t){t.da=new Mj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ma(t).start(),t.Va.ua()}function Cy(t){return $i(t)&&!ma(t).x_()&&t.Ia.size>0}function $i(t){return ae(t).Ea.size===0}function ob(t){t.da=void 0}async function B3(t){t.Va.set("Online")}async function W3(t){t.Ia.forEach((e,n)=>{Iy(t,e)})}async function H3(t,e){ob(t),Cy(t)?(t.Va.ha(e),by(t)):t.Va.set("Unknown")}async function q3(t,e,n){if(t.Va.set("Online"),e instanceof BI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(t,e)}catch(r){G(Li,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kd(t,r)}else if(e instanceof Nc?t.da.Xe(e):e instanceof $I?t.da.st(e):t.da.tt(e),!n.isEqual(se.min()))try{const r=await tb(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(vt.EMPTY_BYTE_STRING,d.snapshotVersion)),ib(i,u);const h=new Es(d.target,u,c,d.sequenceNumber);Iy(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(Li,"Failed to raise snapshot:",r),await kd(t,r)}}async function kd(t,e,n){if(!pa(e))throw e;t.Ea.add(1),await pu(t),t.Va.set("Offline"),n||(n=()=>tb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(Li,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Sh(t)})}function ab(t,e){return e().catch(n=>kd(t,n,e))}async function Ih(t){const e=ae(t),n=Ws(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cy;for(;K3(e);)try{const s=await C3(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,G3(e,s)}catch(s){await kd(e,s)}lb(e)&&ub(e)}function K3(t){return $i(t)&&t.Ta.length<10}function G3(t,e){t.Ta.push(e);const n=Ws(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function lb(t){return $i(t)&&!Ws(t).x_()&&t.Ta.length>0}function ub(t){Ws(t).start()}async function Q3(t){Ws(t).ra()}async function Y3(t){const e=Ws(t);for(const n of t.Ta)e.ea(n.mutations)}async function X3(t,e,n){const r=t.Ta.shift(),s=yy.from(r,e,n);await ab(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ih(t)}async function J3(t,e){e&&Ws(t).Y_&&await async function(r,s){if(function(o){return Nj(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();Ws(r).B_(),await ab(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ih(r)}}(t,e),lb(t)&&ub(t)}async function R_(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),G(Li,"RemoteStore received new credentials");const r=$i(n);n.Ea.add(3),await pu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sh(n)}async function Z3(t,e){const n=ae(t);e?(n.Ea.delete(2),await Sh(n)):e||(n.Ea.add(2),await pu(n),n.Va.set("Unknown"))}function ma(t){return t.ma||(t.ma=function(n,r,s){const i=ae(n);return i.sa(),new L3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:B3.bind(null,t),Yo:W3.bind(null,t),t_:H3.bind(null,t),J_:q3.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Cy(t)?by(t):t.Va.set("Unknown")):(await t.ma.stop(),ob(t))})),t.ma}function Ws(t){return t.fa||(t.fa=function(n,r,s){const i=ae(n);return i.sa(),new V3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Q3.bind(null,t),t_:J3.bind(null,t),ta:Y3.bind(null,t),na:X3.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Ih(t)):(await t.fa.stop(),t.Ta.length>0&&(G(Li,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ay(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ry(t,e){if(zr("AsyncQueue",`${e}: ${t}`),pa(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Ka(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.ga=new ze(J.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ee(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ea{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ea(e,n,Ao.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class tF{constructor(){this.queries=k_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=k_(),i.forEach((o,a)=>{for(const u of a.ba)u.onError(r)})})(this,new Y($.ABORTED,"Firestore shutting down"))}}function k_(){return new zi(t=>RI(t),vh)}async function cb(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new eF,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Ry(o,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Py(n)}async function db(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nF(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&Py(n)}function rF(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function Py(t){t.Ca.forEach(e=>{e.next()})}var Rm,N_;(N_=Rm||(Rm={})).Ma="default",N_.Cache="cache";class hb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.key=e}}class pb{constructor(e){this.key=e}}class sF{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ge(),this.mutatedKeys=ge(),this.eu=PI(e),this.tu=new Ao(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new P_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),m=wh(this.query,h)?h:null,x=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;p&&m?p.data.isEqual(m.data)?x!==y&&(r.track({type:3,doc:m}),T=!0):this.su(p,m)||(r.track({type:2,doc:m}),T=!0,(u&&this.eu(m,u)>0||c&&this.eu(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),T=!0):p&&!m&&(r.track({type:1,doc:p}),T=!0,(u||c)&&(a=!0)),T&&(m?(o=o.add(m),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(m,x){const y=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Vt:T})}};return y(m)-y(x)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],u=this.Ya.size===0&&this.current&&!s?1:0,c=u!==this.Xa;return this.Xa=u,o.length!==0||c?{snapshot:new ea(this.query,e.tu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new P_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new pb(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new fb(r))}),n}cu(e){this.Za=e.ks,this.Ya=ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ea.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ky="SyncEngine";class iF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oF{constructor(e){this.key=e,this.hu=!1}}class aF{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new zi(a=>RI(a),vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ze(J.comparator),this.Au=new Map,this.Vu=new _y,this.du={},this.mu=new Map,this.fu=Zo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lF(t,e,n=!0){const r=_b(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await mb(r,e,n,!0),s}async function uF(t,e){const n=_b(t);await mb(n,e,!0,!1)}async function mb(t,e,n,r){const s=await A3(t.localStore,ar(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await cF(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&sb(t.remoteStore,s),a}async function cF(t,e,n,r,s){t.pu=(h,p,m)=>async function(y,T,_,w){let b=T.view.ru(_);b.Ss&&(b=await S_(y.localStore,T.query,!1).then(({documents:E})=>T.view.ru(E,b)));const D=w&&w.targetChanges.get(T.targetId),O=w&&w.targetMismatches.get(T.targetId)!=null,M=T.view.applyChanges(b,y.isPrimaryClient,D,O);return O_(y,T.targetId,M.au),M.snapshot}(t,h,p,m);const i=await S_(t.localStore,e,!0),o=new sF(e,i.ks),a=o.ru(i.documents),u=fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);O_(t,n,c.au);const d=new iF(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function dF(t,e,n){const r=ae(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!vh(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Cm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Sy(r.remoteStore,s.targetId),Pm(r,s.targetId)}).catch(fa)):(Pm(r,s.targetId),await Cm(r.localStore,s.targetId,!0))}async function hF(t,e){const n=ae(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sy(n.remoteStore,r.targetId))}async function fF(t,e,n){const r=_F(t);try{const s=await function(o,a){const u=ae(o),c=Ne.now(),d=a.reduce((m,x)=>m.add(x.key),ge());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let x=$r(),y=ge();return u.xs.getEntries(m,d).next(T=>{x=T,x.forEach((_,w)=>{w.isValidDocument()||(y=y.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,x)).next(T=>{h=T;const _=[];for(const w of a){const b=Cj(w,h.get(w.key).overlayedDocument);b!=null&&_.push(new Xs(w.key,b,TI(b.value.mapValue),mn.exists(!0)))}return u.mutationQueue.addMutationBatch(m,c,_,a)}).next(T=>{p=T;const _=T.applyToLocalDocumentSet(h,y);return u.documentOverlayCache.saveOverlays(m,T.batchId,_)})}).then(()=>({batchId:p.batchId,changes:NI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.du[o.currentUser.toKey()];c||(c=new ze(me)),c=c.insert(a,u),o.du[o.currentUser.toKey()]=c}(r,s.batchId,n),await mu(r,s.changes),await Ih(r.remoteStore)}catch(s){const i=Ry(s,"Failed to persist write");n.reject(i)}}async function gb(t,e){const n=ae(t);try{const r=await I3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Te(o.hu,14607):s.removedDocuments.size>0&&(Te(o.hu,42227),o.hu=!1))}),await mu(n,r,e)}catch(r){await fa(r)}}function D_(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=ae(o);u.onlineState=a;let c=!1;u.queries.forEach((d,h)=>{for(const p of h.ba)p.va(a)&&(c=!0)}),c&&Py(u)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pF(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new ze(J.comparator);o=o.insert(i,bt.newNoDocument(i,se.min()));const a=ge().add(i),u=new Th(se.min(),new Map,new ze(me),o,a);await gb(r,u),r.Ru=r.Ru.remove(i),r.Au.delete(e),Ny(r)}else await Cm(r.localStore,e,!1).then(()=>Pm(r,e,n)).catch(fa)}async function mF(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await S3(n.localStore,e);vb(n,r,null),yb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mu(n,s)}catch(s){await fa(s)}}async function gF(t,e,n){const r=ae(t);try{const s=await function(o,a){const u=ae(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(Te(h!==null,37113),d=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);vb(r,e,n),yb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mu(r,s)}catch(s){await fa(s)}}function yb(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function vb(t,e,n){const r=ae(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Pm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||wb(t,r)})}function wb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Sy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Ny(t))}function O_(t,e,n){for(const r of n)r instanceof fb?(t.Vu.addReference(r.key,e),yF(t,r)):r instanceof pb?(G(ky,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||wb(t,r.key)):ee(19791,{wu:r})}function yF(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(G(ky,"New document in limbo: "+n),t.Eu.add(r),Ny(t))}function Ny(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new J(ke.fromString(e)),r=t.fu.next();t.Au.set(r,new oF(n)),t.Ru=t.Ru.insert(n,r),sb(t.remoteStore,new Es(ar(yh(n.path)),r,"TargetPurposeLimboResolution",fh.ce))}}async function mu(t,e,n){const r=ae(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){s.push(c);const h=Ty.Es(u.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(u,c){const d=ae(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(c,p=>U.forEach(p.Ts,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>U.forEach(p.Is,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!pa(h))throw h;G(xy,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const m=d.vs.get(p),x=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(x);d.vs=d.vs.insert(p,y)}}}(r.localStore,i))}async function vF(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){G(ky,"User change. New user:",e.toKey());const r=await eb(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(u=>{u.reject(new Y($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mu(n,r.Ns)}}function wF(t,e){const n=ae(t),r=n.Au.get(e);if(r&&r.hu)return ge().add(r.key);{let s=ge();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function _b(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pF.bind(null,e),e.Pu.J_=nF.bind(null,e.eventManager),e.Pu.yu=rF.bind(null,e.eventManager),e}function _F(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gF.bind(null,e),e}class Nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return x3(this.persistence,new _3,e.initialUser,this.serializer)}Cu(e){return new ZI(Ey.Vi,this.serializer)}Du(e){return new P3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nd.provider={build:()=>new Nd};class EF extends Nd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof Pd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new i3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ut.withCacheSize(this.cacheSizeBytes):Ut.DEFAULT;return new ZI(r=>Pd.Vi(r,n),this.serializer)}}class km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vF.bind(null,this.syncEngine),await Z3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tF}()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),r=M3(e.databaseInfo);return U3(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new $3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>D_(this.syncEngine,n,0),function(){return C_.v()?new C_:new k3}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,d){const h=new aF(s,i,o,a,u,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);G(Li,"RemoteStore shutting down."),i.Ea.add(5),await pu(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}km.provider={build:()=>new km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class TF{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=St.UNAUTHENTICATED,this.clientId=ly.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(Hs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(Hs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ry(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wf(t,e){t.asyncQueue.verifyOperationInProgress(),G(Hs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await eb(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function M_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xF(t);G(Hs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>R_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>R_(e.remoteStore,s)),t._onlineComponents=e}async function xF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Hs,"Using user provided OfflineComponentProvider");try{await Wf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Mi("Error using user provided cache. Falling back to memory cache: "+n),await Wf(t,new Nd)}}else G(Hs,"Using default OfflineComponentProvider"),await Wf(t,new EF(void 0));return t._offlineComponents}async function Tb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Hs,"Using user provided OnlineComponentProvider"),await M_(t,t._uninitializedComponentsProvider._online)):(G(Hs,"Using default OnlineComponentProvider"),await M_(t,new km))),t._onlineComponents}function SF(t){return Tb(t).then(e=>e.syncEngine)}async function Nm(t){const e=await Tb(t),n=e.eventManager;return n.onListen=lF.bind(null,e.syncEngine),n.onUnlisten=dF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hF.bind(null,e.syncEngine),n}function IF(t,e,n,r){const s=new Eb(r),i=new hb(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>cb(await Nm(t),i)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>db(await Nm(t),i))}}function bF(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new Eb({next:p=>{d.Nu(),o.enqueueAndForget(()=>db(i,h));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new Y($.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&u&&u.source==="server"?c.reject(new Y($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new hb(yh(a.path),d,{includeMetadataChanges:!0,Ka:!0});return cb(i,h)}(await Nm(t),t.asyncQueue,e,n,r)),r.promise}function CF(t,e){const n=new Os;return t.asyncQueue.enqueueAndForget(async()=>fF(await SF(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF="ComponentProvider",L_=new Map;function RF(t,e,n,r,s){return new YV(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,xb(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="firestore.googleapis.com",V_=!0;class j_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sb,this.ssl=V_}else this.host=e.host,this.ssl=e.ssl??V_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r3)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xb(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RV;switch(r.type){case"firstParty":return new DV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=L_.get(n);r&&(G(AF,"Removing Datastore"),L_.delete(n),r.terminate())}(this),Promise.resolve()}}function PF(t,e,n,r={}){var c;t=pn(t,bh);const s=ua(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(vS(`https://${a}`),wS("Firestore",!0)),i.host!==Sb&&i.host!==a&&Mi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:a,ssl:s,emulatorOptions:r};if(!ki(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=St.MOCK_USER;else{d=eM(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new St(p)}t._authCredentials=new PV(new uI(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ch(this.firestore,e,this._query)}}class Ke{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ke(this.firestore,e,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(du(n,Ke._jsonSchema))return new Ke(e,r||null,new J(ke.fromString(n.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:Xe("string",Ke._jsonSchemaVersion),referencePath:Xe("string")};class Ms extends Ch{constructor(e,n,r){super(e,n,yh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new J(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function Wl(t,e,...n){if(t=yt(t),cI("collection","path",e),t instanceof bh){const r=ke.fromString(e,...n);return Jw(r),new Ms(t,null,r)}{if(!(t instanceof Ke||t instanceof Ms))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return Jw(r),new Ms(t.firestore,null,r)}}function Hl(t,e,...n){if(t=yt(t),arguments.length===1&&(e=ly.newId()),cI("doc","path",e),t instanceof bh){const r=ke.fromString(e,...n);return Xw(r),new Ke(t,null,new J(r))}{if(!(t instanceof Ke||t instanceof Ms))throw new Y($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return Xw(r),new Ke(t.firestore,t instanceof Ms?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="AsyncQueue";class U_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nb(this,"async_queue_retry"),this._c=()=>{const r=Bf();r&&G(F_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Bf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Os;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!pa(e))throw e;G(F_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,zr("INTERNAL UNHANDLED ERROR: ",z_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ay.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ee(47125,{Pc:z_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function z_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class qs extends bh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new U_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U_(e),this._firestoreClient=void 0,await e}}}function kF(t,e){const n=typeof t=="object"?t:xS(),r=typeof t=="string"?t:xd,s=Yg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=JO("firestore");i&&PF(s,...i)}return s}function Dy(t){if(t._terminated)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||NF(t),t._firestoreClient}function NF(t){var r,s,i,o;const e=t._freezeSettings(),n=RF(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new TF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dn(vt.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dn(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,dn._jsonSchema))return dn.fromBase64String(e.bytes)}}dn._jsonSchemaVersion="firestore/bytes/1.0",dn._jsonSchema={type:Xe("string",dn._jsonSchemaVersion),bytes:Xe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ur._jsonSchemaVersion}}static fromJSON(e){if(du(e,ur._jsonSchema))return new ur(e.latitude,e.longitude)}}ur._jsonSchemaVersion="firestore/geoPoint/1.0",ur._jsonSchema={type:Xe("string",ur._jsonSchemaVersion),latitude:Xe("number"),longitude:Xe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Mn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,Mn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Mn(e.vectorValues);throw new Y($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mn._jsonSchemaVersion="firestore/vectorValue/1.0",Mn._jsonSchema={type:Xe("string",Mn._jsonSchemaVersion),vectorValues:Xe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=/^__.*__$/;class OF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}}class Ib{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{dataSource:t})}}class Ly{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ly({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Dd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(bb(this.dataSource)&&DF.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class MF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xh(e)}createContext(e,n,r,s=!1){return new Ly({dataSource:e,methodName:n,targetDoc:r,path:pt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vy(t){const e=t._freezeSettings(),n=xh(t._databaseId);return new MF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Cb(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);jy("Data must be an object, but it was:",o,r);const a=Ab(r,o);let u,c;if(i.merge)u=new Zt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=ql(e,h,n);if(!o.contains(p))throw new Y($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);kb(d,p)||d.push(p)}u=new Zt(d),c=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=o.fieldTransforms;return new OF(new $t(a),u,c)}class Ah extends My{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ah}}function LF(t,e,n,r){const s=t.createContext(1,e,n);jy("Data must be an object, but it was:",s,r);const i=[],o=$t.empty();Ys(r,(u,c)=>{const d=Pb(e,u,n);c=yt(c);const h=s.childContextForFieldPath(d);if(c instanceof Ah)i.push(d);else{const p=Rh(c,h);p!=null&&(i.push(d),o.set(d,p))}});const a=new Zt(i);return new Ib(o,a,s.fieldTransforms)}function VF(t,e,n,r,s,i){const o=t.createContext(1,e,n),a=[ql(e,r,n)],u=[s];if(i.length%2!=0)throw new Y($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(ql(e,i[p])),u.push(i[p+1]);const c=[],d=$t.empty();for(let p=a.length-1;p>=0;--p)if(!kb(c,a[p])){const m=a[p];let x=u[p];x=yt(x);const y=o.childContextForFieldPath(m);if(x instanceof Ah)c.push(m);else{const T=Rh(x,y);T!=null&&(c.push(m),d.set(m,T))}}const h=new Zt(c);return new Ib(d,h,o.fieldTransforms)}function Rh(t,e){if(Rb(t=yt(t)))return jy("Unsupported field value:",e,t),Ab(t,e);if(t instanceof My)return function(r,s){if(!bb(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=Rh(a,s.childContextForArray(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ej(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ne.fromDate(r);return{timestampValue:Rd(s.serializer,i)}}if(r instanceof Ne){const i=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rd(s.serializer,i)}}if(r instanceof ur)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dn)return{bytesValue:WI(s.serializer,r._byteString)};if(r instanceof Ke){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Mn)return function(o,a){const u=o instanceof Mn?o.toArray():o;return{mapValue:{fields:{[wI]:{stringValue:EI},[Sd]:{arrayValue:{values:u.map(d=>{if(typeof d!="number")throw a.createError("VectorValues must only contain numeric values.");return my(a.serializer,d)})}}}}}}(r,s);if(XI(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${uy(r)}`)}(t,e)}function Ab(t,e){const n={};return fI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(t,(r,s)=>{const i=Rh(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Rb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof ur||t instanceof dn||t instanceof Ke||t instanceof My||t instanceof Mn||XI(t))}function jy(t,e,n){if(!Rb(n)||!dI(n)){const r=uy(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function ql(t,e,n){if((e=yt(e))instanceof Oy)return e._internalPath;if(typeof e=="string")return Pb(t,e);throw Dd("Field path arguments must be of type string or ",t,!1,void 0,n)}const jF=new RegExp("[~\\*/\\[\\]]");function Pb(t,e,n){if(e.search(jF)>=0)throw Dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Oy(...e.split("."))._internalPath}catch{throw Dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new Y($.INVALID_ARGUMENT,a+t+u)}function kb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ys(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Sd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>He(o.doubleValue));return new Mn(n)}convertGeoPoint(e){return new ur(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const n=zs(e);return new Ne(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);Te(YI(r),9688,{name:e});const s=new Ul(r.get(1),r.get(3)),i=new J(r.popFirst(5));return s.isEqual(n)||zr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb extends FF{constructor(e){super(),this.firestore=e}convertBytes(e){return new dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,n)}}const $_="@firebase/firestore",B_="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(ql("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UF extends Db{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Ob(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Qa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Si extends Db{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ql("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Si._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Si._jsonSchemaVersion="firestore/documentSnapshot/1.0",Si._jsonSchema={type:Xe("string",Si._jsonSchemaVersion),bundleSource:Xe("string","DocumentSnapshot"),bundleName:Xe("string"),bundle:Xe("string")};class Dc extends Si{data(e={}){return super.data(e)}}class Ro{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Qa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dc(this._firestore,this._userDataWriter,r.key,r,new Qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Dc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Qa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Dc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Qa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:$F(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ly.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $F(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ro._jsonSchemaVersion="firestore/querySnapshot/1.0",Ro._jsonSchema={type:Xe("string",Ro._jsonSchemaVersion),bundleSource:Xe("string","QuerySnapshot"),bundleName:Xe("string"),bundle:Xe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){t=pn(t,Ke);const e=pn(t.firestore,qs),n=Dy(e);return bF(n,t._key).then(r=>Lb(e,t,r))}function Dm(t,e,n){t=pn(t,Ke);const r=pn(t.firestore,qs),s=Ob(t.converter,e,n),i=Vy(r);return Ph(r,[Cb(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,mn.none())])}function WF(t,e,n,...r){t=pn(t,Ke);const s=pn(t.firestore,qs),i=Vy(s);let o;return o=typeof(e=yt(e))=="string"||e instanceof Oy?VF(i,"updateDoc",t._key,e,n,r):LF(i,"updateDoc",t._key,e),Ph(s,[o.toMutation(t._key,mn.exists(!0))])}function HF(t){return Ph(pn(t.firestore,qs),[new gy(t._key,mn.none())])}function Mb(t,e){const n=pn(t.firestore,qs),r=Hl(t),s=Ob(t.converter,e),i=Vy(t.firestore);return Ph(n,[Cb(i,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,mn.exists(!1))]).then(()=>r)}function Fy(t,...e){var c,d,h;t=yt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||W_(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(W_(e[r])){const p=e[r];e[r]=(c=p.next)==null?void 0:c.bind(p),e[r+1]=(d=p.error)==null?void 0:d.bind(p),e[r+2]=(h=p.complete)==null?void 0:h.bind(p)}let i,o,a;if(t instanceof Ke)o=pn(t.firestore,qs),a=yh(t._key.path),i={next:p=>{e[r]&&e[r](Lb(o,t,p))},error:e[r+1],complete:e[r+2]};else{const p=pn(t,Ch);o=pn(p.firestore,qs),a=p._query;const m=new Nb(o);i={next:x=>{e[r]&&e[r](new Ro(o,m,p,x))},error:e[r+1],complete:e[r+2]},zF(t._query)}const u=Dy(o);return IF(u,a,s,i)}function Ph(t,e){const n=Dy(t);return CF(n,e)}function Lb(t,e,n){const r=n.docs.get(e._key),s=new Nb(t);return new Si(t,s,e._key,r,new Qa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){AV(ca),Go(new Ni("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new qs(new kV(r.getProvider("auth-internal")),new OV(o,r.getProvider("app-check-internal")),XV(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ns($_,B_,e),Ns($_,B_,"esm2020")})();var qF="firebase",KF="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(qF,KF,"app");const GF={apiKey:"AIzaSyAWk-4VmOTCe1TfnrwUGPOotN877ob8K4c",authDomain:"mynga-6c26a.firebaseapp.com",databaseURL:"https://mynga-6c26a-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"mynga-6c26a",storageBucket:"mynga-6c26a.firebasestorage.app",messagingSenderId:"381816147855",appId:"1:381816147855:web:b16865625211ef0b9b45fa",measurementId:"G-DWJZFZ5KCV"},Vb=TS(GF),Hf=bV(Vb),QF=new Ir,Pr=kF(Vb),jb=I.createContext(null);function YF({children:t}){const[e,n]=I.useState(null),[r,s]=I.useState(null),[i,o]=I.useState(!0);I.useEffect(()=>pL(Hf,async h=>{if(n(h),h){const p=Hl(Pr,"users",h.uid),m=await BF(p);if(m.exists()){const x=m.data(),y=x.role==="admin"||x.role==="staff"||x.role==="none"?x.role:"none";x.role!==y&&await Dm(p,{role:y},{merge:!0}),s({...x,role:y})}else{const x={uid:h.uid,email:h.email||"",displayName:h.displayName||"",photoURL:h.photoURL||"",role:"none"};await Dm(p,x),s(x)}}else s(null);o(!1)}),[]);const a=async()=>{await ML(Hf,QF)},u=async()=>{await mL(Hf),s(null)},c=(r==null?void 0:r.role)??null;return v.jsx(jb.Provider,{value:{user:e,appUser:r,loading:i,role:c,signInWithGoogle:a,logout:u},children:t})}function kh(){const t=I.useContext(jb);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}function XF(){const[t,e]=I.useState([]),[n,r]=I.useState(!0);I.useEffect(()=>{const a=Wl(Pr,"products");return Fy(a,c=>{e(c.docs.map(d=>({id:d.id,...d.data()}))),r(!1)})},[]);const s=I.useCallback(async a=>{await Mb(Wl(Pr,"products"),a)},[]),i=I.useCallback(async(a,u)=>{await WF(Hl(Pr,"products",a),u)},[]),o=I.useCallback(async a=>{await HF(Hl(Pr,"products",a))},[]);return{products:t,loading:n,addProduct:s,updateProduct:i,deleteProduct:o}}function JF(){kh();const[t,e]=I.useState([]),[n,r]=I.useState(!0);I.useEffect(()=>{const i=Wl(Pr,"orders");return Fy(i,a=>{const u=a.docs.map(c=>({id:c.id,...c.data()}));u.sort((c,d)=>new Date(d.date).getTime()-new Date(c.date).getTime()),e(u),r(!1)})},[]);const s=I.useCallback(async i=>{await Mb(Wl(Pr,"orders"),i)},[]);return{orders:t,loading:n,addOrder:s}}function Bt(t){return`${Math.round(t).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")} `}function ZF({products:t,addProduct:e,updateProduct:n,deleteProduct:r}){const[s,i]=I.useState(!1),[o,a]=I.useState(null),[u,c]=I.useState(""),[d,h]=I.useState(""),[p,m]=I.useState(""),[x,y]=I.useState(""),T=()=>{c(""),h(""),m(""),y(""),a(null),i(!1)},_=async O=>{O.preventDefault(),!(!u||!d||!p)&&(o?await n(o,{name:u,price:+d,quantity:+p,image:x||void 0}):await e({name:u,price:+d,quantity:+p,image:x||void 0}),T())},w=O=>{a(O.id),c(O.name),h(String(O.price)),m(String(O.quantity)),y(O.image||""),i(!0)},b=(O,M)=>{const E=t.find(S=>S.id===O);E&&n(O,{quantity:Math.max(0,E.quantity+M)})},D=O=>{var A;const M=(A=O.target.files)==null?void 0:A[0];if(!M)return;const E=new Image,S=new FileReader;S.onload=()=>{E.onload=()=>{const R=document.createElement("canvas"),k=400;let N=E.width,P=E.height;N>P?N>k&&(P=P*k/N,N=k):P>k&&(N=N*k/P,P=k),R.width=N,R.height=P,R.getContext("2d").drawImage(E,0,0,N,P),y(R.toDataURL("image/jpeg",.7))},E.src=S.result},S.readAsDataURL(M)};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h2",{className:"text-2xl font-display font-bold",children:"Kho hng"}),v.jsxs("button",{onClick:()=>{T(),i(!0)},className:"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2.5 rounded-lg font-medium hover:opacity-90 transition-opacity",children:[v.jsx(Yp,{size:18})," Thm sn phm"]})]}),s&&v.jsxs("form",{onSubmit:_,className:"bg-card rounded-xl p-5 shadow-sm border border-border space-y-4",children:[v.jsx("h3",{className:"font-display font-semibold text-lg",children:o?"Sa sn phm":"Sn phm mi"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsx("input",{placeholder:"Tn sn phm",value:u,onChange:O=>c(O.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-input bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring",required:!0}),v.jsx("input",{type:"number",placeholder:"Gi",value:d,onChange:O=>h(O.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-input bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring",min:"0",step:"0.01",required:!0}),v.jsx("input",{type:"number",placeholder:"S lng",value:p,onChange:O=>m(O.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-input bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring",min:"0",required:!0}),v.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"w-full px-4 py-2.5 rounded-lg border border-input bg-background text-foreground file:mr-3 file:rounded-md file:border-0 file:bg-secondary file:px-3 file:py-1 file:text-sm file:font-medium"})]}),x&&v.jsx("img",{src:x,alt:"Xem trc",className:"h-20 w-20 object-cover rounded-lg border border-border"}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{type:"submit",className:"bg-primary text-primary-foreground px-5 py-2.5 rounded-lg font-medium hover:opacity-90 transition-opacity",children:o?"Cp nht":"Thm"}),v.jsx("button",{type:"button",onClick:T,className:"bg-secondary text-secondary-foreground px-5 py-2.5 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Hy"})]})]}),t.length===0?v.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[v.jsx(Rl,{size:48,className:"mx-auto mb-4 opacity-40"}),v.jsx("p",{className:"text-lg",children:"Cha c sn phm. Hy thm sn phm u tin!"})]}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(O=>v.jsxs("div",{className:"bg-card rounded-xl border border-border shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[O.image?v.jsx("img",{src:O.image,alt:O.name,className:"w-full h-40 object-cover"}):v.jsx("div",{className:"w-full h-40 bg-secondary flex items-center justify-center",children:v.jsx(Rl,{size:40,className:"text-muted-foreground opacity-40"})}),v.jsxs("div",{className:"p-4 space-y-3",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-display font-semibold text-lg truncate",children:O.name}),v.jsx("p",{className:"text-primary font-bold text-xl",children:Bt(O.price)})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:()=>b(O.id,-1),className:"w-8 h-8 rounded-lg bg-secondary flex items-center justify-center hover:bg-border transition-colors",children:v.jsx(ex,{size:14})}),v.jsx("span",{className:`font-semibold min-w-[2rem] text-center ${O.quantity===0?"text-destructive":""}`,children:O.quantity}),v.jsx("button",{onClick:()=>b(O.id,1),className:"w-8 h-8 rounded-lg bg-secondary flex items-center justify-center hover:bg-border transition-colors",children:v.jsx(Yp,{size:14})})]}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx("button",{onClick:()=>w(O),className:"w-8 h-8 rounded-lg bg-secondary flex items-center justify-center hover:bg-border transition-colors",children:v.jsx(vk,{size:14})}),v.jsx("button",{onClick:()=>r(O.id),className:"w-8 h-8 rounded-lg bg-destructive/10 text-destructive flex items-center justify-center hover:bg-destructive/20 transition-colors",children:v.jsx(nx,{size:14})})]})]})]})]},O.id))})]})}var qf="focusScope.autoFocusOnMount",Kf="focusScope.autoFocusOnUnmount",H_={bubbles:!1,cancelable:!0},e6="FocusScope",Fb=I.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,u]=I.useState(null),c=cr(s),d=cr(i),h=I.useRef(null),p=Ot(e,y=>u(y)),m=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(r){let y=function(b){if(m.paused||!a)return;const D=b.target;a.contains(D)?h.current=D:is(h.current,{select:!0})},T=function(b){if(m.paused||!a)return;const D=b.relatedTarget;D!==null&&(a.contains(D)||is(h.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const O of b)O.removedNodes.length>0&&is(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",T);const w=new MutationObserver(_);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",T),w.disconnect()}}},[r,a,m.paused]),I.useEffect(()=>{if(a){K_.add(m);const y=document.activeElement;if(!a.contains(y)){const _=new CustomEvent(qf,H_);a.addEventListener(qf,c),a.dispatchEvent(_),_.defaultPrevented||(t6(o6(Ub(a)),{select:!0}),document.activeElement===y&&is(a))}return()=>{a.removeEventListener(qf,c),setTimeout(()=>{const _=new CustomEvent(Kf,H_);a.addEventListener(Kf,d),a.dispatchEvent(_),_.defaultPrevented||is(y??document.body,{select:!0}),a.removeEventListener(Kf,d),K_.remove(m)},0)}}},[a,c,d,m]);const x=I.useCallback(y=>{if(!n&&!r||m.paused)return;const T=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(T&&_){const w=y.currentTarget,[b,D]=n6(w);b&&D?!y.shiftKey&&_===D?(y.preventDefault(),n&&is(b,{select:!0})):y.shiftKey&&_===b&&(y.preventDefault(),n&&is(D,{select:!0})):_===w&&y.preventDefault()}},[n,r,m.paused]);return v.jsx(Ze.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});Fb.displayName=e6;function t6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(is(r,{select:e}),document.activeElement!==n)return}function n6(t){const e=Ub(t),n=q_(e,t),r=q_(e.reverse(),t);return[n,r]}function Ub(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function q_(t,e){for(const n of t)if(!r6(n,{upTo:e}))return n}function r6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function s6(t){return t instanceof HTMLInputElement&&"select"in t}function is(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&s6(t)&&e&&t.select()}}var K_=i6();function i6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=G_(t,e),t.unshift(e)},remove(e){var n;t=G_(t,e),(n=t[0])==null||n.resume()}}}function G_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function o6(t){return t.filter(e=>e.tagName!=="A")}var Gf=0;function a6(){I.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Q_()),document.body.insertAdjacentElement("beforeend",t[1]??Q_()),Gf++,()=>{Gf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gf--}},[])}function Q_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var tr=function(){return tr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tr.apply(this,arguments)};function zb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function l6(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Oc="right-scroll-bar-position",Mc="width-before-scroll-bar",u6="with-scroll-bars-hidden",c6="--removed-body-scroll-bar-size";function Qf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function d6(t,e){var n=I.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var h6=typeof window<"u"?I.useLayoutEffect:I.useEffect,Y_=new WeakMap;function f6(t,e){var n=d6(null,function(r){return t.forEach(function(s){return Qf(s,r)})});return h6(function(){var r=Y_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Qf(a,null)}),i.forEach(function(a){s.has(a)||Qf(a,o)})}Y_.set(n,t)},[t]),n}function p6(t){return t}function m6(t,e){e===void 0&&(e=p6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var u=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function g6(t){t===void 0&&(t={});var e=m6(null);return e.options=tr({async:!0,ssr:!1},t),e}var $b=function(t){var e=t.sideCar,n=zb(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return I.createElement(r,tr({},n))};$b.isSideCarExport=!0;function y6(t,e){return t.useMedium(e),$b}var Bb=g6(),Yf=function(){},Nh=I.forwardRef(function(t,e){var n=I.useRef(null),r=I.useState({onScrollCapture:Yf,onWheelCapture:Yf,onTouchMoveCapture:Yf}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,m=t.noRelative,x=t.noIsolation,y=t.inert,T=t.allowPinchZoom,_=t.as,w=_===void 0?"div":_,b=t.gapMode,D=zb(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=p,M=f6([n,e]),E=tr(tr({},D),s);return I.createElement(I.Fragment,null,d&&I.createElement(O,{sideCar:Bb,removeScrollBar:c,shards:h,noRelative:m,noIsolation:x,inert:y,setCallbacks:i,allowPinchZoom:!!T,lockRef:n,gapMode:b}),o?I.cloneElement(I.Children.only(a),tr(tr({},E),{ref:M})):I.createElement(w,tr({},E,{className:u,ref:M}),a))});Nh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nh.classNames={fullWidth:Mc,zeroRight:Oc};var v6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function w6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=v6();return e&&t.setAttribute("nonce",e),t}function _6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function E6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var T6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=w6())&&(_6(e,n),E6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},x6=function(){var t=T6();return function(e,n){I.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Wb=function(){var t=x6(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},S6={left:0,top:0,right:0,gap:0},Xf=function(t){return parseInt(t||"",10)||0},I6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Xf(n),Xf(r),Xf(s)]},b6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return S6;var e=I6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},C6=Wb(),Po="data-scroll-locked",A6=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(u6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Po,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Mc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Oc," .").concat(Oc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mc," .").concat(Mc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Po,`] {
    `).concat(c6,": ").concat(a,`px;
  }
`)},X_=function(){var t=parseInt(document.body.getAttribute(Po)||"0",10);return isFinite(t)?t:0},R6=function(){I.useEffect(function(){return document.body.setAttribute(Po,(X_()+1).toString()),function(){var t=X_()-1;t<=0?document.body.removeAttribute(Po):document.body.setAttribute(Po,t.toString())}},[])},P6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;R6();var i=I.useMemo(function(){return b6(s)},[s]);return I.createElement(C6,{styles:A6(i,!e,s,n?"":"!important")})},Om=!1;if(typeof window<"u")try{var sc=Object.defineProperty({},"passive",{get:function(){return Om=!0,!0}});window.addEventListener("test",sc,sc),window.removeEventListener("test",sc,sc)}catch{Om=!1}var Qi=Om?{passive:!1}:!1,k6=function(t){return t.tagName==="TEXTAREA"},Hb=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!k6(t)&&n[e]==="visible")},N6=function(t){return Hb(t,"overflowY")},D6=function(t){return Hb(t,"overflowX")},J_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=qb(t,r);if(s){var i=Kb(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},O6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},M6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},qb=function(t,e){return t==="v"?N6(e):D6(e)},Kb=function(t,e){return t==="v"?O6(e):M6(e)},L6=function(t,e){return t==="h"&&e==="rtl"?-1:1},V6=function(t,e,n,r,s){var i=L6(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,u=e.contains(a),c=!1,d=o>0,h=0,p=0;do{if(!a)break;var m=Kb(t,a),x=m[0],y=m[1],T=m[2],_=y-T-i*x;(x||_)&&qb(t,a)&&(h+=_,p+=x);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},ic=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Z_=function(t){return[t.deltaX,t.deltaY]},e1=function(t){return t&&"current"in t?t.current:t},j6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},F6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},U6=0,Yi=[];function z6(t){var e=I.useRef([]),n=I.useRef([0,0]),r=I.useRef(),s=I.useState(U6++)[0],i=I.useState(Wb)[0],o=I.useRef(t);I.useEffect(function(){o.current=t},[t]),I.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=l6([t.lockRef.current],(t.shards||[]).map(e1),!0).filter(Boolean);return y.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=I.useCallback(function(y,T){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var _=ic(y),w=n.current,b="deltaX"in y?y.deltaX:w[0]-_[0],D="deltaY"in y?y.deltaY:w[1]-_[1],O,M=y.target,E=Math.abs(b)>Math.abs(D)?"h":"v";if("touches"in y&&E==="h"&&M.type==="range")return!1;var S=J_(E,M);if(!S)return!0;if(S?O=E:(O=E==="v"?"h":"v",S=J_(E,M)),!S)return!1;if(!r.current&&"changedTouches"in y&&(b||D)&&(r.current=O),!O)return!0;var A=r.current||O;return V6(A,T,y,A==="h"?b:D,!0)},[]),u=I.useCallback(function(y){var T=y;if(!(!Yi.length||Yi[Yi.length-1]!==i)){var _="deltaY"in T?Z_(T):ic(T),w=e.current.filter(function(O){return O.name===T.type&&(O.target===T.target||T.target===O.shadowParent)&&j6(O.delta,_)})[0];if(w&&w.should){T.cancelable&&T.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(e1).filter(Boolean).filter(function(O){return O.contains(T.target)}),D=b.length>0?a(T,b[0]):!o.current.noIsolation;D&&T.cancelable&&T.preventDefault()}}},[]),c=I.useCallback(function(y,T,_,w){var b={name:y,delta:T,target:_,should:w,shadowParent:$6(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(D){return D!==b})},1)},[]),d=I.useCallback(function(y){n.current=ic(y),r.current=void 0},[]),h=I.useCallback(function(y){c(y.type,Z_(y),y.target,a(y,t.lockRef.current))},[]),p=I.useCallback(function(y){c(y.type,ic(y),y.target,a(y,t.lockRef.current))},[]);I.useEffect(function(){return Yi.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",u,Qi),document.addEventListener("touchmove",u,Qi),document.addEventListener("touchstart",d,Qi),function(){Yi=Yi.filter(function(y){return y!==i}),document.removeEventListener("wheel",u,Qi),document.removeEventListener("touchmove",u,Qi),document.removeEventListener("touchstart",d,Qi)}},[]);var m=t.removeScrollBar,x=t.inert;return I.createElement(I.Fragment,null,x?I.createElement(i,{styles:F6(s)}):null,m?I.createElement(P6,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function $6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const B6=y6(Bb,z6);var Gb=I.forwardRef(function(t,e){return I.createElement(Nh,tr({},t,{ref:e,sideCar:B6}))});Gb.classNames=Nh.classNames;var W6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xi=new WeakMap,oc=new WeakMap,ac={},Jf=0,Qb=function(t){return t&&(t.host||Qb(t.parentNode))},H6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Qb(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},q6=function(t,e,n,r){var s=H6(e,Array.isArray(t)?t:[t]);ac[n]||(ac[n]=new WeakMap);var i=ac[n],o=[],a=new Set,u=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),x=m!==null&&m!=="false",y=(Xi.get(p)||0)+1,T=(i.get(p)||0)+1;Xi.set(p,y),i.set(p,T),o.push(p),y===1&&x&&oc.set(p,!0),T===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return d(e),a.clear(),Jf++,function(){o.forEach(function(h){var p=Xi.get(h)-1,m=i.get(h)-1;Xi.set(h,p),i.set(h,m),p||(oc.has(h)||h.removeAttribute(r),oc.delete(h)),m||h.removeAttribute(n)}),Jf--,Jf||(Xi=new WeakMap,Xi=new WeakMap,oc=new WeakMap,ac={})}},K6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=W6(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),q6(r,s,n,"aria-hidden")):function(){return null}},Dh="Dialog",[Yb,D5]=tu(Dh),[G6,Fn]=Yb(Dh),Xb=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=I.useRef(null),u=I.useRef(null),[c,d]=PT({prop:r,defaultProp:s??!1,onChange:i,caller:Dh});return v.jsx(G6,{scope:e,triggerRef:a,contentRef:u,contentId:Af(),titleId:Af(),descriptionId:Af(),open:c,onOpenChange:d,onOpenToggle:I.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};Xb.displayName=Dh;var Jb="DialogTrigger",Q6=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Fn(Jb,n),i=Ot(e,s.triggerRef);return v.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$y(s.open),...r,ref:i,onClick:Le(t.onClick,s.onOpenToggle)})});Q6.displayName=Jb;var Uy="DialogPortal",[Y6,Zb]=Yb(Uy,{forceMount:void 0}),eC=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Fn(Uy,e);return v.jsx(Y6,{scope:e,forceMount:n,children:I.Children.map(r,o=>v.jsx(sa,{present:n||i.open,children:v.jsx(Pg,{asChild:!0,container:s,children:o})}))})};eC.displayName=Uy;var Od="DialogOverlay",tC=I.forwardRef((t,e)=>{const n=Zb(Od,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Fn(Od,t.__scopeDialog);return i.modal?v.jsx(sa,{present:r||i.open,children:v.jsx(J6,{...s,ref:e})}):null});tC.displayName=Od;var X6=od("DialogOverlay.RemoveScroll"),J6=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Fn(Od,n);return v.jsx(Gb,{as:X6,allowPinchZoom:!0,shards:[s.contentRef],children:v.jsx(Ze.div,{"data-state":$y(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Vi="DialogContent",nC=I.forwardRef((t,e)=>{const n=Zb(Vi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Fn(Vi,t.__scopeDialog);return v.jsx(sa,{present:r||i.open,children:i.modal?v.jsx(Z6,{...s,ref:e}):v.jsx(e5,{...s,ref:e})})});nC.displayName=Vi;var Z6=I.forwardRef((t,e)=>{const n=Fn(Vi,t.__scopeDialog),r=I.useRef(null),s=Ot(e,n.contentRef,r);return I.useEffect(()=>{const i=r.current;if(i)return K6(i)},[]),v.jsx(rC,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Le(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Le(t.onFocusOutside,i=>i.preventDefault())})}),e5=I.forwardRef((t,e)=>{const n=Fn(Vi,t.__scopeDialog),r=I.useRef(!1),s=I.useRef(!1);return v.jsx(rC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),rC=I.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Fn(Vi,n),u=I.useRef(null),c=Ot(e,u);return a6(),v.jsxs(v.Fragment,{children:[v.jsx(Fb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:v.jsx(Xd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":$y(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(t5,{titleId:a.titleId}),v.jsx(r5,{contentRef:u,descriptionId:a.descriptionId})]})]})}),zy="DialogTitle",sC=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Fn(zy,n);return v.jsx(Ze.h2,{id:s.titleId,...r,ref:e})});sC.displayName=zy;var iC="DialogDescription",oC=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Fn(iC,n);return v.jsx(Ze.p,{id:s.descriptionId,...r,ref:e})});oC.displayName=iC;var aC="DialogClose",lC=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Fn(aC,n);return v.jsx(Ze.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,()=>s.onOpenChange(!1))})});lC.displayName=aC;function $y(t){return t?"open":"closed"}var uC="DialogTitleWarning",[O5,cC]=mP(uC,{contentName:Vi,titleName:zy,docsSlug:"dialog"}),t5=({titleId:t})=>{const e=cC(uC),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return I.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},n5="DialogDescriptionWarning",r5=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cC(n5).contentName}}.`;return I.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},s5=Xb,i5=eC,dC=tC,hC=nC,fC=sC,pC=oC,o5=lC;const a5=s5,l5=i5,mC=I.forwardRef(({className:t,...e},n)=>v.jsx(dC,{ref:n,className:vn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));mC.displayName=dC.displayName;const gC=I.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(l5,{children:[v.jsx(mC,{}),v.jsxs(hC,{ref:r,className:vn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,v.jsxs(o5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[v.jsx(ix,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gC.displayName=hC.displayName;const yC=({className:t,...e})=>v.jsx("div",{className:vn("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});yC.displayName="DialogHeader";const vC=I.forwardRef(({className:t,...e},n)=>v.jsx(fC,{ref:n,className:vn("text-lg font-semibold leading-none tracking-tight",t),...e}));vC.displayName=fC.displayName;const u5=I.forwardRef(({className:t,...e},n)=>v.jsx(pC,{ref:n,className:vn("text-sm text-muted-foreground",t),...e}));u5.displayName=pC.displayName;function c5({open:t,onClose:e,onConfirm:n,total:r,cart:s}){const i=s.map(a=>`${a.product.name} x${a.quantity}`).join(", "),o=`https://qr.sepay.vn/img?bank=MBBank&acc=0333502878&template=qronly&amount=${r}&des=${encodeURIComponent(i)}`;return v.jsx(a5,{open:t,onOpenChange:a=>{a||e()},children:v.jsxs(gC,{className:"sm:max-w-md",children:[v.jsx(yC,{children:v.jsxs(vC,{className:"flex items-center gap-2",children:[v.jsx(wk,{size:20,className:"text-primary"}),"Thanh ton QR"]})}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx("img",{src:o,alt:"QR Thanh ton",className:"w-64 h-64 rounded-xl border border-border object-contain bg-white"})}),v.jsxs("div",{className:"text-center space-y-1",children:[v.jsx("p",{className:"text-2xl font-display font-bold text-primary",children:Bt(r)}),v.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-full px-4",children:i})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("button",{onClick:n,className:"flex-1 bg-primary text-primary-foreground py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:[v.jsx(mk,{size:18}),"  thanh ton"]}),v.jsxs("button",{onClick:e,className:"flex-1 bg-secondary text-secondary-foreground py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:[v.jsx(gk,{size:18})," Hy"]})]})]})]})})}function d5({products:t,updateProduct:e,addOrder:n,staffName:r}){const[s,i]=I.useState(""),[o,a]=I.useState([]),[u,c]=I.useState(""),[d,h]=I.useState(!1),[p,m]=I.useState(null),x=I.useRef(null),y=t.filter(E=>E&&E.name&&E.name.toLowerCase().includes(s.toLowerCase())&&typeof E.price=="number"),T=E=>{if(E.quantity<=0){Ji.error("Ht hng!");return}const S=o.find(A=>A.product.id===E.id);if(S){if(S.quantity>=E.quantity){Ji.error("Khng  hng trong kho!");return}a(o.map(A=>A.product.id===E.id?{...A,quantity:A.quantity+1}:A))}else a([...o,{product:E,quantity:1}])},_=(E,S)=>{const A=o.find(N=>N.product.id===E);if(!A)return;const R=A.quantity+S;if(R<=0){a(o.filter(N=>N.product.id!==E));return}const k=t.find(N=>N.id===E);if(k&&R>k.quantity){Ji.error("Khng  hng trong kho!");return}a(o.map(N=>N.product.id===E?{...N,quantity:R}:N))},w=E=>a(o.filter(S=>S.product.id!==E)),b=o.reduce((E,S)=>E+S.product.price*S.quantity,0),D=()=>{o.length!==0&&h(!0)},O=async()=>{h(!1);const E=[...o],S=u,A={date:new Date().toISOString(),items:o.map(k=>({name:k.product.name,quantity:k.quantity,unitPrice:k.product.price,subtotal:k.product.price*k.quantity})),total:b,note:u,staffName:r};await n(A);for(const k of o){const N=t.find(P=>P.id===k.product.id);N&&await e(N.id,{quantity:N.quantity-k.quantity})}a([]),c(""),x.current&&clearTimeout(x.current);const R=setTimeout(()=>{m(null)},3e3);x.current=R,m({cart:E,note:S,timeoutId:R}),Ji.success("Thanh ton thnh cng!",{duration:3e3})},M=async()=>{if(p){clearTimeout(p.timeoutId);for(const E of p.cart){const S=t.find(A=>A.id===E.product.id);S&&await e(S.id,{quantity:S.quantity+E.quantity})}a(p.cart),c(p.note),m(null),Ji.info(" hon tc n hng!")}};return I.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[v.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[v.jsx("h2",{className:"text-2xl font-display font-bold",children:"Bn hng"}),v.jsxs("div",{className:"relative",children:[v.jsx(_k,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),v.jsx("input",{placeholder:"Tm sn phm...",value:s,onChange:E=>i(E.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-input bg-card text-foreground focus:outline-none focus:ring-2 focus:ring-ring"})]}),y.length===0?v.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[v.jsx(Rl,{size:40,className:"mx-auto mb-3 opacity-40"}),v.jsx("p",{children:"Khng tm thy sn phm"})]}):v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:y.map(E=>v.jsxs("button",{onClick:()=>T(E),disabled:E.quantity<=0,className:"bg-card rounded-xl border border-border p-3 text-left hover:shadow-md hover:border-primary/30 transition-all disabled:opacity-40 disabled:cursor-not-allowed",children:[E.image?v.jsx("img",{src:E.image,alt:E.name,className:"w-full h-24 object-cover rounded-lg mb-2"}):v.jsx("div",{className:"w-full h-24 bg-secondary rounded-lg mb-2 flex items-center justify-center",children:v.jsx(Rl,{size:24,className:"text-muted-foreground opacity-40"})}),v.jsx("p",{className:"font-medium text-sm truncate",children:E.name}),v.jsxs("div",{className:"flex justify-between items-center mt-1",children:[v.jsx("span",{className:"text-primary font-bold",children:Bt(E.price)}),v.jsx("span",{className:`text-xs ${E.quantity===0?"text-destructive font-semibold":"text-muted-foreground"}`,children:E.quantity===0?"Ht":`Cn ${E.quantity}`})]})]},E.id))})]}),v.jsxs("div",{className:"lg:col-span-2",children:[p&&v.jsxs("button",{onClick:M,className:"w-full mb-3 bg-accent text-accent-foreground py-3 rounded-lg font-semibold flex items-center justify-center gap-2 animate-pulse hover:opacity-90 transition-opacity",children:[v.jsx(Sk,{size:18})," Hon tc n hng (3s)"]}),v.jsxs("div",{className:"bg-card rounded-xl border border-border shadow-sm sticky top-4",children:[v.jsxs("div",{className:"p-4 border-b border-border flex items-center gap-2",children:[v.jsx(Og,{size:20,className:"text-primary"}),v.jsx("h3",{className:"font-display font-semibold text-lg",children:"Gi hng"}),v.jsxs("span",{className:"ml-auto text-sm text-muted-foreground",children:[o.length," sn phm"]})]}),v.jsx("div",{className:"p-4 space-y-3 max-h-[50vh] overflow-y-auto scrollbar-thin",children:o.length===0?v.jsx("p",{className:"text-center text-muted-foreground py-8 text-sm",children:"Gi hng trng"}):o.map(E=>v.jsxs("div",{className:"flex items-center gap-3 bg-secondary/50 rounded-lg p-3",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"font-medium text-sm truncate",children:E.product.name}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[Bt(E.product.price),"  ",E.quantity]})]}),v.jsxs("div",{className:"flex items-center gap-1.5",children:[v.jsx("button",{onClick:()=>_(E.product.id,-1),className:"w-7 h-7 rounded bg-background border border-border flex items-center justify-center hover:bg-muted transition-colors",children:v.jsx(ex,{size:12})}),v.jsx("span",{className:"text-sm font-semibold w-6 text-center",children:E.quantity}),v.jsx("button",{onClick:()=>_(E.product.id,1),className:"w-7 h-7 rounded bg-background border border-border flex items-center justify-center hover:bg-muted transition-colors",children:v.jsx(Yp,{size:12})}),v.jsx("button",{onClick:()=>w(E.product.id),className:"w-7 h-7 rounded bg-destructive/10 text-destructive flex items-center justify-center hover:bg-destructive/20 transition-colors ml-1",children:v.jsx(nx,{size:12})})]}),v.jsx("p",{className:"font-bold text-sm w-20 text-right",children:Bt(E.product.price*E.quantity)})]},E.product.id))}),o.length>0&&v.jsxs("div",{className:"p-4 border-t border-border space-y-3",children:[v.jsx("textarea",{placeholder:"Thm ghi ch (khng bt buc)...",value:u,onChange:E=>c(E.target.value),rows:2,className:"w-full px-3 py-2 rounded-lg border border-input bg-background text-foreground text-sm resize-none focus:outline-none focus:ring-2 focus:ring-ring"}),v.jsxs("div",{className:"flex justify-between items-center text-lg font-display font-bold",children:[v.jsx("span",{children:"Tng cng"}),v.jsx("span",{className:"text-primary",children:Bt(b)})]}),v.jsxs("button",{onClick:D,className:"w-full bg-primary text-primary-foreground py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:[v.jsx(ad,{size:18})," Thanh ton"]})]})]})]}),v.jsx(c5,{open:d,onClose:()=>h(!1),onConfirm:O,total:b,cart:o})]})}function h5({orders:t}){const e=t.filter(o=>o&&o.items&&o.date),n=e.length,r=e.reduce((o,a)=>o+(a.total||0),0),s=e.reduce((o,a)=>o+(a.items||[]).reduce((u,c)=>u+((c==null?void 0:c.quantity)||0),0),0),i=e.reduce((o,a)=>{const u=a.staffName||"Khng r";return o[u]||(o[u]={count:0,revenue:0}),o[u].count+=1,o[u].revenue+=a.total||0,o},{});return v.jsxs("div",{className:"space-y-6",children:[v.jsx("h2",{className:"text-2xl font-display font-bold",children:"Lch s n hng"}),n>0&&v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"bg-card rounded-xl border border-border p-4 flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:v.jsx(tx,{size:20,className:"text-primary"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Tng n hng"}),v.jsx("p",{className:"text-xl font-display font-bold",children:n})]})]}),v.jsxs("div",{className:"bg-card rounded-xl border border-border p-4 flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:v.jsx(rx,{size:20,className:"text-primary"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Tng doanh thu"}),v.jsx("p",{className:"text-xl font-display font-bold",children:Bt(r)})]})]}),v.jsxs("div",{className:"bg-card rounded-xl border border-border p-4 flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:v.jsx(ad,{size:20,className:"text-primary"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Tng SP  bn"}),v.jsx("p",{className:"text-xl font-display font-bold",children:s})]})]})]}),n>0&&Object.keys(i).length>0&&v.jsxs("div",{className:"bg-card rounded-xl border border-border p-4",children:[v.jsxs("h3",{className:"font-medium text-sm text-muted-foreground mb-3 flex items-center gap-2",children:[v.jsx(B0,{size:14})," Thng k theo nhn vin"]}),v.jsx("div",{className:"space-y-2",children:Object.entries(i).sort((o,a)=>a[1].revenue-o[1].revenue).map(([o,a])=>v.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border/50 last:border-0",children:[v.jsx("span",{className:"font-medium text-sm",children:o}),v.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[v.jsxs("span",{className:"text-muted-foreground",children:[a.count," n"]}),v.jsx("span",{className:"font-display font-bold text-primary",children:Bt(a.revenue)})]})]},o))})]}),e.length===0?v.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[v.jsx(ad,{size:48,className:"mx-auto mb-4 opacity-40"}),v.jsx("p",{className:"text-lg",children:"Cha c n hng. Hon tt bn hng  xem lch s."})]}):v.jsx("div",{className:"space-y-4",children:e.map(o=>v.jsxs("div",{className:"bg-card rounded-xl border border-border shadow-sm overflow-hidden",children:[v.jsxs("div",{className:"p-4 border-b border-border flex flex-wrap items-center gap-3",children:[v.jsx(hk,{size:16,className:"text-muted-foreground"}),v.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(o.date).toLocaleString("vi-VN")}),o.staffName&&v.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[v.jsx(B0,{size:12})," ",o.staffName]}),v.jsx("span",{className:"ml-auto font-display font-bold text-lg text-primary",children:Bt(o.total)})]}),v.jsxs("div",{className:"p-4",children:[v.jsxs("table",{className:"w-full text-sm",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"text-muted-foreground text-left",children:[v.jsx("th",{className:"pb-2 font-medium",children:"Sn phm"}),v.jsx("th",{className:"pb-2 font-medium text-center",children:"SL"}),v.jsx("th",{className:"pb-2 font-medium text-right",children:"n gi"}),v.jsx("th",{className:"pb-2 font-medium text-right",children:"Thnh tin"})]})}),v.jsx("tbody",{children:(o.items||[]).map((a,u)=>v.jsxs("tr",{className:"border-t border-border/50",children:[v.jsx("td",{className:"py-2",children:(a==null?void 0:a.name)||""}),v.jsx("td",{className:"py-2 text-center",children:(a==null?void 0:a.quantity)||0}),v.jsx("td",{className:"py-2 text-right",children:Bt((a==null?void 0:a.unitPrice)||0)}),v.jsx("td",{className:"py-2 text-right font-medium",children:Bt((a==null?void 0:a.subtotal)||0)})]},u))})]}),o.note&&v.jsxs("div",{className:"mt-3 flex items-start gap-2 text-sm text-muted-foreground bg-secondary/50 rounded-lg p-3",children:[v.jsx(xk,{size:14,className:"mt-0.5 shrink-0"}),v.jsx("p",{children:o.note})]})]})]},o.id))})]})}function f5(t){return t.toLocaleDateString("vi-VN",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"})}function p5(t){const e=new Date(t);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function m5({orders:t}){const[e,n]=I.useState(()=>{const a=new Date;return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}),r=a=>{const u=new Date(e);u.setDate(u.getDate()+a),n(`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}-${String(u.getDate()).padStart(2,"0")}`)},s=I.useMemo(()=>t.filter(a=>p5(a.date)===e),[t,e]),i=I.useMemo(()=>{const a=s.reduce((m,x)=>m+x.total,0),u=s.length,c=s.reduce((m,x)=>x.items.reduce((y,T)=>y+T.quantity,0)+m,0),d={};s.forEach(m=>{m.items.forEach(x=>{d[x.name]||(d[x.name]={name:x.name,qty:0,revenue:0}),d[x.name].qty+=x.quantity,d[x.name].revenue+=x.subtotal})});const h=Object.values(d).sort((m,x)=>x.revenue-m.revenue).slice(0,5),p={};return s.forEach(m=>{const x=new Date(m.date).getHours();p[x]=(p[x]||0)+m.total}),{totalRevenue:a,totalOrders:u,totalItems:c,topProducts:h,hourly:p}},[s]),o=Math.max(...Object.values(i.hourly),1);return v.jsxs("div",{className:"space-y-6",children:[v.jsx("h2",{className:"text-2xl font-display font-bold",children:"Thng k bn hng"}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:()=>r(-1),className:"w-9 h-9 rounded-lg bg-secondary flex items-center justify-center hover:bg-border transition-colors",children:v.jsx(fk,{size:18})}),v.jsxs("div",{className:"flex items-center gap-2 bg-card border border-border rounded-lg px-4 py-2.5",children:[v.jsx(dk,{size:16,className:"text-primary"}),v.jsx("input",{type:"date",value:e,onChange:a=>n(a.target.value),className:"bg-transparent text-foreground font-medium focus:outline-none"})]}),v.jsx("button",{onClick:()=>r(1),className:"w-9 h-9 rounded-lg bg-secondary flex items-center justify-center hover:bg-border transition-colors",children:v.jsx(pk,{size:18})}),v.jsx("span",{className:"text-sm text-muted-foreground hidden sm:inline",children:f5(new Date(e))})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"bg-card rounded-xl border border-border p-5 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:v.jsx(rx,{size:20,className:"text-primary"})}),v.jsx("span",{className:"text-sm text-muted-foreground",children:"Doanh thu"})]}),v.jsx("p",{className:"text-2xl font-display font-bold text-primary",children:Bt(i.totalRevenue)})]}),v.jsxs("div",{className:"bg-card rounded-xl border border-border p-5 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent/50 flex items-center justify-center",children:v.jsx(tx,{size:20,className:"text-accent-foreground"})}),v.jsx("span",{className:"text-sm text-muted-foreground",children:"n hng"})]}),v.jsx("p",{className:"text-2xl font-display font-bold",children:i.totalOrders})]}),v.jsxs("div",{className:"bg-card rounded-xl border border-border p-5 shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center",children:v.jsx(ZT,{size:20,className:"text-muted-foreground"})}),v.jsx("span",{className:"text-sm text-muted-foreground",children:"Sn phm bn ra"})]}),v.jsx("p",{className:"text-2xl font-display font-bold",children:i.totalItems})]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-card rounded-xl border border-border shadow-sm overflow-hidden",children:[v.jsx("div",{className:"p-4 border-b border-border",children:v.jsx("h3",{className:"font-display font-semibold",children:"Sn phm bn chy"})}),v.jsx("div",{className:"p-4",children:i.topProducts.length===0?v.jsx("p",{className:"text-center text-muted-foreground py-6 text-sm",children:"Cha c d liu"}):v.jsx("div",{className:"space-y-3",children:i.topProducts.map((a,u)=>v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"w-6 h-6 rounded-full bg-primary/10 text-primary text-xs font-bold flex items-center justify-center",children:u+1}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"font-medium text-sm truncate",children:a.name}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.qty," sn phm"]})]}),v.jsx("span",{className:"font-bold text-sm text-primary",children:Bt(a.revenue)})]},a.name))})})]}),v.jsxs("div",{className:"bg-card rounded-xl border border-border shadow-sm overflow-hidden",children:[v.jsx("div",{className:"p-4 border-b border-border",children:v.jsx("h3",{className:"font-display font-semibold",children:"Doanh thu theo gi"})}),v.jsx("div",{className:"p-4",children:Object.keys(i.hourly).length===0?v.jsx("p",{className:"text-center text-muted-foreground py-6 text-sm",children:"Cha c d liu"}):v.jsx("div",{className:"space-y-2",children:Array.from({length:24},(a,u)=>u).filter(a=>i.hourly[a]).map(a=>v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("span",{className:"text-xs text-muted-foreground w-12",children:[String(a).padStart(2,"0"),":00"]}),v.jsx("div",{className:"flex-1 bg-secondary rounded-full h-5 overflow-hidden",children:v.jsx("div",{className:"bg-primary h-full rounded-full transition-all",style:{width:`${i.hourly[a]/o*100}%`}})}),v.jsx("span",{className:"text-xs font-medium w-24 text-right",children:Bt(i.hourly[a])})]},a))})})]})]})]})}const Zf=[{value:"admin",label:"Admin",icon:Ek,color:"text-primary"},{value:"staff",label:"Staff",icon:Xp,color:"text-foreground"},{value:"none",label:"None",icon:Tk,color:"text-destructive"}];function g5(){const[t,e]=I.useState([]);I.useEffect(()=>Fy(Wl(Pr,"users"),s=>{e(s.docs.map(i=>({...i.data(),uid:i.id})))}),[]);const n=async(r,s)=>{await Dm(Hl(Pr,"users",r),{role:s},{merge:!0}),Ji.success(" cp nht quyn!")};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("h2",{className:"text-2xl font-display font-bold flex items-center gap-2",children:[v.jsx(sx,{size:24})," Qun l ngi dng"]}),t.length===0?v.jsx("p",{className:"text-center text-muted-foreground py-12",children:"Cha c ngi dng"}):v.jsx("div",{className:"space-y-3",children:t.map(r=>{var s;return Zf.find(i=>i.value===r.role)||Zf[2],v.jsxs("div",{className:"bg-card rounded-xl border border-border p-4 flex items-center gap-4",children:[r.photoURL?v.jsx("img",{src:r.photoURL,alt:"",className:"w-10 h-10 rounded-full"}):v.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center text-muted-foreground font-bold",children:((s=r.displayName)==null?void 0:s.charAt(0))||"?"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"font-medium text-sm truncate",children:r.displayName||r.email}),v.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r.email})]}),v.jsx("select",{value:r.role,onChange:i=>n(r.uid,i.target.value),className:"px-3 py-1.5 rounded-lg border border-input bg-background text-foreground text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:Zf.map(i=>v.jsx("option",{value:i.value,children:i.label},i.value))})]},r.uid)})})]})}const y5=()=>{const{user:t,appUser:e,role:n,logout:r}=kh(),{products:s,addProduct:i,updateProduct:o,deleteProduct:a}=XF(),{orders:u,addOrder:c}=JF(),d=n==="admin",h=n==="none",p=[...d?[{id:"inventory",label:"Kho hng",icon:Rl}]:[],...h?[]:[{id:"sales",label:"Bn hng",icon:Og}],...h?[]:[{id:"bills",label:"n hng",icon:ad}],...d?[{id:"stats",label:"Thng k",icon:ZT}]:[],...d?[{id:"users",label:"Ngi dng",icon:sx}]:[]],[m,x]=I.useState(d||h?"inventory":"sales");return v.jsxs("div",{className:"min-h-screen bg-background",children:[v.jsx("header",{className:"bg-card border-b border-border sticky top-0 z-30",children:v.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[v.jsxs("h1",{className:"font-display font-bold text-xl tracking-tight",children:[v.jsx("span",{className:"text-primary",children:"Qun l"})," Bn hng"]}),v.jsx("nav",{className:"flex gap-1 bg-secondary rounded-lg p-1",children:p.map(y=>{const T=y.icon;return v.jsxs("button",{onClick:()=>x(y.id),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all ${m===y.id?"bg-card text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:[v.jsx(T,{size:16}),v.jsx("span",{className:"hidden sm:inline",children:y.label})]},y.id)})}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[(t==null?void 0:t.photoURL)&&v.jsx("img",{src:t.photoURL,alt:"",className:"w-8 h-8 rounded-full"}),v.jsxs("div",{className:"hidden sm:block text-right",children:[v.jsx("p",{className:"text-xs font-medium truncate max-w-[120px]",children:e==null?void 0:e.displayName}),v.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[v.jsx(Xp,{size:10}),n==="admin"?"Admin":n==="none"?"Cha phn quyn":"Staff"]})]})]}),v.jsx("button",{onClick:r,className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:v.jsx(yk,{size:16})})]})]})}),v.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-6",children:[h&&v.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[v.jsx(Xp,{size:48,className:"mx-auto mb-4 opacity-40"}),v.jsx("p",{className:"text-lg",children:"Ti khon cha c phn quyn. Vui lng lin h Admin."})]}),m==="inventory"&&d&&v.jsx(ZF,{products:s,addProduct:i,updateProduct:o,deleteProduct:a}),m==="sales"&&!h&&v.jsx(d5,{products:s,updateProduct:o,addOrder:c,staffName:(e==null?void 0:e.displayName)||""}),m==="bills"&&!h&&v.jsx(h5,{orders:u}),m==="stats"&&d&&v.jsx(m5,{orders:u}),m==="users"&&d&&v.jsx(g5,{})]})]})};function v5(){const{user:t,loading:e,signInWithGoogle:n}=kh();return e?v.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:v.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):t?v.jsx(dS,{to:"/",replace:!0}):v.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:v.jsxs("div",{className:"w-full max-w-sm bg-card rounded-2xl border border-border shadow-lg p-8 space-y-6 text-center",children:[v.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/10 flex items-center justify-center mx-auto",children:v.jsx(Og,{size:32,className:"text-primary"})}),v.jsxs("div",{children:[v.jsx("h1",{className:"font-display text-2xl font-bold",children:"Qun l Bn hng"}),v.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"ng nhp  tip tc"})]}),v.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-3 bg-foreground text-background px-5 py-3 rounded-xl font-medium hover:opacity-90 transition-opacity",children:[v.jsxs("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"none",children:[v.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),v.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),v.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18A10.96 10.96 0 001 12c0 1.77.42 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),v.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"ng nhp bng Google"]})]})})}const w5=()=>{const t=lh();return I.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),v.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),v.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),v.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},_5=new QD;function E5({children:t}){const{user:e,loading:n}=kh();return n?v.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:v.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):e?v.jsx(v.Fragment,{children:t}):v.jsx(dS,{to:"/login",replace:!0})}const T5=()=>v.jsx(XD,{client:_5,children:v.jsx(YF,{children:v.jsxs(ID,{children:[v.jsx(oN,{}),v.jsx(jN,{}),v.jsx(BO,{children:v.jsxs(UO,{children:[v.jsx(xc,{path:"/login",element:v.jsx(v5,{})}),v.jsx(xc,{path:"/",element:v.jsx(E5,{children:v.jsx(y5,{})})}),v.jsx(xc,{path:"*",element:v.jsx(w5,{})})]})})]})})});xT(document.getElementById("root")).render(v.jsx(T5,{}));
